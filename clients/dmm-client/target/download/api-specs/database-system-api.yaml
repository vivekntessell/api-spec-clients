openapi: 3.0.3
info:
  title: Tessell Database System REST Web Services' API Documentation
  description: Tessell Database System REST Web Services' Api Documentation
  termsOfService: urn:tos <www.tessell.com/tc>
  version: '1.0'
servers:
  - url: http://localhost:8080
    description: Inferred Url
paths:
  /compute-resources/dbservers:
    get:
      tags:
        - tessell-compute-resource-controller
      summary: View a list of available Compute Resources
      operationId: getDbserverComputeResources
      parameters:
        - name: name
          in: query
          description: Filter Compute Resource based on name
          required: false
          style: form
          schema:
            type: string
            minLength: 1
            maxLength: 128
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDbserverComputeResourceListResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /compute-resources/dbservers/{id}:
    get:
      tags:
        - tessell-compute-resource-controller
      summary: Get a Compute Resource by ID
      operationId: getDbserverComputeResource
      parameters:
        - name: id
          in: path
          description: The ID of the Compute Resource
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDbserverComputeResourceDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-compute-resource-controller
      summary: Delete a Database Server
      operationId: deleteDbserverComputeResource
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/taskSummary
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /compute-resources/dbservers/sharing-enabled:
    get:
      tags:
        - tessell-compute-resource-controller
      summary: View a list of available Compute Resources that can be used for newer provisioning
      operationId: getSharingEnabledDbserverComputeResources
      parameters:
        - name: subscription-id
          in: query
          description: Filter Compute Resources based on subscription ID
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: engine-type
          in: query
          description: Filter Compute Resources based on engine type
          required: false
          style: form
          schema:
            $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        - name: cloud
          in: query
          description: Filter Compute Resources based on cloud type
          required: false
          style: form
          schema:
            $ref: 'common-specification.yaml#/components/schemas/cloudType'
        - name: region
          in: query
          description: Filter Compute Resources based on cloud region
          required: false
          style: form
          schema:
            type: string
            minLength: 1
            maxLength: 128
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SharableDbserverComputeResourceListResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/compute-resources/{id}/hosting-info:
    get:
      tags:
        - tessell-compute-resource-controller
      summary: Get a compute resource's hosting info by id
      operationId: getComputeResourceHostingInfoOps
      parameters:
        - name: id
          in: path
          description: Id of the compute resource
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: load-tenant-info
          in: query
          description: load-tenant-info
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: load-infra-config
          in: query
          description: load-infra-config
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: load-genie-config
          in: query
          description: load-genie-config
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: load-network-profile
          in: query
          description: load-network-profile
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ComputeResourceHostingInfo'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/compute-resources:
    get:
      tags:
        - tessell-compute-resource-controller
      summary: View a list of available Tessell Compute Resources
      operationId: getComputeResourcesOps
      parameters:
        - name: name
          in: query
          description: name
          required: false
          style: form
          schema:
            type: string
        - name: statuses
          in: query
          description: List of status to filter on
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/ComputeResourceStatusOps'
        - name: skip-statuses
          in: query
          description: List of status to skip
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/ComputeResourceStatusOps'
        - name: machine-type
          in: query
          description: machine-type
          required: false
          style: form
          schema:
            $ref: '#/components/schemas/MachineType'
        - name: engine-type
          in: query
          description: engine-type
          required: false
          style: form
          schema:
            $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        - name: cloud-account-id
          in: query
          description: cloud-account-id
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: cloud-resource-id
          in: query
          description: cloud-resource-id
          required: false
          style: form
          schema:
            type: string
        - name: cloud-location
          in: query
          description: cloud-location
          required: false
          style: form
          schema:
            type: string
        - name: tenant-id
          in: query
          description: tenant-id
          required: false
          style: form
          schema:
            type: string
        - name: types
          in: query
          description: compute-resource-type
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/ComputeResourceType'
        - name: subscription-id
          in: query
          description: Filter compute-resources based on subscription-id
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: compute-sharing-enabled
          in: query
          description: Filter compute-resources based on compute-sharing-enabled
          required: false
          style: form
          schema:
            type: boolean
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellComputeResourceListOpsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - tessell-compute-resource-controller
      summary: Create a new Tessell Compute Resource
      operationId: createComputeResourceOps
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellComputeResourceOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellComputeResourceOpsDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/compute-resources/{computeResourceId}/metadata/version/{version}:
    get:
      tags:
        - tessell-compute-resource-controller
      summary: View a list of available Tessell Compute Resource Metadata
      operationId: getComputeResourceMetadataUsingVersion
      parameters:
        - name: computeResourceId
          in: path
          description: computeResourceId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: version
          in: path
          description: version
          required: true
          style: simple
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellComputeResourceMetadata'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/compute-resources/{computeResourceId}/metadata:
    get:
      tags:
        - tessell-compute-resource-controller
      summary: View a list of available Tessell Compute Resource Metadata
      operationId: getComputeResourceMetadata
      parameters:
        - name: computeResourceId
          in: path
          description: computeResourceId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TessellComputeResourceMetadata'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - tessell-compute-resource-controller
      summary: Create a new Tessell Compute Resource Metadata
      operationId: createComputeResourceMetadata
      parameters:
        - name: computeResourceId
          in: path
          description: computeResourceId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellComputeResourceMetadata'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellComputeResourceMetadata'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/compute-resources/{id}:
    get:
      tags:
        - tessell-compute-resource-controller
      summary: View available Tessell Compute Resources By Id
      operationId: getComputeResourceOpsById
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellComputeResourceOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-compute-resource-controller
      summary: Delete a Tessell Compute Resource
      operationId: deleteComputeResource
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: soft-delete
          in: query
          description: soft-delete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - tessell-compute-resource-controller
      summary: Update a Tessell Compute Resource
      operationId: updateComputeResource
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellComputeResourceOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellComputeResourceOpsDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/compute-resources/{id}/agent-lcm:
    patch:
      tags:
        - tessell-compute-resource-controller
      summary: Update a DB Service Agent LCM Info
      operationId: updateComputeResourceAgentLcmInfoOps
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellAgentLcmInfo'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellAgentLcmInfo'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/compute-resources/{id}/library-upgrade-eligibility:
    get:
      tags:
        - tessell-compute-resource-controller
      summary: Check if Tessell libraries on a compute-resource related can be upgraded
      operationId: upgradeEligibilityForComputeResourceOps
      parameters:
        - name: id
          in: path
          description: Compute resource id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ComputeResourceUpgradeEligibilityOpsResponse'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services:
    get:
      tags:
        - tessell-service-controller
      summary: View a list of available DB Services Ops
      operationId: getTessellServicesOps
      parameters:
        - name: name
          in: query
          description: name
          required: false
          style: form
          schema:
            type: string
        - name: statuses
          in: query
          description: statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/TessellServiceStatusOps'
        - name: skip-statuses
          in: query
          description: skip-statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/TessellServiceStatusOps'
        - name: engine-types
          in: query
          description: engine-types
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        - name: load-instances
          in: query
          description: load-instances
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: load-databases
          in: query
          description: load-databases
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: include-external
          in: query
          description: include-external
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: include-internal
          in: query
          description: include-internal
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: cloned-from-service-id
          in: query
          description: The id of the DB Service from which the services are cloned
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: cloned-from-availability-machine-id
          in: query
          description: The id of the Availability Machine from which the services are cloned
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: network-profile-id
          in: query
          description: network-profile-id
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: subscription-ids
          in: query
          description: List of subscription ids
          required: false
          style: form
          schema:
            type: array
            items:
              type: string
              format: uuid
        - name: filter-on-last-started-time
          in: query
          description: filter-on-last-started-time
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: filter-on-last-stopped-time
          in: query
          description: filter-on-last-stopped-time
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: load-subscription-info
          in: query
          description: load-subscription-info
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: consumable-services-only
          in: query
          description: consumable-services-only
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: non-consumable-services-only
          in: query
          description: non-consumable-services-only
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/owners'
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeRangeBeginAt'
        - $ref: 'common-specification.yaml#/components/parameters/timeRangeEndAt'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServicesOpsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - tessell-service-controller
      summary: Create a DB Service Object (ops)
      operationId: createTessellServiceOps
      parameters:
        - name: ha-upgrade-old-service-id
          in: query
          description: If this entry is being created as part of HA upgrade flow, specify the old service (dbsystem) id
          required: false
          style: form
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellServiceOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceOpsDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/service-instances:
    get:
      tags:
        - tessell-service-instance-controller
      summary: View a list of available DB Services Instances
      operationId: getAllServiceInstancesOps
      parameters:
        - name: statuses
          in: query
          description: statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/TessellServiceInstanceStatusOps'
        - name: skip-statuses
          in: query
          description: skip-statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/TessellServiceInstanceStatusOps'
        - name: parameterProfileIds
          in: query
          description: parameterProfiles
          required: false
          style: form
          schema:
            type: array
            items:
              type: string
              format: uuid
        - name: load-compute-resources
          in: query
          description: load-compute-resources
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: consumable-instances-only
          in: query
          description: consumable-instances-only
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: non-consumable-instances-only
          in: query
          description: non-consumable-instances-only
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceInstancesOpsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{id}:
    get:
      tags:
        - tessell-service-controller
      summary: Get a DB Service By Id
      operationId: getTessellServiceOps
      parameters:
        - name: id
          in: path
          description: ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: load-instances
          in: query
          description: load-instances
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: load-databases
          in: query
          description: load-databases
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: load-subscription-info
          in: query
          description: load-subscription-info
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-service-controller
      summary: Delete a DB Service Metadata
      operationId: deleteTessellServiceOps
      parameters:
        - name: id
          in: path
          description: Id of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: soft-delete
          in: query
          description: soft-delete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - tessell-service-controller
      summary: Update a DB Service
      operationId: updateTessellServiceOps
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: reset-degrade-monitor-data
          in: query
          description: Specify if the service's degrade monitor is to be reset
          required: false
          style: form
          schema:
            type: boolean
            default: false
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellServiceOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceOpsDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{id}/agent-lcm:
    patch:
      tags:
        - tessell-service-controller
      summary: Update a DB Service Agent LCM Info
      operationId: updateTessellServiceAgentLcmInfoOps
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellAgentLcmInfo'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellAgentLcmInfo'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{id}/delete:
    delete:
      tags:
        - tessell-service-controller
      summary: Delete a DB Service Internal Request
      operationId: deleteTessellServiceOpsRequest
      parameters:
        - name: id
          in: path
          description: Id of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteTessellServicePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{id}/start:
    patch:
      tags:
        - tessell-service-controller
      summary: Start a DB Service Internal Request
      operationId: startTessellServiceOpsRequest
      parameters:
        - name: id
          in: path
          description: Id of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartTessellServiceOpsPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/callback/start:
    post:
      tags:
        - tessell-service-controller
      summary: Callback for start Tessell service
      operationId: startTessellServiceCallback
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartTessellServiceCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/compute-resources/callback/delete-server:
    post:
      tags:
        - tessell-compute-resource-controller
      summary: Callback for delete server
      operationId: deleteTessellServerCallback
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteTessellServerCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/callback/patch-software:
    post:
      tags:
        - tessell-service-controller
      summary: Callback for patch Tessell service
      operationId: patchTessellServiceCallback
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchTessellServiceCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{id}/genie:
    patch:
      tags:
        - tessell-service-controller
      summary: Update a DB Service's Genie Config Information Ops
      operationId: updateTessellServiceGenieConfigOps
      parameters:
        - name: id
          in: path
          description: Id of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellServiceGenieInfoOps'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceGenieInfoOps'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/service-instances:
    get:
      tags:
        - tessell-service-instance-controller
      summary: View a list of available DB Services Ops
      operationId: getTessellServiceInstancesOps
      parameters:
        - name: service-id
          in: path
          description: service-id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: name
          in: query
          description: name
          required: false
          style: form
          schema:
            type: string
        - name: statuses
          in: query
          description: statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/TessellServiceInstanceStatusOps'
        - name: skip-statuses
          in: query
          description: skip-statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/TessellServiceInstanceStatusOps'
        - name: load-compute-resources
          in: query
          description: load-compute-resources
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: consumable-instances-only
          in: query
          description: consumable-instances-only
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: non-consumable-instances-only
          in: query
          description: non-consumable-instances-only
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceInstancesOpsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - tessell-service-instance-controller
      summary: Create a DB Service Instance Object (ops)
      operationId: createTessellServiceInstanceOps
      parameters:
        - name: service-id
          in: path
          description: service-id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellServiceInstanceOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceInstanceOpsDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/service-instances/{instance-id}:
    get:
      tags:
        - tessell-service-instance-controller
      summary: Get a DB Service Instance By Id
      operationId: getTessellServiceInstanceOps
      parameters:
        - name: service-id
          in: path
          description: Id of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: instance-id
          in: path
          description: Id of the DB Service Instance
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: load-compute-resources
          in: query
          description: load-compute-resources
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceInstanceOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-service-instance-controller
      summary: Delete a DB Service Instance
      operationId: deleteTessellServiceInstanceOps
      parameters:
        - name: service-id
          in: path
          description: Id of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: instance-id
          in: path
          description: Id of the DB Service Instance
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: soft-delete
          in: query
          description: soft-delete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - tessell-service-instance-controller
      summary: Update a DB Service Instance
      operationId: updateTessellServiceInstanceOps
      parameters:
        - name: service-id
          in: path
          description: Id of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: instance-id
          in: path
          description: Id of the DB Service Instance
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: calling-from-health-monitor
          in: query
          description: calling-from-health-monitor
          required: false
          style: form
          schema:
            type: boolean
            default: false
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellServiceInstanceOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceInstanceOpsDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/service-instances/{instance-id}/agent-lcm:
    patch:
      tags:
        - tessell-service-instance-controller
      summary: Update a DB Service Instance's Agent LCM Info
      operationId: updateTessellServiceInstanceAgentLcmInfoOps
      parameters:
        - name: service-id
          in: path
          description: service-id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: instance-id
          in: path
          description: instance-id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellAgentLcmInfo'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellAgentLcmInfo'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/service-instances/delete:
    delete:
      tags:
        - tessell-service-instance-controller
      summary: Delete DB service Instances Internal Request
      operationId: deleteTessellServiceInstancesInternal
      parameters:
        - name: service-id
          in: path
          description: The id of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteTessellServiceInstancePayloadOps'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{id}/callback/resize:
    post:
      tags:
        - tessell-service-controller
      summary: Update the service status as per resize operation status
      operationId: resizeDBServiceCallback
      parameters:
        - name: id
          in: path
          description: The id of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResizeDBServiceRequestCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services:
    get:
      tags:
        - tessell-service-controller
      summary: View list of available DB Services
      operationId: getTessellServices
      x-terraform-resource: DBService
      x-terraform-operation: ReadList
      x-terraform:
        excludeParamsFromApiDefinition:
          - pageSize
          - pageOffset
          - timeZone
      parameters:
        - name: name
          in: query
          description: Filter DB Service based on name
          required: false
          style: form
          schema:
            type: string
            maxLength: 128
        - name: statuses
          in: query
          description: Filter DB Service based on status/es
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/TessellServiceStatus'
        - name: engine-types
          in: query
          description: Filter DB Service based on engine type
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        - name: cloned-from-service-id
          in: query
          description: Filter DB Service based on ID of the DB Service from which the services are cloned
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: cloned-from-availability-machine-id
          in: query
          description: Filter DB Service based on ID of the Availability Machine from which the services are cloned
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: load-instances
          in: query
          description: Load the instances that are part of the DB Service
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: load-databases
          in: query
          description: Load the databases that are part of the DB Service
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/owners'
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServicesResponse'
              examples:
                generic:
                  $ref: '#/components/examples/GetDbServices'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - tessell-service-controller
      summary: Provision a DB service
      operationId: provisionTessellService
      x-terraform-resource: DBService
      x-terraform-operation: Create
      x-terraform:
        resourceIdFromResponse: '*response.ResourceId'
        pollConfig:
          keyType: property
          property: Status
          pollBreakValue: READY
          valueType: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProvisionTessellServicePayload'
            examples:
              oracle_single_instance:
                $ref: '#/components/examples/ProvisionOracleSiDBService'
              oracle_ha:
                $ref: '#/components/examples/ProvisionOracleHaDBService'
              postgresql_single_instance:
                $ref: '#/components/examples/ProvisionPostgresSiDBService'
              postgresql_ha:
                $ref: '#/components/examples/ProvisionPostgresHaDBService'
              mysql_single_instance:
                $ref: '#/components/examples/ProvisionMySqlSiDBService'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
              examples:
                generic:
                  $ref: '#/components/examples/ProvisionDbServiceSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{id}:
    get:
      tags:
        - tessell-service-controller
      summary: Get a DB Service by Id
      operationId: getTessellService
      x-terraform-resource: DBService
      x-terraform-operation: Read
      x-terraform:
        schemaElemsFromResponse:
          primaryInstanceId: getPrimaryInstanceId(setResourceDataVarName)
        excludeParamsFromApiDefinition:
          - loadInstances
          - loadDatabases
          - loadAcls
          - timeZone
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: load-instances
          in: query
          description: Load the instances that are part of the DB Service
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: load-databases
          in: query
          description: Load the databases that are part of the DB Service
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceDTO'
              examples:
                oracle_single_instance:
                  $ref: '#/components/examples/OracleSiDBService'
                oracle_ha:
                  $ref: '#/components/examples/OracleHaDBService'
                postgresql_single_instance:
                  $ref: '#/components/examples/PostgresqlSiDBService'
                postgresql_ha:
                  $ref: '#/components/examples/PostgresqlHaDBService'
                mysql_single_instance:
                  $ref: '#/components/examples/MySqlSiDBService'
                oracle_clone:
                  $ref: '#/components/examples/OracleClonedDBService'
                cloned_postgresql:
                  $ref: '#/components/examples/PostgresqlClonedDBService'
                cloned_mysql:
                  $ref: '#/components/examples/MySqlClonedDBService'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    patch:
      tags:
        - tessell-service-controller
      summary: Update a DB service
      operationId: updateTessellService
      x-terraform-resource: DBService
      x-terraform-operation: Update
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTessellServicePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-service-controller
      summary: Delete a DB service
      operationId: deleteTessellService
      x-terraform-resource: DBService
      x-terraform-operation: Delete
      x-terraform:
        pollConfig:
          keyType: statusCode
          name: StatusCode
          pollBreakValue: 404
          valueType: int
          intervalInSec: 30
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteTessellServicePayload'
            example:
              deletionConfig:
                retainAvailabilityMachine: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
              examples:
                generic:
                  $ref: '#/components/examples/DeleteDbServiceSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{id}/timeline:
    get:
      tags:
        - tessell-service-controller
      summary: Get a DB timeline by service ID
      operationId: getTessellServiceTimeline
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceTimelineResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{id}/cleanup-entry:
    delete:
      tags:
        - tessell-service-controller
      summary: Cleanup a failed DB service entry
      operationId: cleanupFailedTessellServiceEntry
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{id}/service-instances:
    get:
      tags:
        - tessell-service-instance-controller
      summary: View a list of available DB Service instances
      operationId: getTessellServiceInstances
      parameters:
        - name: id
          in: path
          description: service id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: instance-group-id
          in: query
          description: Filter all instances belonging to specified instance-group-id
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceInstancesResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - tessell-service-controller
      summary: Add DB service Instances
      operationId: addTessellServiceInstances
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddDbServiceInstancesPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-service-controller
      summary: Delete DB service Instances
      operationId: deleteTessellServiceInstances
      parameters:
        - name: id
          in: path
          description: The id of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteTessellServiceInstancePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{service-id}/service-instances/{id}:
    get:
      tags:
        - tessell-service-instance-controller
      summary: Get a DB Service instance by Id
      operationId: getTessellServiceInstance
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/id'
        - $ref: common-specification.yaml#/components/parameters/timeZone
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceInstanceDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiError'
  /services/{id}/resize:
    patch:
      tags:
        - tessell-service-controller
      summary: Resize DB service storage/compute
      operationId: resizeDBService
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResizeDBServiceRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /availability-machines/{availability-machine-id}/clones:
    post:
      tags:
        - tessell-service-controller
      summary: Clone a DB service
      operationId: cloneTessellService
      x-terraform-resource: DBService
      x-terraform-operation: Create
      x-terraform:
        unique-attributes:
          - snapshotId
          - pitr
        resourceIdFromResponse: '*response.ResourceId'
        requestParametersFromSchema:
          availabilityMachineId: parentAvailabilityMachineId
      parameters:
        - name: availability-machine-id
          in: path
          description: The Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CloneTessellServicePayload'
            examples:
              clone_oracle:
                $ref: '#/components/examples/CloneOracleDBService'
              clone_postgresql:
                $ref: '#/components/examples/ClonePostgresDBService'
              clone_mysql:
                $ref: '#/components/examples/CloneMySqlDBService'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
              examples:
                generic:
                  $ref: '#/components/examples/CloneDbServiceSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/dmms/{availability-machine-id}/sanitization-clones:
    post:
      tags:
        - tessell-service-controller
      summary: Create a clone for backup sanitization
      operationId: cloneForBackupSanitization
      parameters:
        - name: availability-machine-id
          in: path
          description: The Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SanitizeBackupClonePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/dmms/{availability-machine-id}/native-backups:
    post:
      tags:
        - tessell-service-controller
      summary: Create a native backup
      operationId: cloneForNativeBackup
      parameters:
        - name: availability-machine-id
          in: path
          description: The Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateNativeBackupOpsPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services/{id}/connectivity:
    patch:
      tags:
        - tessell-service-controller
      summary: Update DB Service Connectivity
      operationId: updateTessellServiceConnectivity
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTessellServiceConnectivityPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/services/{service-id}/connectivity:
    patch:
      tags:
        - tessell-service-controller
      summary: Update Tessell service Connectivity internal API
      operationId: updateTessellServiceConnectivityOps
      parameters:
        - $ref: '#/components/parameters/service-id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateServiceConnectivityPayloadOps'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services/{id}/creds:
    get:
      tags:
        - tessell-service-controller
      summary: Get credentials for a DB Service
      operationId: getTessellServiceCredentials
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceCredsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    patch:
      tags:
        - tessell-service-controller
      summary: Update DB service credentials
      operationId: updateTessellServiceCredentials
      x-terraform-resource: DBService
      x-terraform-operation: Update
      x-terraform:
        triggers:
          - parameter: creds
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetTessellServiceCredsPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/services/{id}/failover:
    patch:
      tags:
        - tessell-service-controller
      summary: Failover a DB Service (for now, hidden from service consumers)
      operationId: failoverTessellServiceOps
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FailOverTessellServicePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services/{id}/switchover:
    patch:
      tags:
        - tessell-service-controller
      summary: Switchover a DB Service
      operationId: switchoverTessellService
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SwitchOverTessellServicePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/services/callback/switchover:
    post:
      tags:
        - tessell-service-controller
      summary: Callback for switchover Tessell service
      operationId: switchoverTessellServiceCallback
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SwitchoverTessellServiceCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services/{id}/restore:
    post:
      tags:
        - tessell-service-controller
      summary: Restore a DB Service
      operationId: restoreTessellService
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RestoreTessellServicePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{id}/integrations:
    patch:
      tags:
        - tessell-service-controller
      summary: Add/update an integration for the DB Service
      operationId: updateTessellServiceIntegration
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/TessellUpdateDatabaseIntegrationDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{service-id}/databases:
    post:
      tags:
        - tessell-database-controller
      summary: Create a new database in a DB service
      operationId: createTessellServiceDatabase
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service to which database will be added
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/CreateDatabasePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{service-id}/databases/{database-id}:
    patch:
      tags:
        - tessell-database-controller
      summary: Update a database
      operationId: updateTessellServiceDatabase
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: database-id
          in: path
          description: The ID of the database in the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDatabasePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-database-controller
      summary: Delete a database
      operationId: deleteTessellServiceDatabase
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: database-id
          in: path
          description: The ID of the database in the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{service-id}/databases/{database-id}/collections:
    get:
      tags:
        - tessell-collection-controller
      summary: Get all collections for the given database-id
      operationId: getDbCollections
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - name: name
          in: query
          required: false
          style: form
          schema:
            type: string
            minLength: 1
            maxLength: 128
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DbCollectionsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - tessell-collection-controller
      summary: Create a collection for given database ID
      operationId: createDbCollection
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DbCollectionCreatePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/services/{service-id}/databases/{database-id}/collections:
    get:
      tags:
        - tessell-collection-controller
      summary: Get all collection for given database-id
      operationId: getDbCollectionsOps
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - name: statuses
          in: query
          description: statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DbCollectionStatus'
        - name: skip-statuses
          in: query
          description: statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DbCollectionStatus'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DbCollectionsOpsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - tessell-collection-controller
      summary: Create a collection for given database-id
      operationId: createDbCollectionOps
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DbCollectionOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DbCollectionOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services/{service-id}/databases/{database-id}/collections/{collection-id}:
    get:
      tags:
        - tessell-collection-controller
      summary: Get all collections for given database ID
      operationId: getDbCollectionById
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DbCollectionDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    patch:
      tags:
        - tessell-collection-controller
      summary: Update collection for given collection ID
      operationId: updateDbCollection
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DbCollectionCreatePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DbCollectionDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-collection-controller
      summary: Delete collection for given collection ID
      operationId: deleteDbCollection
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteDbCollectionPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{service-id}/databases/{database-id}/collections/{collection-id}/load:
    post:
      tags:
        - tessell-collection-controller
      summary: Load collection into memory for given collection ID
      operationId: loadDbCollection
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoadCollectionPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{service-id}/databases/{database-id}/collections/{collection-id}/release:
    post:
      tags:
        - tessell-collection-controller
      summary: Release collection from memory for given collection name
      operationId: releaseDbCollection
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoadCollectionPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/services/{service-id}/databases/{database-id}/collections/{collection-id}:
    get:
      tags:
        - tessell-collection-controller
      summary: Get collection for given collection ID
      operationId: getDbCollectionByIdOps
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DbCollectionOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - tessell-collection-controller
      summary: Update collection for given collection ID
      operationId: updateDbCollectionOps
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DbCollectionOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DbCollectionOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-collection-controller
      summary: Delete collection for given collection ID
      operationId: deleteDbCollectionOps
      parameters:
        - name: service-id
          in: path
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: database-id
          in: path
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: collection-id
          in: path
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: soft-delete
          in: query
          description: soft-delete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/databases/{database-id}/collections/callback:
    post:
      tags:
        - tessell-collection-controller
      summary: Common Callback for create delete Collection
      operationId: collectionCallback
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CollectionsCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/databases:
    get:
      tags:
        - tessell-database-controller
      summary: Get databases
      operationId: getTessellServiceDatabasesOps
      parameters:
        - name: service-id
          in: path
          description: DB Service Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: name
          in: query
          description: name
          required: false
          style: form
          schema:
            type: string
        - name: status
          in: query
          description: list of status
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DatabaseStatusOps'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDatabasesOpsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - tessell-database-controller
      summary: Create a Database
      operationId: createDatabaseOps
      parameters:
        - name: service-id
          in: path
          description: DB Service Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellDatabaseOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDatabaseOpsDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services/{service-id}/databases/{database-id}/collections/{collection-id}/indices:
    get:
      tags:
        - tessell-collection-controller
      summary: Get all indices for the given collection ID
      operationId: getDbCollectionIndices
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
        - name: column-name
          in: query
          description: Column name
          required: false
          style: form
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DbCollectionsIndexResponse'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - tessell-collection-controller
      summary: Create a index for given collection ID
      operationId: createDbCollectionIndex
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DbCollectionIndexPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{service-id}/databases/{database-id}/collections/{collection-id}/indices/{index-id}:
    get:
      tags:
        - tessell-collection-controller
      summary: Get index for the given index ID
      operationId: getDbCollectionIndexById
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
        - name: index-id
          in: path
          description: Index ID
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DbCollectionIndexDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-collection-controller
      summary: Delete collection for given collection name
      operationId: deleteDbCollectionIndex
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
        - name: index-id
          in: path
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteDbCollectionIndexPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/services/{service-id}/databases/{database-id}/collections/{collection-id}/indices:
    get:
      tags:
        - tessell-collection-controller
      summary: Get all indices for the given collection ID
      operationId: getDbCollectionIndicesOps
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
        - name: statuses
          in: query
          description: statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DbCollectionIndexStatus'
        - name: skip-statuses
          in: query
          description: statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DbCollectionIndexStatus'
        - name: column-name
          in: query
          description: Column name
          required: false
          style: form
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DbCollectionIndexOpsResponse'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - tessell-collection-controller
      summary: Create a index for given collection-id
      operationId: createDbCollectionIndexOps
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DbCollectionIndexOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DbCollectionIndexOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/databases/{database-id}/collections/{collection-id}/indices/callback:
    post:
      tags:
        - tessell-collection-controller
      summary: Callback for Load Collections
      operationId: indicesCallback
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IndexCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/databases/{database-id}/collections/{collection-id}/indices/{index-id}:
    get:
      tags:
        - tessell-collection-controller
      summary: Get all indices for the given collection id
      operationId: getDbCollectionIndexByIdOps
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
        - name: index-id
          in: path
          description: Index Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DbCollectionIndexOpsDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - tessell-collection-controller
      summary: Update collection for given index id for given.
      operationId: updateDbCollectionIndexOps
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
        - name: index-id
          in: path
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DbCollectionIndexOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DbCollectionIndexOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-collection-controller
      summary: Delete Index for given collection index
      operationId: deleteDbCollectionIndexOps
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
        - name: index-id
          in: path
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: soft-delete
          in: query
          description: soft-delete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/databases/{database-id}/collections/{collection-id}/load/callback:
    post:
      tags:
        - tessell-collection-controller
      summary: Callback for Load Collections
      operationId: loadDbCollectionCallback
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoadCollectionCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/databases/{database-id}/collections/{collection-id}/release/callback:
    post:
      tags:
        - tessell-collection-controller
      summary: Callback for Load Collections
      operationId: releaseDbCollectionCallback
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/database-id'
        - $ref: '#/components/parameters/collection-id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReleaseCollectionCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/databases/create:
    post:
      tags:
        - tessell-database-controller
      summary: Create a new database in a Tessell service. Note that this is an "tessell-ops" version of post '/services/{service-id}/databases'
      operationId: createDatabaseOpsRequest
      parameters:
        - name: service-id
          in: path
          description: DB Service Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/CreateDatabasePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/databases/{id}:
    get:
      tags:
        - tessell-database-controller
      summary: View a Tessell Databases by Id
      operationId: getTessellServiceDatabaseOps
      parameters:
        - name: service-id
          in: path
          description: DB Service Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: Database Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDatabaseOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-database-controller
      summary: Delete a Tessell Database
      operationId: deleteTessellServiceDatabaseOps
      parameters:
        - name: service-id
          in: path
          description: DB Service Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: Database Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: soft-delete
          in: query
          description: soft-delete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - tessell-database-controller
      summary: Update a Tessell Database
      operationId: updateTessellServiceDatabaseOps
      parameters:
        - name: service-id
          in: path
          description: DB Service Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: Database Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellDatabaseOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDatabaseOpsDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/databases/{id}/delete:
    delete:
      tags:
        - tessell-database-controller
      summary: Delete a Tessell Database
      operationId: deleteTessellServiceDatabaseOpsRequest
      parameters:
        - name: service-id
          in: path
          description: DB Service Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: Database Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellDatabaseDeleteOpsRequestPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/callback/provision:
    post:
      tags:
        - tessell-service-controller
      summary: Callback for provision Tessell service
      operationId: provisionTessellServiceCallback
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProvisionTessellServiceCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/callback/restore:
    post:
      tags:
        - tessell-service-controller
      summary: Callback for restore Tessell service
      operationId: restoreTessellServiceCallback
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProvisionTessellServiceCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/callback/connectivity-updates:
    post:
      tags:
        - tessell-service-controller
      summary: Callback for DB Service connectivity updates
      operationId: dbServiceConnectivityUpdateCallback
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DbServiceUpdateConnectivityCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/callback/cred-updates:
    post:
      tags:
        - tessell-service-controller
      summary: Callback for DB Service cred updates
      operationId: dbServiceCredUpdateCallback
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DbServiceUpdateCredsCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/callback/add-integrations:
    post:
      tags:
        - tessell-service-controller
      summary: Callback for DB service add integrations
      operationId: dbServiceAddIntegrationCallback
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DbServiceAddIntegrationCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services/{service-id}/parameter-profiles:
    patch:
      tags:
        - tessell-service-controller
      summary: Update parameter profile/s for instances in service
      operationId: updateDBServiceParameterProfiles
      parameters:
        - name: service-id
          in: path
          description: DB Service ID
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DBServiceParameterProfileUpdateRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiError'
  /services/{service-id}/parameter-profiles/impact:
    post:
      tags:
        - tessell-service-controller
      summary: Impact assessment for update parameter profile request
      operationId: getDBServiceParameterProfileUpdateImpact
      parameters:
        - name: service-id
          in: path
          description: DB Service ID
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DBServiceParameterProfileUpdateRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DBServiceParameterProfileUpdateImpactResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiError'
  /tessell-ops/services/{service-id}/parameter-profiles:
    patch:
      tags:
        - tessell-service-controller
      summary: Update parameter profile/s for instances in service
      operationId: updateDBServiceParameterProfilesOps
      parameters:
        - name: service-id
          in: path
          description: DB Service Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DBServiceParameterProfileUpdateOpsRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
  /tessell-ops/services/{service-id}/parameter-profiles/callback/update:
    post:
      tags:
        - tessell-service-controller
      summary: Process response for DB parameter profile update workflow
      operationId: updateDBServiceParameterProfilesCallback
      parameters:
        - name: service-id
          in: path
          description: DB Service Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDBServiceParameterProfileCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/reboot:
    post:
      tags:
        - tessell-service-controller
      summary: Reboot a DB service
      operationId: rebootDBService
      parameters:
        - name: service-id
          in: path
          description: DB Service Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              nullable: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/callback/reboot:
    post:
      tags:
        - tessell-service-controller
      summary: Process response for DB reboot plugins workflow
      operationId: rebootDBServiceCallback
      parameters:
        - name: service-id
          in: path
          description: DB Service Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RebootDBServiceRequestCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/instances/add/{instance-group-id}/callback:
    post:
      tags:
        - tessell-service-controller
      summary: Callback for add DB service instances
      operationId: addInstancesCallback
      parameters:
        - name: service-id
          in: path
          description: service-id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: instance-group-id
          in: path
          description: instance-group-id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddInstancesCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/instances/delete/callback:
    post:
      tags:
        - tessell-service-controller
      summary: Callback for add DB service instances
      operationId: deleteInstancesCallback
      parameters:
        - name: service-id
          in: path
          description: service-id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteInstancesCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{serviceId}/service-instances/{id}/metadata/version/{version}:
    get:
      tags:
        - tessell-database-controller
      summary: View a list of available DB Service Instance Metadata
      operationId: getTessellServiceInstanceMetadataLatestVersion
      parameters:
        - name: serviceId
          in: path
          description: serviceId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: version
          in: path
          description: version
          required: true
          style: simple
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceMetadataDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{serviceId}/service-instances/{id}/metadata:
    get:
      tags:
        - tessell-database-controller
      summary: View a list of available Tessell Database Node Metadata
      operationId: getTessellServiceInstanceMetadata
      parameters:
        - name: serviceId
          in: path
          description: serviceId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: all
          in: query
          description: all
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceMetadataListResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - tessell-database-controller
      summary: Create a new Tessell Database Node Metadata
      operationId: createUpdateTessellServiceInstanceMetadata
      parameters:
        - name: serviceId
          in: path
          description: serviceId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellServiceMetadataDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceMetadataDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-database-controller
      summary: Delete a Tessell Database Node
      operationId: deleteTessellServiceInstanceMetadata
      parameters:
        - name: serviceId
          in: path
          description: serviceId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: version
          in: query
          description: version
          required: true
          style: form
          schema:
            type: integer
            format: int32
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/compute-resources/{id}/logs:
    get:
      tags:
        - tessell-compute-resource-controller
      summary: View logs for given file name
      operationId: getComputeResourceLogs
      parameters:
        - name: id
          in: path
          description: Compute resource id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - in: query
          name: filePath
          schema:
            type: string
          required: true
        - in: query
          name: line-limit
          required: false
          schema:
            type: integer
            default: 200
        - in: query
          name: offset
          required: false
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellComputeResourceLogs'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/storages:
    get:
      tags:
        - tessell-database-controller
      summary: View a list of available Tessell Database Storage Mapping
      operationId: getDatabaseStorageMappings
      parameters:
        - name: service-id
          in: path
          description: service-id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: cloud-account-id
          in: query
          description: cloud-account-id
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: cloud-location
          in: query
          description: cloud-location
          required: false
          style: form
          schema:
            type: string
        - name: statuses
          in: query
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DatabaseStorageMappingStatus'
        - name: skip-statuses
          in: query
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DatabaseStorageMappingStatus'
        - name: storage-purpose
          in: query
          required: false
          style: form
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDatabaseStorageMappingListResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - tessell-database-controller
      summary: Create a new Tessell Database Storage Mapping
      operationId: createUpdateDatabaseStorageMapping
      parameters:
        - name: service-id
          in: path
          description: service-id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellServiceStorageMappingDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceStorageMappingDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-database-controller
      summary: Delete a Tessell Database Storage Mapping
      operationId: deleteDatabaseStorageMapping
      parameters:
        - name: service-id
          in: path
          description: service-id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: cloud-account-id
          in: query
          description: cloud-account-id
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: cloud-location
          in: query
          description: cloud-location
          required: false
          style: form
          schema:
            type: string
        - name: soft-delete
          in: query
          description: soft-delete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/storages/{storageId}:
    get:
      tags:
        - tessell-database-controller
      summary: View a list of available Tessell Database Storage Mapping
      operationId: getDBStorageMapping
      parameters:
        - name: service-id
          in: path
          description: service-id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: storageId
          in: path
          description: storageId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceStorageMappingDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-database-controller
      summary: Delete a Tessell Database Storage Mapping
      operationId: deleteDBStorageMapping
      parameters:
        - name: service-id
          in: path
          description: service-id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: storageId
          in: path
          description: storageId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: soft-delete
          in: query
          description: soft-delete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services/{id}/tags:
    get:
      tags:
        - tessell-service-controller
      summary: View tags for the DB Service
      operationId: getTessellServiceTags
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: 'common-specification.yaml#/components/schemas/TessellTag'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    patch:
      tags:
        - tessell-service-controller
      summary: Create/update (override) tags for the DB Service
      operationId: upsertTessellServiceTags
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: 'common-specification.yaml#/components/schemas/CreateUpdateTessellTagPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: 'common-specification.yaml#/components/schemas/TessellTag'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-service-controller
      summary: Delete tags for a DB Service
      operationId: deleteTessellServiceTags
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: 'common-specification.yaml#/components/schemas/DeleteTagPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{id}/start:
    patch:
      tags:
        - tessell-service-controller
      summary: Starts the DB Service
      operationId: startTessellService
      x-terraform-resource: DBService
      x-terraform-operation: Update
      x-terraform:
        triggers:
          - parameter: expectedStatus
            value: READY
        pollConfig:
          keyType: property
          property: Status
          pollBreakValue: READY
          valueType: string
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartTessellServicePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
              examples:
                generic:
                  $ref: '#/components/examples/StartDbServiceSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{id}/stop:
    patch:
      tags:
        - tessell-service-controller
      summary: Stops the DB Service
      operationId: stopTessellService
      x-terraform-resource: DBService
      x-terraform-operation: Update
      x-terraform:
        triggers:
          - parameter: expectedStatus
            value: STOPPED
        pollConfig:
          keyType: property
          property: Status
          pollBreakValue: STOPPED
          valueType: string
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StopTessellServicePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
              examples:
                generic:
                  $ref: '#/components/examples/StopDbServiceSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{id}/patch-software:
    patch:
      tags:
        - tessell-service-controller
      summary: Patches the DB Service Software
      operationId: patchSoftwareForTessellService
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchDbServicePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/services/{id}/stop:
    patch:
      tags:
        - tessell-service-controller
      summary: Stop a DB Service Ops
      operationId: stopTessellServiceOps
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StopDatabaseInternalPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/callback/stop:
    post:
      tags:
        - tessell-service-controller
      summary: Callback for stop Tessell service
      operationId: stopTessellServiceCallback
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StopTessellServiceCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{id}/library-upgrade-eligibility:
    get:
      tags:
        - tessell-service-controller
      summary: Check if Tessell libraries on computes related to a DB Service can be upgraded
      operationId: upgradeEligibilityForTessellServiceOps
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DBServiceUpgradeEligibilityOpsResponse'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/dbserver-systems:
    get:
      tags:
        - tessell-db-server-system-controller
      summary: View a list of available Tessell DBServer Systems
      operationId: getDBServerSystems
      parameters:
        - name: name
          in: query
          description: name
          required: false
          style: form
          schema:
            type: string
        - name: status
          in: query
          description: status
          required: false
          style: form
          schema:
            type: string
        - name: engine-type
          in: query
          description: engine-type
          required: false
          style: form
          schema:
            type: string
        - name: all
          in: query
          description: all
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: load-compute-resource-mappings
          in: query
          description: load-compute-resource-mappings
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: load-compute-resources
          in: query
          description: load-compute-resources
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDBServerSystemListResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - tessell-db-server-system-controller
      summary: Create a new Tessell DBServer System
      operationId: createDBServerSystem
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellDBServerSystemDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDBServerSystemDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/dbserver-systems/{id}:
    get:
      tags:
        - tessell-db-server-system-controller
      summary: View available Tessell DBServer Systems By Id
      operationId: getDBServerSystemById
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: load-compute-resource-mappings
          in: query
          description: load-compute-resource-mappings
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: load-compute-resources
          in: query
          description: load-compute-resources
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDBServerSystemDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-db-server-system-controller
      summary: Delete a Tessell DBServer System
      operationId: deleteDBServerSystem
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: soft-delete
          in: query
          description: soft-delete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - tessell-db-server-system-controller
      summary: Update a Tessell DBServer System
      operationId: updateDBServerSystem
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellDBServerSystemDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDBServerSystemDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/dbserver-systems/{dbserverSystemId}/compute-resource:
    get:
      tags:
        - tessell-db-server-system-controller
      summary: View a list of available Tessell DBServer System and Compute Resource Mappings
      operationId: getDbssCrMapping
      parameters:
        - name: dbserverSystemId
          in: path
          description: dbserverSystemId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: compute-resource-id
          in: query
          description: compute-resource-id
          required: false
          style: form
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDbssCrMappingDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/dbserver-systems/{dbserverSystemId}/compute-resources:
    get:
      tags:
        - tessell-db-server-system-controller
      summary: View a list of available Tessell DBServer System and Compute Resource Mappings
      operationId: getDbssCrMappings
      parameters:
        - name: dbserverSystemId
          in: path
          description: dbserverSystemId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: status
          in: query
          description: status
          required: false
          style: form
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDbssCrMappingListResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - tessell-db-server-system-controller
      summary: Create a new Tessell DBServer System and Compute Resource Mapping
      operationId: createDbssCrMapping
      parameters:
        - name: dbserverSystemId
          in: path
          description: dbserverSystemId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellDbssCrMappingDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDbssCrMappingDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/dbserver-systems/{dbserverSystemId}/compute-resources/{computeResourceId}:
    delete:
      tags:
        - tessell-db-server-system-controller
      summary: Delete a Tessell DBServer System and Compute Resource Mapping
      operationId: deleteDbssCrMapping
      parameters:
        - name: dbserverSystemId
          in: path
          description: dbserverSystemId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: computeResourceId
          in: path
          description: computeResourceId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: soft-delete
          in: query
          description: soft-delete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - tessell-db-server-system-controller
      summary: Update a Tessell DBServer System and Compute Resource Mapping
      operationId: updateDbssCrMapping
      parameters:
        - name: dbserverSystemId
          in: path
          description: dbserverSystemId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: computeResourceId
          in: path
          description: computeResourceId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellDbssCrMappingDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellDbssCrMappingDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/storages:
    get:
      tags:
        - tessell-storage-controller
      summary: View a list of available Tessell Managed Storages
      operationId: getStorages
      parameters:
        - name: name
          in: query
          description: name
          required: false
          style: form
          schema:
            type: string
        - name: statuses
          in: query
          description: Statuses of Tessell Storage to be included.
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/TessellStorageStatus'
        - name: skip-statuses
          in: query
          description: Statuses of Tessell Storage not to be included.
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/TessellStorageStatus'
        - name: type
          in: query
          description: type
          required: false
          style: form
          schema:
            $ref: 'common-specification.yaml#/components/schemas/StorageType'
        - name: cloud-resource-id
          in: query
          description: "Cloud resource id like AWS storage id: vol-0a8b520b873aae582"
          style: form
          required: false
          schema:
            type: string
        - name: cloud-location-id
          in: query
          description: "Cloud location id like aws/ap-south-1/ap-south-1a"
          style: form
          required: false
          schema:
            type: string
        - name: storage-tiers
          in: query
          description: Storage tier of Tessell Storage
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/StorageTier'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellStorageListResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - tessell-storage-controller
      summary: Create a new Managed Storage metadata
      operationId: createStorage
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellStorageDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellStorageDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/storages/{id}:
    get:
      tags:
        - tessell-storage-controller
      summary: View details about a Tessell Managed Storage
      operationId: getStorage
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: time-zone
          in: query
          description: time-zone
          required: false
          style: form
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellStorageDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-storage-controller
      summary: Delete a Tessell Managed Storage metadata
      operationId: deleteStorage
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: soft-delete
          in: query
          description: soft-delete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - tessell-storage-controller
      summary: Update a Tessell Managed Storage metadata
      operationId: updateStorage
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellStorageDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellStorageDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/db/generic-properties:
    post:
      tags:
        - tessell-global-engine-controller
      summary: Create a property
      operationId: createDbGenericProperties
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: 'common-specification.yaml#/components/schemas/GenericProperty'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: 'common-specification.yaml#/components/schemas/GenericProperty'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    get:
      tags:
        - tessell-global-engine-controller
      summary: getDbGenericProperties
      operationId: getDbGenericProperties
      parameters:
        - name: names
          in: query
          description: property names
          required: false
          style: form
          schema:
            type: array
            items:
              type: string
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: 'common-specification.yaml#/components/schemas/GenericProperty'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-global-engine-controller
      summary: Delete properties
      operationId: deleteDbGenericProperties
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: 'common-specification.yaml#/components/schemas/DeleteGenericPropertyPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/feature-config:
    post:
      tags:
        - tessell-global-engine-controller
      summary: Upsert Feature Config Ops
      operationId: upsertFeatureConfigOps
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellFeatureConfig'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellFeatureConfig'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    get:
      tags:
        - tessell-global-engine-controller
      summary: Get Feature Config Ops
      operationId: getFeatureConfigOps
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellFeatureConfig'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services/feature-config:
    get:
      tags:
        - tessell-global-engine-controller
      summary: Get Feature Config
      operationId: getFeatureConfig
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellFeatureConfig'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/config/global-engine:
    put:
      tags:
        - tessell-global-engine-controller
      summary: Create or Update a new Tessell Global Engine configuration
      operationId: upsertGlobalEngineConfig
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GlobalEngineConfigDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GlobalEngineConfigDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    get:
      tags:
        - tessell-global-engine-controller
      summary: get Tessell Global Engine configuration
      operationId: getGlobalEngineConfig
      parameters:
        - name: engine
          in: query
          description: Returns global engine config for specified engine
          required: false
          style: form
          schema:
            type: string
        - name: tenant-id
          in: query
          description: Returns global engine config for specified tenant.
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: default-only
          in: query
          description: Returns global engine configuration without tenant-specific computation if flag is enabled.
          style: form
          schema:
            type: boolean
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GlobalEngineConfigResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-global-engine-controller
      summary: Delete Tessell Global Engine configuration
      operationId: deleteGlobalEngineConfig
      parameters:
        - name: engine
          in: query
          description: engine
          required: true
          style: form
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services/{id}/acls:
    patch:
      tags:
        - tessell-service-acl-controller
      summary: Create or update the DB Service ACLs
      operationId: updateTessellServiceAcls
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: 'common-specification.yaml#/components/schemas/AclPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/AclPayload'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-service-acl-controller
      summary: Revoke DB Service ACLs
      operationId: revokeTessellServiceAcls
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: 'common-specification.yaml#/components/schemas/AclRevokePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{id}/acls/eligible-users:
    get:
      tags:
        - tessell-service-acl-controller
      summary: Get list of all the users by privileges for the given DB Service
      operationId: getPrivilegedUsersForTessellService
      parameters:
        - name: id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: roles
          in: query
          description: Filter based on the privilege roles
          required: false
          style: form
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: 'common-specification.yaml#/components/schemas/AclEligibleUser'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/task-progress-config:
    get:
      tags:
        - task-progress-config
      summary: Returns the JSON configuration for task progress
      operationId: getTaskProgressConfig
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: '#/components/schemas/TaskProgressConfigResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/task-progress-eta-config:
    get:
      tags:
        - timing-estimate-config
      summary: Returns the JSON configuration for Timing estimate calculation
      operationId: getTimingEstimateConfig
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: '#/components/schemas/TimingEstimateConfig'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/task-progress-event:
    post:
      tags:
        - task-progress-update
      summary: Publishes an ActivityLog event to update the task progress
      operationId: publishTaskProgressEvent
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PublishTaskProgressEventPayload'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /task-updates:
    get:
      tags:
        - task-progress-update
      summary: Return the task progress updates for the given resource type and id
      operationId: getTaskProgressUpdate
      parameters:
        - name: resource-id
          in: query
          description: Tessell Entity resource Id
          required: true
          style: form
          schema:
            type: string
        - name: resource-type
          in: query
          description: Tessell Entity type
          required: true
          style: form
          schema:
            type: string
        - name: availability-machine-id
          in: query
          description: Availability Machine id which would be looked up only when resource-type is "DB_SNAPSHOT"
          required: false
          style: form
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: '#/components/schemas/TaskProgressUpdateResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{service-id}/connection-pools:
    get:
      tags:
        - tessell-connection-pool
      summary: Get list of connection pools for the DB Service
      operationId: getConnectionPoolsForTessellService
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: name
          in: query
          description: Name of connection pool whose details will be returned.
          required: false
          style: form
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: '#/components/schemas/ConnectionPoolListResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - tessell-connection-pool
      summary: Creates a new connection pool for the DB Service
      operationId: createConnectionPoolForTessellService
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateConnectionPoolPayload'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-connection-pool
      summary: Delete an existing connection pool for the DB Service
      operationId: deleteConnectionPoolForTessellService
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteConnectionPoolPayload'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{service-id}/connection-pools/{connection-pool-id}:
    patch:
      tags:
        - tessell-connection-pool
      summary: Update an existing connection pool for the DB Service
      operationId: updateConnectionPoolForTessellService
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: connection-pool-id
          in: path
          description: The ID of the connection pool
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateConnectionPoolPayload'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/services/{service-id}/connection-pools:
    get:
      tags:
        - tessell-connection-pool
      summary: Get list of connection pools
      operationId: getConnectionPoolsForTessellServiceOps
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: name
          in: query
          description: Name of connection pool whose details will be returned.
          required: false
          style: form
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: '#/components/schemas/ConnectionPoolListOpsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/bulk-delete:
    post:
      tags:
        - tessell-service-controller
      summary: get status of bulk delete api
      operationId: getBulkDeleteTessellServicesStatus
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkDeleteTessellServicesStatusPayload'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ResourceBulkDeleteResponseOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-service-controller
      summary: Delete the tessell services for subscription.
      operationId: bulkDeleteTessellServices
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkDeleteTessellServicesPayload'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ResourceBulkDeleteResponseOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/connection-pools/{connection-pool-id}:
    get:
      tags:
        - tessell-connection-pool
      summary: Get the connection pool corresponding to given uuid.
      operationId: getConnectionPoolForTessellServiceOps
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: connection-pool-id
          in: path
          description: Connection Pool Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: '#/components/schemas/ConnectionPoolOpsInfo'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - tessell-connection-pool
      summary: Update the connection pool corresponding to given uuid.
      operationId: updateConnectionPoolForTessellServiceOps
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: connection-pool-id
          in: path
          description: Connection Pool Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConnectionPoolOpsInfo'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: '#/components/schemas/ConnectionPoolOpsInfo'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-connection-pool
      summary: Delete the connection pool corresponding to given uuid.
      operationId: deleteConnectionPoolForTessellServiceOps
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: connection-pool-id
          in: path
          description: Connection Pool Id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: soft-delete
          in: query
          description: soft-delete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/connection-pools/callback/create:
    post:
      tags:
        - tessell-connection-pool
      summary: Callback corresponding to delete connection workflow.
      operationId: createConnectionPoolForTessellServiceCallback
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateConnectionPoolCallbackPayload'
      responses:
        '200':
          description: OK
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/connection-pools/callback/update:
    post:
      tags:
        - tessell-connection-pool
      summary: Callback corresponding to delete connection workflow.
      operationId: updateConnectionPoolForTessellServiceCallback
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateConnectionPoolCallbackPayload'
      responses:
        '200':
          description: OK
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/connection-pools/callback/delete:
    post:
      tags:
        - tessell-connection-pool
      summary: Callback corresponding to delete connection workflow.
      operationId: deleteConnectionPoolForTessellServiceCallback
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteConnectionPoolCallbackPayload'
      responses:
        '200':
          description: OK
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/{service-id}/databases/callback:
    post:
      tags:
        - tessell-database-controller
      summary: Callback corresponding to delete connection workflow.
      operationId: crudDatabaseCallback
      parameters:
        - name: service-id
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CrudDatabaseCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/config/start-stop:
    get:
      tags:
        - tessell-global-engine-controller
      summary: get tessell service start stop config
      operationId: getStartStopServiceConfiguration
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services/{serviceId}/schedules/delete:
    post:
      tags:
        - tessell-service-schedule
      summary: Creates the deletion schedule for the DB Service
      operationId: createServiceDeletionSchedule
      x-terraform-operation: Create
      x-terraform-resource: DBServiceDeleteSchedule
      x-terraform:
        resourceIdFromResponse: '*response.Id'
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeletionSchedulePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeletionScheduleDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    patch:
      tags:
        - tessell-service-schedule
      summary: Updates the deletion schedule for the DB Service
      operationId: updateServiceDeletionSchedule
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeletionSchedulePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeletionScheduleDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    get:
      tags:
        - tessell-service-schedule
      summary: Returns the deletion schedule details for the DB Service
      operationId: getServiceDeletionSchedule
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeletionScheduleResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-service-schedule
      summary: Deletes the deletion schedule for the DB Service
      operationId: deleteServiceDeletionSchedule
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{service-id}/schedules/delete/{id}:
    patch:
      tags:
        - tessell-service-schedule
      summary: Updates the deletion schedule for the DB Service
      operationId: updateServiceDeletionScheduleTFP
      x-terraform-operation: Update
      x-terraform-resource: DBServiceDeleteSchedule
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeletionSchedulePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeletionScheduleDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    get:
      tags:
        - tessell-service-schedule
      summary: Returns the deletion schedule details for the DB Service
      operationId: getServiceDeletionScheduleTFP
      x-terraform-operation: Read
      x-terraform-resource: DBServiceDeleteSchedule
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeletionScheduleDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-service-schedule
      summary: Deletes the deletion schedule for the DB Service
      operationId: deleteServiceDeletionScheduleTFP
      x-terraform-operation: Delete
      x-terraform-resource: DBServiceDeleteSchedule
      parameters:
        - $ref: '#/components/parameters/service-id'
        - $ref: '#/components/parameters/id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{serviceId}/schedules:
    get:
      tags:
        - tessell-service-schedule
      summary: Returns the details about all the automated schedules on the DB Service
      operationId: getServiceSchedules
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceSchedulesResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/services/{serviceId}/schedules/start-stop:
    post:
      tags:
        - tessell-service-schedule
      summary: Create tessell service start stop schedule
      operationId: createServiceStartStopScheduleOps
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateStartStopSchedulePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartStopScheduleDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    get:
      tags:
        - tessell-service-schedule
      summary: get tessell service start stop schedules
      operationId: getServiceStartStopSchedulesOps
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: status
          in: query
          description: tessell service schedule status
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/StartStopScheduleStatus'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartStopScheduleOpsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services/{serviceId}/schedules/start-stop:
    post:
      tags:
        - tessell-service-schedule
      summary: Creates a start/stop schedule for the DB Service
      operationId: createServiceStartStopSchedule
      x-terraform-operation: Create
      x-terraform-resource: DBServiceStartStopSchedule
      x-terraform:
        resourceIdFromResponse: '*response.Id'
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateStartStopSchedulePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartStopScheduleDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    get:
      tags:
        - tessell-service-schedule
      summary: Get the details of start/stop schedules for the DB Service
      operationId: getServiceStartStopSchedules
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: status
          in: query
          description: DB Service schedule status
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/StartStopScheduleStatus'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartStopScheduleResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/services/{serviceId}/schedules/start-stop/{id}:
    patch:
      tags:
        - tessell-service-schedule
      summary: Update tessell service start stop schedule
      operationId: updateServiceStartStopScheduleOps
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: The ID of the start/stop schedule
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartStopScheduleOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartStopScheduleOpsDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    get:
      tags:
        - tessell-service-schedule
      summary: Get tessell service start stop schedule
      operationId: getServiceStartStopScheduleOps
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: The ID of the start/stop schedule
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartStopScheduleOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services/{serviceId}/schedules/start-stop/{id}:
    patch:
      tags:
        - tessell-service-schedule
      summary: Updates the given start/stop schedule on the DB Service
      operationId: updateServiceStartStopSchedule
      x-terraform-operation: Update
      x-terraform-resource: DBServiceStartStopSchedule
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: The ID of the start/stop schedule
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateStartStopSchedulePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartStopScheduleDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    get:
      tags:
        - tessell-service-schedule
      summary: Return the details about the start/stop schedule for given schedule ID for the DB Service
      operationId: getServiceStartStopSchedule
      x-terraform-operation: Read
      x-terraform-resource: DBServiceStartStopSchedule
      x-terraform:
        resourceIdFromResponse: '*response.Id'
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: The ID of the start/stop schedule
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartStopScheduleDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-service-schedule
      summary: Deletes the given start/stop schedule for the DB Service.
      operationId: deleteServiceStartStopSchedule
      x-terraform-operation: Delete
      x-terraform-resource: DBServiceStartStopSchedule
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: The ID of the start/stop schedule
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{serviceId}/schedules/start-stop/{scheduleId}/{action}:
    patch:
      tags:
        - tessell-service-schedule
      summary: Update the status of the given start/stop schedule for the DB Service.
      operationId: updateStartStopScheduleStatus
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: scheduleId
          in: path
          description: The ID of the schedule
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: action
          in: path
          description: Action (like resume/pause) to be taken on the start/stop schedule
          required: true
          style: simple
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/services/sample-datasets:
    get:
      tags:
        - sample-dataset
      operationId: getSampleDatasetsOps
      summary: Get list of all sample datasets supported.
      parameters:
        - name: statusList
          in: query
          description: Status of the dataset to be returned.
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/SampleDatasetOpsStatus'

        - name: name
          in: query
          description: Name of the dataset
          required: false
          style: form
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SampleDatasetsOpsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - sample-dataset
      operationId: createSampleDatasetOps
      summary: Create supported sample datasets.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSampleDatasetPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SampleDatasetOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/services/sample-datasets/{sample-dataset-id}:
    get:
      tags:
        - sample-dataset
      operationId: getSampleDatasetOps
      summary: Get sample dataset for given id.
      parameters:
        - name: sample-dataset-id
          in: path
          description: Id of the dataset
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SampleDatasetsOpsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - sample-dataset
      operationId: updateSampleDatasetOps
      summary: Update sample dataset for given sample dataset id.
      parameters:
        - name: sample-dataset-id
          in: path
          description: Id of the dataset
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SampleDatasetOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SampleDatasetOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - sample-dataset
      operationId: deleteSampleDatasetOps
      summary: Delete sample dataset for given sample dataset id.
      parameters:
        - name: sample-dataset-id
          in: path
          description: Id of the dataset
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /services/{serviceId}/sample-datasets/suggestions:
    get:
      tags:
        - sample-dataset-loading
      summary: Returns details about sample datasets that can be loaded in the given DB Service
      operationId: getSampleDatasetSuggestions
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SampleDatasetSuggestionsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{serviceId}/sample-datasets/manage-suggestions:
    patch:
      tags:
        - sample-dataset-loading
      summary: Controls if the sample data loading suggestions should be shown for the given DB Service
      operationId: updateSampleDatasetSuggestion
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ManageLoadSampleDatasetSuggestionPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /services/{serviceId}/sample-datasets:
    get:
      tags:
        - sample-dataset-loading
      summary: Get details about existing sample datasets being/already loaded in the given DB Service
      operationId: getSampleDatasetLoadingInfo
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceSampleDatasetInfoResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - sample-dataset-loading
      summary: Submits a request to load sample-dataset in given DB Service.
      operationId: loadSampleDatasetRequest
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoadSampleDatasetRequestPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/services/{serviceId}/sample-datasets:
    patch:
      tags:
        - sample-dataset-loading
      summary: Update sample-dataset metadata for given service.
      operationId: updateServiceSampleDatasetInfoOps
      parameters:
        - name: serviceId
          in: path
          description: The ID of the DB Service
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateServiceSampleDatasetInfoPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/leaks/storages:
    get:
      tags:
        - tessell-leak-evaluation
      summary: Detects the volume leaks
      operationId: getLeakEvaluationForStorages
      parameters:
        - $ref: 'common-specification.yaml#/components/parameters/tenant-id-in-header-required'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/LeakEvaluationStoragePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/LeakEvaluationForStorage'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/leaks/compute-resources:
    get:
      tags:
        - tessell-leak-evaluation
      summary: Detects the compute resource leaks
      operationId: getLeakEvaluationForCRs
      parameters:
        - $ref: 'common-specification.yaml#/components/parameters/tenant-id-in-header-required'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/LeakEvaluationCRPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/LeakEvaluationForCR'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
  /services/{id}/maintenance-windows:
    get:
      tags:
        - maintenance-window
      summary: Get maintenance windows for given service
      operationId: getMaintenanceWindowsForService
      parameters:
        - $ref: '#/components/parameters/id'
        - $ref: '#/components/parameters/maintenance-window-statuses-in-query'
        - name: load-tasks
          in: query
          description: Load the tasks that are part of the Maintenance Windows
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MaintenanceWindowListResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
    patch:
      tags:
        - maintenance-window
      summary: Update maintenance window config for given service
      operationId: updateMaintenanceWindowForService
      parameters:
        - $ref: '#/components/parameters/id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellServiceMaintenanceWindow'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TessellServiceMaintenanceWindow'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
  /tessell-ops/services/{id}/maintenance-windows:
    post:
      tags:
        - maintenance-window
      summary: Schedule Maintenance Window for Service
      operationId: scheduleMaintenanceWindowForService
      parameters:
        - $ref: '#/components/parameters/id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              nullable: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MaintenanceWindowOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
  /maintenance-windows/{id}:
    get:
      tags:
        - maintenance-window
      summary: Get maintenance window by Id
      operationId: getMaintenanceWindowById
      parameters:
        - $ref: '#/components/parameters/id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MaintenanceWindowDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
    patch:
      tags:
        - maintenance-window
      summary: Update maintenance window
      operationId: updateMaintenanceWindow
      parameters:
        - $ref: '#/components/parameters/id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MaintenanceWindowUpdateRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MaintenanceWindowDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
    post:
      tags:
        - maintenance-window
      summary: Trigger maintenance window
      operationId: triggerMaintenanceWindow
      parameters:
        - $ref: '#/components/parameters/id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MaintenanceWindowDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
  /maintenance-windows/{id}/tasks:
    post:
      tags:
        - maintenance-window
      summary: Apply Maintenance Window Task
      operationId: applyMaintenanceWindowTasks
      parameters:
        - $ref: '#/components/parameters/id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MaintenanceWindowTaskApplyRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
    delete:
      tags:
        - maintenance-window
      summary: Remove task from existing maintenance window
      operationId: cancelMaintenanceWindowTask
      parameters:
        - $ref: '#/components/parameters/id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MaintenanceWindowTaskCancelRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
  /tessell-ops/maintenance-windows:
    get:
      tags:
        - maintenance-window
      summary: Get maintenance windows
      operationId: getMaintenanceWindowsOps
      parameters:
        - name: entity-id
          in: query
          description: Load the Maintenance Window for particular entity
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - $ref: '#/components/parameters/maintenance-window-statuses-in-query'
        - name: type
          in: query
          description: Load the Maintenance Window of particular type
          required: false
          style: form
          schema:
            $ref: '#/components/schemas/MaintenanceWindowType'
        - name: load-tasks
          in: query
          description: Load the tasks that are part of the Maintenance Windows
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MaintenanceWindowOpsListResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
    post:
      tags:
        - maintenance-window
      summary: Trigger maintenance window
      operationId: triggerMaintenanceWindowOps
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MaintenanceWindowTriggerRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MaintenanceWindowOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
  /tessell-ops/maintenance-windows/{id}:
    get:
      tags:
        - maintenance-window
      summary: Get maintenance window by Id
      operationId: getMaintenanceWindowOpsById
      parameters:
        - $ref: '#/components/parameters/id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MaintenanceWindowOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
    patch:
      tags:
        - maintenance-window
      summary: Update maintenance window
      operationId: updateMaintenanceWindowOps
      parameters:
        - $ref: '#/components/parameters/id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MaintenanceWindowOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MaintenanceWindowOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
  /tessell-ops/maintenance-windows/{id}/tasks:
    patch:
      tags:
        - maintenance-window
      summary: Update maintenance window task
      operationId: updateTaskOps
      parameters:
        - $ref: '#/components/parameters/id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TaskOpsDTO'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
  /tessell-ops/maintenance-windows/{id}/callback:
    post:
      tags:
        - maintenance-window
      summary: Process response for Maintenance Window workflow
      operationId: triggerMaintenanceWindowCallback
      parameters:
        - $ref: '#/components/parameters/id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TriggerMaintenanceWindowCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
components:
  schemas:
    LeakEvaluationStoragePayload:
      type: object
      properties:
        cloudResourceId:
          type: string
    LeakEvaluationForStorage:
      type: object
      properties:
        tenantId:
          type: string
          format: uuid
        tenantName:
          type: string
        storageId:
          type: string
          format: uuid
        isLeak:
          $ref: 'common-specification.yaml#/components/schemas/LeakStatus'
        cloudResourceId:
          type: string
          description: Cloud Resource Id of the storage
        name:
          type: string
          description: Name of the storage
        status:
          $ref: '#/components/schemas/TessellStorageStatus'
        associatedWithDbService:
          type: array
          items:
            $ref: '#/components/schemas/AssociatedWithDbServiceInfoForLeaks'
    LeakEvaluationCRPayload:
      type: object
      properties:
        cloudResourceId:
          type: string
    LeakEvaluationForCR:
      type: object
      properties:
        tenantId:
          type: string
          format: uuid
        tenantName:
          type: string
        computeResourceId:
          type: string
          format: uuid
        isLeak:
          $ref: 'common-specification.yaml#/components/schemas/LeakStatus'
        cloudResourceId:
          type: string
          description: Cloud Resource Id of the storage
        name:
          type: string
          description: Name of the Compute Resource
        status:
          $ref: '#/components/schemas/ComputeResourceStatusOps'
        type:
          $ref: '#/components/schemas/ComputeResourceType'
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        associatedWithDbService:
          type: array
          items:
            $ref: '#/components/schemas/AssociatedWithDbServiceInfoForLeaks'
    AssociatedWithDbServiceInfoForLeaks:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID of the DB Service
        name:
          type: string
          description: Name of the DB Service
        status:
          $ref: '#/components/schemas/TessellServiceStatusOps'
    TimingEstimateTopologySIConfig:
      type: object
      properties:
        provisionTessellService:
          type: integer
        startTessellService:
          type: integer
        stopTessellService:
          type: integer
        snapshotTessellService:
          type: integer
        createTessellServiceInstance:
          type: integer
        createSanitizedSnapshot:
          type: integer
        createNativeBackup:
          type: integer
        patchDbService:
          type: integer
        resizeDbServiceCompute:
          type: integer
        resizeDbServiceStorage:
          type: integer
        updateDbServiceParameterProfile:
          type: integer
    TimingEstimateTopologyHAConfig:
      type: object
      properties:
        provisionTessellService:
          type: integer
        startTessellService:
          type: integer
        stopTessellService:
          type: integer
        snapshotTessellService:
          type: integer
        createTessellServiceInstance:
          type: integer
        createSanitizedSnapshot:
          type: integer
        createNativeBackup:
          type: integer
        switchoverTessellService:
          type: integer
        patchDbService:
          type: integer
        resizeDbServiceCompute:
          type: integer
        resizeDbServiceStorage:
          type: integer
        updateDbServiceParameterProfile:
          type: integer
    TimingEstimateCPUConfig:
      type: object
      properties:
        SI:
          $ref: '#/components/schemas/TimingEstimateTopologySIConfig'
        HA:
          $ref: '#/components/schemas/TimingEstimateTopologyHAConfig'
    TimingEstimatePerformanceShapeConfig:
      type: object
      properties:
        two:
          $ref: '#/components/schemas/TimingEstimateCPUConfig'
        four:
          $ref: '#/components/schemas/TimingEstimateCPUConfig'
        eight:
          $ref: '#/components/schemas/TimingEstimateCPUConfig'
    TimingEstimatePerformanceConfig:
      type: object
      properties:
        standard:
          $ref: '#/components/schemas/TimingEstimatePerformanceShapeConfig'
        TSM:
          $ref: '#/components/schemas/TimingEstimatePerformanceShapeConfig'
    TimingEstimateCloudConfig:
      type: object
      properties:
        aws:
          $ref: '#/components/schemas/TimingEstimatePerformanceConfig'
        azure:
          $ref: '#/components/schemas/TimingEstimatePerformanceConfig'
    GlobalEngineEntityConfiguration:
      title: TessellGlobalEngineEntityConfiguration
      properties:
        backupConfig:
          $ref: '#/components/schemas/GlobalEngineBackupConfigDTO'
        backupConfigTSM:
          $ref: '#/components/schemas/GlobalEngineBackupConfigDTO'
        dbStopConfig:
          $ref: '#/components/schemas/GlobalEngineDBStopConfigDTO'
        dbStopConfigTSM:
          $ref: '#/components/schemas/GlobalEngineDBStopConfigDTO'
        dbDeleteConfig:
          $ref: '#/components/schemas/GlobalEngineDBDeleteConfigDTO'
        dbDeleteConfigTSM:
          $ref: '#/components/schemas/GlobalEngineDBDeleteConfigDTO'
        enableLicenseCheck:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ConfigBooleanDTO'
        config:
          type: object
        configTSM:
          type: object
    GlobalEngineDBStopConfigDTO:
      title: TessellGlobalEngineDBStopConfigDTO
      description: Tessell DB Stop configuration details
      properties:
        hardStopAfterMins:
          $ref: '#/components/schemas/ConfigIntDTO'
        config:
          type: object
    GlobalEngineConfigDTO:
      title: GlobalEngineConfigDTO
      description: Global Engine Configuration DTO
      properties:
        engine:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        backupConfig:
          $ref: '#/components/schemas/GlobalEngineBackupConfigDTO'
        backupConfigTSM:
          $ref: '#/components/schemas/GlobalEngineBackupConfigDTO'
        dbStopConfig:
          $ref: '#/components/schemas/GlobalEngineDBStopConfigDTO'
        dbStopConfigTSM:
          $ref: '#/components/schemas/GlobalEngineDBStopConfigDTO'
        dbDeleteConfig:
          $ref: '#/components/schemas/GlobalEngineDBDeleteConfigDTO'
        dbDeleteConfigTSM:
          $ref: '#/components/schemas/GlobalEngineDBDeleteConfigDTO'
        enableLicenseCheck:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ConfigBooleanDTO'
        config:
          type: object
        configTSM:
          type: object
    ConfigIntDTO:
      type: object
      additionalProperties:
        type: integer
      minProperties: 1
    ConfigStringDTO:
      type: object
      additionalProperties:
        type: string
      minProperties: 1
    ConfigBooleanDTO:
      type: object
      additionalProperties:
        type: boolean
      minProperties: 1
    GlobalEngineDBDeleteConfigDTO:
      title: TessellGlobalEngineDBDeleteConfigDTO
      description: Tessell DB auto deletion configuration details
      properties:
        deleteAfterMins:
          $ref: '#/components/schemas/ConfigIntDTO'
        skipDBs:
          type: object
          additionalProperties:
            type: array
            items:
              type: string
              format: uuid
        invalidateCreatingDatabaseTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        invalidateCreatingCloneTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        invalidateCreationFailedDatabaseTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        invalidateSampleDatasetLoadingPerMbTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        invalidateSwitchingServiceTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        invalidateCreatingInstanceTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        invalidateFailedInstanceTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        invalidateDeletingInstanceTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        invalidateStartingDatabaseTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        haInstanceCount:
          $ref: '#/components/schemas/ConfigIntDTO'
        config:
          type: object
    GlobalEngineBackupConfigDTO:
      title: TessellGlobalEngineBackupConfigDTO
      description: Tessell validation backup configuration details
      properties:
        fullBackupIntervalInDays:
          $ref: '#/components/schemas/ConfigIntDTO'
        invalidateQueuedBackupTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        invalidateCreatingBackupTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        invalidateCreationFailedBackupTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        invalidateCreatingNativeBackupTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        invalidateCreatingSanitizedSnapshotTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        softDeleteSnapshotTimeoutMinutes:
          $ref: '#/components/schemas/ConfigIntDTO'
        config:
          type: object
    GlobalEngineInputValidationDTO:
      title: TessellGlobalEngineInputValidationDTO
      description: Tessell inputs criteria for validation.
      properties:
        inputDataType:
          $ref: '#/components/schemas/TessellGlobalEngineInputDataType'
        configType:
          $ref: '#/components/schemas/TessellGlobalEngineConfigType'
        entityType:
          type: string
        topology:
          type: object
        engineVersion:
          type: array
          items:
            type: string
        criteria:
          $ref: '#/components/schemas/TessellGlobalEngineCriteria'
        required:
          type: boolean
        regex:
          type: string
        maxLength:
          type: integer
        secure:
          $ref: '#/components/schemas/ConfigBooleanDTO'
        errorMessage:
          type: string
        defaultValue:
          type: string
    GlobalEngineConfigResponse:
      title: TessellGlobalEngineConfigResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/GlobalEngineConfigDTO'
    EngineReservedKeywordsDTO:
      title: EngineReservedKeywordsDTO
      type: object
      properties:
        engine:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        reservedKeywords:
          type: array
          items:
            type: string
    TessellDbssCrMappingListResponse:
      title: TessellDbssCrMappingListResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/TessellDbssCrMappingDTO'
    TessellServiceMetadataListResponse:
      title: TessellServiceMetadataListResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/TessellServiceMetadataDTO'
    TessellComputeResourceLogs:
      title: TessellComputeResourceLogs
      type: object
      properties:
        fileContent:
          type: string
          format: byte
        error:
          type: string
          description: error message
    TessellServicesResponse:
      title: TessellServicesResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: '#/components/schemas/TessellServiceDTO'
    TessellServiceTimelineResponse:
      title: TessellServiceTimelineResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: '#/components/schemas/TessellServiceTimelineDTO'
    TessellServicesOpsResponse:
      title: TessellServicesOpsResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: '#/components/schemas/TessellServiceOpsDTO'
    TessellServiceInstancesResponse:
      title: TessellServiceInstancesResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: '#/components/schemas/TessellServiceInstanceDTO'
    TessellServiceInstancesOpsResponse:
      title: TessellServiceInstancesOpsResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: '#/components/schemas/TessellServiceInstanceOpsDTO'
    TessellDatabasesOpsResponse:
      title: TessellDatabasesOpsResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: '#/components/schemas/TessellDatabaseOpsDTO'
    TessellDatabaseConsumerListResponse:
      title: TessellDatabaseConsumerListResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: '#/components/schemas/TessellDatabaseDTO'
    TessellDBServerSystemListResponse:
      title: TessellDBServerSystemListResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/TessellDBServerSystemDTO'
    TessellDatabaseSystemListResponse:
      title: TessellDatabaseSystemListResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/TessellServiceOpsDTO'
    ComputeResourceUpgradeEligibilityOpsResponse:
      type: object
      title: ComputeResourceUpgradeEligibilityOpsResponse
      properties:
        id:
          type: string
          format: uuid
          description: The ID of the Compute Resource
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: The name of the Compute Resource
        status:
          $ref: '#/components/schemas/ComputeResourceStatusOps'
        type:
          $ref: '#/components/schemas/ComputeResourceType'
        eligibleForLibraryUpgrade:
          type: boolean
          default: true
          description: Whether Compute Resource is eligible for upgrade
        message:
          type: string
          minLength: 0
          maxLength: 512
          description: Details on why the compute resource is not eligible for upgrade
        dbServices:
          type: array
          items:
            type: object
            title: dbserviceForCrUpgrade
            properties:
              id:
                type: string
                format: uuid
              status:
                $ref: '#/components/schemas/TessellServiceStatusOps'
              eligibleForLibraryUpgrade:
                type: boolean
                default: true
              blockingConditions:
                type: array
                items:
                  type: object
                  title: DBServiceUpgradeBlockingCondition
                  properties:
                    condition:
                      type: string
                    details:
                      type: object
        computeResource:
          $ref: '#/components/schemas/TessellComputeResourceOpsDTO'
    SharableDbserverComputeResourceListResponse:
      title: SharableDbserverComputeResourceListResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/SharableDbserverComputeResourceDTO'
    TessellDbserverComputeResourceListResponse:
      title: TessellDbserverComputeResourceListResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/TessellDbserverComputeResourceDTO'
    TessellComputeResourceListOpsResponse:
      title: TessellComputeResourceListOpsResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/TessellComputeResourceOpsDTO'
    TessellDatabaseStorageMappingListResponse:
      title: TessellDatabaseStorageMappingListResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/TessellServiceStorageMappingDTO'
    TessellStorageListResponse:
      title: TessellStorageListResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/TessellStorageDTO'
    BulkDeleteTessellServicesPayload:
      $ref: 'common-specification.yaml#/components/schemas/ResourceBulkDeletePayloadOps'
    BulkDeleteTessellServicesStatusPayload:
      $ref: 'common-specification.yaml#/components/schemas/ResourceBulkDeleteResponseOps'
    BulkDeleteTessellServiceContext:
      title: BulkDeleteTessellServiceContext
      type: object
      properties:
        serviceId:
          type: string
          format: uuid
          description: id of the tessell service
        serviceStatus:
          $ref: '#/components/schemas/TessellServiceStatusOps'
        deletionStatus:
          $ref: 'common-specification.yaml#/components/schemas/ResourceBulkDeleteStatusOps'
    UpdateTessellServicePayload:
      title: UpdateTessellServicePayload
      type: object
      properties:
        name:
          type: string
          description: If not specified, this field will be ignored and the existing value will be assumed.
        description:
          type: string
          description: If not specified, this field will be ignored and the existing value will be assumed.
        enableDeletionProtection:
          type: boolean
          description: If not specified, this field will be ignored and the existing setting will be assumed.
        enableStopProtection:
          type: boolean
          description: Whether stop operation is allowed on the service or not.
        autoMinorVersionUpdate:
          type: boolean
          description: If not specified, this field will be ignored and the existing setting will be assumed.
    UpdateTessellServiceConnectivityPayload:
      title: UpdateTessellServiceConnectivityPayload
      type: object
      properties:
        serviceConnectivity:
          type: object
          properties:
            enablePublicAccess:
              description: Specify whether to enable public access to the DB Service. If not specified, this field will be ignored and the existing setting will be assumed.
              type: boolean
            dnsPrefix:
              type: string
              description: Prefix for DNS of the DB Service. If not specified, this field will be ignored and the existing setting will be assumed.
            allowedIpAddresses:
              description: The list of allowed ipv4 addresses that can connect to the DB Service. If not specified, this field will be ignored and the existing setting will be assumed.
              type: array
              items:
                type: string
                format: ip4
            privateLink:
              type: object
              title: ServiceConnectivityPrivateLinkPayload
              description: The interface endpoint or Gateway Load Balancer endpoint to connect to your DB service.
              properties:
                servicePrincipals:
                  description: The list of AWS account principals that are currently enabled. This is only applicable for DB Services hosted on AWS.
                  uniqueItems: true
                  type: array
                  items:
                    type: string
                clientAzureSubscriptionIds:
                  description: The list of Azure subscription Ids. This is only applicable for DB Services hosted on AZURE.
                  uniqueItems: true
                  type: array
                  items:
                    type: string
                    format: uuid
    UpdateServiceConnectivityPayloadOps:
      title: UpdateServiceConnectivityPayloadOps
      type: object
      properties:
        genieConnectivityPayload:
          $ref: '#/components/schemas/GenieConnectivityPayload'
    GenieConnectivityPayload:
      title: GenieConnectivityPayload
      type: object
      properties:
        requestId:
          type: string
          description: requestId needed to make a callback
        action:
          type: string
          description: Type of action - enable or disable
        computesConnectivity:
          type: array
          items:
            $ref: '#/components/schemas/ComputeConnectivityConfig'
    ComputeConnectivityConfig:
      title: ComputeConnectivityConfig
      type: object
      properties:
        computeResourceId:
          type: string
          format: uuid
        portAccessConfig:
          type: array
          items:
            $ref: '#/components/schemas/PortAccessConfig'
    PortAccessConfig:
      title: PortAccessConfig
      type: object
      properties:
        port:
          description: The connection port for the DB Service
          type: integer
          format: int32
          minimum: 0
        enablePublicAccess:
          description: Enable public access to database (true/false)
          type: boolean
        allowedIpAddresses:
          description: Set allowed IP address if enablePublicAccess is true.
          type: array
          items:
            type: string
    AddDbServiceInstancesPayload:
      title: AddDbServiceInstancesPayload
      type: object
      required:
        - cloud
        - region
        - instances
      properties:
        instanceNamePrefix:
          type: string
          maxLength: 10
        cloud:
          type: string
          description: The cloud-type in which the instance is to be provisioned (ex. aws, azure)
        region:
          type: string
          description: The region in which the instance is to be provisioned
        vpc:
          type: string
          description: The VPC to be used for provisioning the instance. If not specified, it will be inherited from the current instances that are in the same region. If no instances are present in the target region, this is a required input.
        computeType:
          type: string
          description: The compute-type to be used for provisioning the instance. If not specified, it will be inherited from the current primary instance.
        enablePerfInsights:
          type: boolean
          default: true
          description: Specify whether to enable perf insights for the DB instances
        awsInfraConfig:
          $ref: '#/components/schemas/AwsInfraConfig'
        instances:
          type: array
          items:
            $ref: '#/components/schemas/AddDbServiceInstancePayload'
    AddDbServiceInstancePayload:
      title: AddDbServiceInstancePayload
      type: object
      required:
        - role
      properties:
        role:
          $ref: '#/components/schemas/TessellServiceInstanceRole'
        availabilityZone:
          type: string
          description: The availability-zone in which the instance is to be provisioned
        computeId:
          type: string
          format: uuid
          description: ID of the Compute Resource
        parameterProfileId:
          type: string
          format: uuid
          description: ID of the Parameter Profile to be used for instance
    DeleteTessellServiceInstancePayload:
      title: DeleteTessellServiceInstancePayload
      type: object
      required:
        - instanceIds
      properties:
        instanceIds:
          description: The id of the instances that are to be deleted
          type: array
          items:
            type: string
            format: uuid
    DeleteTessellServiceInstancePayloadOps:
      title: DeleteTessellServiceInstancePayloadOps
      type: object
      required:
        - instanceGroupId
      properties:
        instanceGroupId:
          description: The id of the instance-group that is to be deleted
          type: string
          format: uuid
    FailOverTessellServicePayload:
      title: FailOverTessellServicePayload
      type: object
    SwitchOverTessellServicePayload:
      title: SwitchOverTessellServicePayload
      type: object
      required:
        - switchToInstanceId
      properties:
        switchToInstanceId:
          type: string
          format: uuid
          description: The ID of the service instance to switch to
        comment:
          type: string
          minLength: 0
          maxLength: 512
          description: Comment for the action
    RestoreTessellServicePayload:
      title: RestoreTessellServicePayload
      type: object
      required:
        - name
        - creds
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: Name of the new DB Service created after restoring. Applicable only when restoring to a new service.
        description:
          type: string
          minLength: 0
          maxLength: 512
          description: Description of the new DB Service created after restoring. Applicable only when restoring to a new service.
        inPlaceRestore:
          type: boolean
          default: false
          description: Specify whether to restore a DB Service in-place.
        backupId:
          type: string
          format: uuid
          description: Tessell service backup ID, using which the DB Service is to be restored
        pitr:
          type: string
          minLength: 1
          maxLength: 128
          description: PITR Timestamp, using which the DB Service is to be restored
        maximumRecoverability:
          type: boolean
          default: false
          description: Specify if the DB Service is to be restored to the latest recoverability point
        creds:
          $ref: '#/components/schemas/TessellServiceCredsPayload'
        serviceConnectivity:
          $ref: '#/components/schemas/RestoreServiceConnectivityInfoPayload'
        computeInfo:
          type: object
          title: ComputeInfo
          description: Compute Resource details for restore
          properties:
            id:
              type: string
              format: uuid
              description: ID of Compute Resource
    RestoreServiceConnectivityInfoPayload:
      title: RestoreServiceConnectivityInfoPayload
      type: object
      description: DB Service connectivity details
      required:
        - servicePort
      properties:
        enableSSL:
          type: boolean
          default: false
        dnsPrefix:
          type: string
          description: If not specified, Tessell will use a randomly generated prefix
    TessellServiceCredsDTO:
      title: TessellServiceCredsDTO
      type: object
      properties:
        creds:
          type: array
          items:
            type: object
            properties:
              userName:
                type: string
                description: Username
              password:
                type: string
                description: Password
              accessKey:
                type: string
                description: client access key
              accessCertificate:
                type: string
                description: client access certificate
              caCertificate:
                type: string
                description: CA certificate
    ResetTessellServiceCredsPayload:
      title: ResetTessellServiceCredsPayload
      type: object
      required:
        - creds
      properties:
        creds:
          type: array
          items:
            type: object
            required:
              - userName
              - newPassword
            properties:
              userName:
                type: string
                description: Username
              newPassword:
                type: string
                description: New password (which is to be reset)
    DeleteTessellServicePayload:
      title: DeleteTessellServicePayload
      type: object
      properties:
        deletionConfig:
          $ref: '#/components/schemas/TessellServiceDeletionConfig'
        comment:
          type: string
          description: Comment for the action
        publishEventLog:
          type: boolean
          default: false

    TessellServiceDeletionConfig:
      title: TessellServiceDeletionConfig
      description: If the DB Service is to be deleted, this config would be honoured if no preference is provided during deleting the service
      x-patchable: true
      properties:
        retainAvailabilityMachine:
          type: boolean
          default: false
          x-patchable: true
          description: If specified as true, the associated Availability Machine (snapshots, sanitized-snapshots, logs) would be retained
    StartTessellServiceOpsPayload:
      title: StartTessellServiceOpsPayload
      properties:
        heal:
          type: boolean
          default: false
          description: Specify if the start action is for healing the DOWN instance
    TessellDeleteDatabasePayloadDTO:
      title: TessellDeleteDatabasePayloadDTO
      properties:
        retainAvailabilityMachine:
          description: If 'retainAvailabilityMachine' is true then set value of field takeFinalBackup and dapsToRetain. By default retainAvailabilityMachine is false, that means delete all details like DMM, Backups, DAPs, Logs etc
          type: boolean
          default: false
    TessellUpdateDatabaseConnectionInfoDTO:
      title: TessellUpdateDatabaseConnectionInfoDTO
      properties:
        enablePublicAccess:
          description: Enable public access to database (true/false)
          type: boolean
        allowedIpAddresses:
          description: Set allowed IP address if enablePublicAccess is true.
          type: array
          items:
            type: string
    TessellUpdateDatabasePayloadDTO:
      title: TessellUpdateDatabasePayloadDTO
      properties:
        serviceName:
          type: string
        masterPassword:
          type: string
        allowedIpAddresses:
          type: array
          items:
            type: string
        enablePublicAccess:
          type: boolean
        dnsName:
          type: string
        description:
          type: string
        connectionSettings:
          $ref: '#/components/schemas/TessellUpdateDatabaseConnectionInfoDTO'
        integrations:
          type: array
          items:
            $ref: '#/components/schemas/TessellUpdateDatabaseIntegrationDTO'
    TessellServiceTimelineDTO:
      title: TessellServiceTimelineDTO
      type: object
      description: This is a definition of the DB Service Timeline object
      properties:
        id:
          type: string
          format: uuid
          description: Tessell generated UUID for the DB Service. This is the unique identifier for the DB Service.
        initiatedBy:
          type: string
          description: User id of person who initiated the action
        initiatedTime:
          type: string
          description: Time at which action was initiated
          format: date-time
        completedTime:
          type: string
          description: Time at which action was completed
          format: date-time
        comment:
          type: string
          description: User specified comment for the action
        initiationMessage:
          type: string
          description: System generated description at the start of action
        completionMessage:
          type: string
          description: System generated description after action is successfully completed
        eventType:
          type: string
          description: System generated description of action
        contextInfo:
          type: array
          description: Contextual information for the action, if any.
          nullable: true
          items:
            type: string
    StartTessellServicePayload:
      title: StartTessellServicePayload
      type: object
      properties:
        comment:
          type: string
          description: Comment for the action
    StopTessellServicePayload:
      title: StopTessellServicePayload
      type: object
      properties:
        comment:
          type: string
          description: Comment for the action
    StopDatabaseInternalPayload:
      title: StopDatabaseInternalPayload
      properties:
        stopAfterHours:
          type: integer
          format: int32
          description: After how many hours, do you plan to stop the database.
        hardStop:
          type: boolean
          default: false
    PatchDbServicePayload:
      title: PatchDbServicePayload
      required:
        - softwareImage
        - softwareImageVersion
        - instanceIds
      properties:
        softwareImage:
          type: string
          minLength: 1
          maxLength: 128
          description: The name of the new software image the DB Service needs to be patched to
        softwareImageVersion:
          type: string
          minLength: 1
          maxLength: 128
          description: The name of the new software image version the DB Service needs to be patched to
        instanceIds:
          type: array
          description: List of the DB Service Instance IDs that needs to be patched
          items:
            type: string
            format: uuid
        patchSchedule:
          type: object
          title: patchSchedule
          description: Patch schedule
          properties:
            scheduleAt:
              type: string
              format: date-time
              description: Date-time at which the patching operation should be performed
            patchAtMaintenanceWindow:
              type: boolean
              default: false
              description: If true, the patching operation will be taken care as part of next maintenance window
    ComputeResourceDriverInfo:
      title: ComputeResourceDriverInfo
      description: Compute Resource's metadata information for driver use
      type: object
      properties:
        data:
          type: object
    ComputeResourceIpAddressInfo:
      title: ComputeResourceIpAddressInfo
      description: Compute Resource's IP Address details
      type: object
      properties:
        data:
          type: object
        ipAddresses:
          type: object
    ComputeResourceMetadata:
      title: ComputeResourceMetadata
      description: Compute Resource's metadata information
      type: object
      properties:
        subscription:
          type: string
        computeType:
          type: string
        vpc:
          type: string
        encryptionKeyId:
          type: string
          format: uuid
        encryptionKey:
          type: string
        connectivityInfo:
          type: object
          properties:
            servicePort:
              description: The connection port for the DB Service
              type: integer
              format: int32
              minimum: 0
        dbserverInfo:
          type: object
          title: ComputeResourceDbserverInfo
          properties:
            firstProvisionedDbserviceId:
              type: string
              format: uuid
            dbServiceIds:
              type: array
              uniqueItems: true
              description: The list of DB Service ids that are hosted on this compute resource
              items:
                type: string
                format: uuid
            enablePublicAccess:
              type: boolean
            enableSSL:
              type: boolean
            softwareImageInfo:
              type: object
              title: DbserverSoftwareImageInfo
              properties:
                softwareImage:
                  type: string
                softwareImageId:
                  type: string
                  format: uuid
                softwareImageVersions:
                  type: array
                  items:
                    type: object
                    title: DbserverSoftwareImageVersionInfo
                    properties:
                      softwareImageVersion:
                        type: string
                      softwareImageVersionId:
                        type: string
                        format: uuid
                      supported:
                        type: boolean
                        default: true
        awsInfraConfig:
          $ref: '#/components/schemas/AwsInfraConfig'
        data:
          type: object
    ComputeResourceTessellStackInfo:
      title: ComputeResourceTessellStackInfo
      description: Tessell Stack information that is present on this Compute Resource
      type: object
      properties:
        data:
          type: object
    DBMetadata:
      title: DBMetadata
      description: Database Node Metadata's metadata information
      type: object
      properties:
        data:
          type: object
    DBServerSystemDriverInfo:
      title: DBServerSystemDriverInfo
      description: DBServer System's metadata information for driver use
      type: object
      properties:
        data:
          type: object
    DBServerSystemIpAddressInfo:
      title: DBServerSystemIpAddressInfo
      description: DBServer System's IP Address details
      type: object
      properties:
        data:
          type: object
        ipAddresses:
          type: object
    DBServerSystemMetadata:
      title: DBServerSystemMetadata
      description: DBServer System's metadata information
      type: object
      properties:
        data:
          type: object
    DatabaseDriverInfo:
      title: DatabaseDriverInfo
      description: Database's metadata information for driver use
      type: object
      properties:
        connectString:
          $ref: '#/components/schemas/TessellServiceDatabaseConnectString'
        data:
          type: object
    TessellServiceDatabaseConnectString:
      title: TessellServiceDatabaseConnectString
      type: object
      x-computed: true
      properties:
        connectDescriptor:
          type: string
          x-computed: true
        masterUser:
          type: string
          x-computed: true
        endpoint:
          type: string
          x-computed: true
        servicePort:
          type: string
          x-computed: true
    ComputeResourceMachineFqdnInfo:
      title: ComputeResourceMachineFqdnInfo
      description: Compute Resource's machineFqdnInfo
      allOf:
        - $ref: '#/components/schemas/FqdnInfo'
    FqdnInfo:
      title: FqdnInfo
      type: object
      properties:
        fqdns:
          type: object
      allOf:
        - $ref: '#/components/schemas/TessellBaseMetadata'
    DatabaseMetadata:
      title: DatabaseMetadata
      description: Database's metadata information
      type: object
      properties:
        cloneInfo:
          $ref: '#/components/schemas/DatabaseCloneMetadataInfo'
        data:
          type: object
    DatabaseCloneMetadataInfo:
      title: DatabaseCloneMetadataInfo
      type: object
      description: Database's clone details
      properties:
        clonedFromDatabase:
          type: string
        clonedFromDatabaseStatus:
          $ref: '#/components/schemas/DatabaseStatusOps'
    TessellServiceClonedFromInfoOps:
      title: TessellServiceClonedFromInfoOps
      type: object
      properties:
        cloneType:
          $ref: '#/components/schemas/DBServiceCloneType'
        createdFromAvailabilityMachine:
          type: string
        createdFromTessellService:
          type: string
        backupType:
          type: string
          description: As-Is, Sanitized, etc.
        createdFromBackupId:
          type: string
          format: uuid
        snapshotTime:
          type: string
          format: date-time
        createdFromBackupName:
          type: string
        createdFromPitr:
          type: string
        maximumRecoverability:
          type: boolean
          default: false
        rpoBased:
          type: boolean
        manualBackup:
          type: boolean
        createdFromDapId:
          type: string
          format: uuid
        createdFromDapName:
          type: string
    TessellServiceNativeBackupInfoOps:
      title: TessellServiceNativeBackupInfoOps
      type: object
      properties:
        sourceBackupId:
          type: string
          format: uuid
        nativeBackupId:
          type: string
          format: uuid
    TessellServiceCloneSanitizationInfoOps:
      title: TessellServiceCloneSanitizationInfoOps
      type: object
      properties:
        sourceBackupIdentifier:
          type: string
          format: uuid
        sourceBackupId:
          type: string
          format: uuid
        sanitizedBackupId:
          type: string
          format: uuid
    TessellServiceClonedFromInfo:
      title: TessellServiceClonedFromInfo
      type: object
      x-computed: true
      description: If the DB Service is created as a clone from some other DB Service, this section describes the parent DB Service and cloning details
      properties:
        tessellServiceId:
          type: string
          format: uuid
          description: The DB Service ID using which this DB Service clone is created
        availabilityMachineId:
          type: string
          format: uuid
          description: The Availability Machine ID using which this DB Service clone is created
        tessellService:
          type: string
          minLength: 1
          maxLength: 128
          description: The DB Service name using which this DB Service clone is created
        availabilityMachine:
          type: string
          minLength: 1
          maxLength: 128
          description: The Availability Machine name using which this DB Service clone is created
        snapshotName:
          type: string
          minLength: 1
          maxLength: 128
          description: The snapshot using which this DB Service clone is created
        snapshotId:
          type: string
          format: uuid
          description: The snapshot ID using which this DB Service clone is created
        snapshotTime:
          type: string
          format: date-time
          description: DB Service snapshot capture time
        pitrTime:
          type: string
          description: If the database was created using a Point-In-Time mechanism, it specifies the timestamp in UTC
        maximumRecoverability:
          type: boolean
          default: false
          description: If the service was created using a maximum recoverability from the parent service
    TessellDatabaseClonedFromInfo:
      title: TessellDatabaseClonedFromInfo
      description: If a database is created as a clone from some other DB Service's database, this section describes the original database details
      type: object
      x-computed: true
      properties:
        databaseId:
          type: string
          format: uuid
          description: The original database Id using which this database clone is created
          x-computed: true
    DatabaseStorageMappingDriverInfo:
      title: DatabaseStorageMappingDriverInfo
      description: Database Storage Mapping's metadata information for driver use
      type: object
      properties:
        data:
          type: object
    DatabaseStorageMappingMetadata:
      title: DatabaseStorageMappingMetadata
      description: Database Storage Mapping's metadata information
      type: object
      properties:
        data:
          type: object
        dmmName:
          type: string
        sizeInGb:
          type: integer
          format: int32
    TessellServiceDriverInfo:
      title: TessellServiceDriverInfo
      description: DB Service's metadata information for plugin use
      type: object
      properties:
        warmStoppedAt:
          type: string
          description: Timestamp when the database goes in WARM_STOPPED state
          format: date-time
        data:
          type: object
    TessellServiceMetadata:
      title: TessellServiceMetadata
      description: DB Service's metadata information
      type: object
      properties:
        cloudAccountId:
          type: string
          format: uuid
          description: The cloud account Id in which the service is provisioned initially
        cloudType:
          type: string
          description: The cloud type in which the service is provisioned initially
        degradeMonitorMetadata:
          $ref: '#/components/schemas/TessellServiceDegradeMonitorMetadata'
        clonedFromMetadataInfo:
          $ref: '#/components/schemas/TessellServiceClonedFromInfoOps'
        nativeBackupInfo:
          $ref: '#/components/schemas/TessellServiceNativeBackupInfoOps'
        cloneSanitizationInfo:
          $ref: '#/components/schemas/TessellServiceCloneSanitizationInfoOps'
        lastAction:
          $ref: '#/components/schemas/TessellServiceLastActionMetadata'
        queuedAction:
          $ref: '#/components/schemas/TessellServiceQueuedActionMetadata'
        deletionAttempts:
          type: integer
          format: int32
        lastStartDispatchTime:
          type: string
          format: date-time
        lastStopDispatchTime:
          type: string
          format: date-time
        lastSwitchoverDispatchTime:
          type: string
          format: date-time
        lastDeletionDispatchTime:
          type: string
          format: date-time
        lastPatchSoftwareDispatchTime:
          type: string
          format: date-time
        lastResizeDispatchTime:
          type: string
          format: date-time
        lastParameterProfileUpdateTime:
          type: string
          format: date-time
        data:
          type: object
    TessellServiceLastActionMetadata:
      title: TessellServiceLastActionMetadata
      type: object
      properties:
        referenceId:
          type: string
        contextId:
          type: string
        actionType:
          type: string
    TessellServiceQueuedActionMetadata:
      title: TessellServiceQueuedActionMetadata
      type: object
      properties:
        action:
          type: string
        queuedAt:
          type: string
          format: date-time
        contextId:
          type: string
    TessellServiceRestoreInfoOps:
      title: TessellServiceRestoreInfoOps
      type: object
      properties:
        timeline:
          type: array
          items:
            $ref: '#/components/schemas/ServiceRestoreInfoOps'
    ServiceRestoreInfoOps:
      title: ServiceRestoreInfoOps
      properties:
        userView:
          $ref: '#/components/schemas/ServiceRestoreInfo'
        dapId:
          type: string
          format: uuid
    ServiceRestoreInfo:
      title: ServiceRestoreInfo
      type: object
      description: DB Service's data restore information
      properties:
        type:
          type: string
          enum: [restore, clone]
        contentType:
          $ref: 'common-specification.yaml#/components/schemas/DataContentType'
        backupId:
          type: string
          format: uuid
          description: The backup Id using which this DB Service clone is created
        pitrTime:
          type: string
          description: If the database was created using a Point-In-Time mechanism, it specifies the timestamp in UTC
        maximumRecoverability:
          type: boolean
          default: false
        restoredAt:
          type: string
          description: Timestamp when the DB Service was restored/cloned
          format: date-time
    TessellServiceInProgressUpdateInfoOps:
      title: TessellServiceInProgressUpdateInfoOps
      type: object
      properties:
        restore:
          type: object
          properties:
            resourceUpdateInfo:
              $ref: 'common-specification.yaml#/components/schemas/TessellResourceUpdateInfo'
            restoreInfo:
              $ref: '#/components/schemas/TessellServiceRestoreInfoOps'
        patch:
          $ref: 'common-specification.yaml#/components/schemas/TessellResourceUpdateInfo'
        resize:
          $ref: 'common-specification.yaml#/components/schemas/TessellResourceUpdateInfo'
        creds:
          $ref: 'common-specification.yaml#/components/schemas/TessellResourceUpdateInfo'
        integration:
          $ref: 'common-specification.yaml#/components/schemas/TessellResourceUpdateInfo'
    TessellServiceDegradeMonitorMetadata:
      title: TessellServiceDegradeMonitorMetadata
      type: object
      properties:
        lastWorkflowDispatchTime:
          type: string
          format: date-time
          description: Timestamp when the last degrade (start-service) workflow was dispatched
        lastWorkflowId:
          type: string
          description: Workflow id of the last(latest) workflow
        attempts:
          type: integer
          format: int32
    TessellServiceInstanceDriverInfo:
      title: TessellServiceInstanceDriverInfo
      description: DB Service Instance's metadata information for plugin use
      type: object
      properties:
        data:
          type: object
    TessellServiceInstanceMetadata:
      title: TessellServiceInstanceMetadata
      description: DB Service Instance's metadata information
      type: object
      properties:
        instanceGroupName:
          type: string
          default: "default"
        deletionAttempts:
          type: integer
          format: int32
        lastDeletionDispatchTime:
          type: string
          format: date-time
        lastResizeDispatchTime:
          type: string
          format: date-time
        lastStorageResizeDispatchTime:
          type: string
          format: date-time
        addReplicaContextId:
          type: string
        data:
          type: object
    TessellServiceInstanceGenericInfo:
      title: TessellServiceInstanceGenericInfo
      type: object
      properties:
        partOfInitialPrimarySet:
          type: boolean
          default: false
        encryptionKey:
          type: string
          description: The encryption key name which is used to encrypt the data at rest
        encryptionKeyId:
          type: string
          format: uuid
          description: The encryption key id which is used to encrypt the data at rest
        serverCertId:
          type: string
          format: uuid
          description: The CA certificate id which is configured for this instance
        vpc:
          type: string
          description: The VPC to be used for provisioning the instance
        vpcId:
          type: string
          format: uuid
          description: The VPC Id which is used for provisioning the instance
        networkProfileId:
          type: string
          format: uuid
          description: The network-profile-id which is used for provisioning the instance
        computeType:
          type: string
        computeId:
          type: string
          format: uuid
        awsInfraConfig:
          $ref: '#/components/schemas/AwsInfraConfig'
        baseStorage:
          type: integer
          format: int64
          default: 0
          minimum: 0
          description: The base storage (in bytes) that has been provisioned for the DB Service instance.
        additionalStorage:
          type: integer
          format: int64
          default: 0
          minimum: 0
          description: The additional storage (in bytes) to be provisioned for the DB Service instance. This is in addition to what is specified in the compute type.
        allocatedStorage:
          type: integer
          format: int64
          default: 0
          minimum: 0
          description: The actual storage (in bytes) that has been provisioned for the DB Service instance.
        maxMemory:
          type: integer
          format: int64
          default: 0
          minimum: 0
          description: The allocated max memory (in bytes) for this instance
        softwareImage:
          type: string
          description: The software-image-name which is used for provisioning this instance
        softwareImageVersion:
          type: string
          description: The software-image-version-name which is used for provisioning this instance
        softwareImageId:
          type: string
          format: uuid
          description: The software-image-id which is used for provisioning this instance
        softwareImageVersionId:
          type: string
          format: uuid
          description: The software-image-version-id which is used for provisioning this instance
        dataVolumeIops:
          type: integer
          format: int64
        throughput:
          type: integer
          format: int32
          description: Throughput requested for this DB Service instance
        parameterProfile:
          $ref: '#/components/schemas/ParameterProfile'
        parameterProfileId:
          type: string
          format: uuid
    TessellServiceInstanceInProgressUpdateInfoOps:
      title: TessellServiceInstanceInProgressUpdateInfoOps
      description: DB Service Instance's in progress updates
      type: object
      properties:
        infra:
          type: object
          properties:
            resourceUpdateInfo:
              $ref: 'common-specification.yaml#/components/schemas/TessellResourceUpdateInfo'
            infraUpdateInfo:
              $ref: '#/components/schemas/TessellServiceInstanceInfraUpdateInfo'
    TessellServiceInstanceInfraUpdateInfo:
      title: TessellServiceInstanceInfraUpdateInfo
      type: object
      properties:
        computeType:
          type: string
    MonitoringConfig:
      title: MonitoringConfig
      type: object
      x-computed: true
      properties:
        perfInsights:
          $ref: '#/components/schemas/PerfInsightsConfig'
    PerfInsightsConfig:
      title: TessellPerfInsightsConfig
      type: object
      properties:
        perfInsightsEnabled:
          type: boolean
        monitoringDeploymentId:
          type: string
          format: uuid
    TessellServiceInstanceConnectionInfo:
      title: TessellServiceInstanceConnectionInfo
      type: object
      properties:
        connectString:
          $ref: '#/components/schemas/TessellServiceInstanceConnectString'
        endPoints:
          type: array
          items:
            type: object
            properties:
              endpoint:
                type: string
              labels:
                type: array
                items:
                  type: string
              data:
                type: object
        data:
          type: object
    TessellServiceInstanceConnectString:
      title: TessellServiceInstanceConnectString
      type: object
      x-computed: true
      properties:
        connectDescriptor:
          type: string
          x-computed: true
        masterUser:
          type: string
          x-computed: true
        endpoint:
          type: string
          x-computed: true
        servicePort:
          type: string
          x-computed: true
    DbssCrMappingDriverInfo:
      title: DbssCrMappingDriverInfo
      description: DBServer System and Compute Resource Mapping's metadata information for driver use
      type: object
      properties:
        data:
          type: object
    DbssCrMappingMetadata:
      title: DbssCrMappingMetadata
      description: DBServer System and Compute Resource Mapping's metadata information
      type: object
      properties:
        data:
          type: object
    DbssSwitchOverPolicy:
      title: DbssSwitchOverPolicy
      description: DBServer System's switchover policy details
      type: object
    CloneTessellServicePayload:
      title: CloneTessellServicePayload
      allOf:
        - type: object
          properties:
            snapshotId:
              type: string
              format: uuid
              description: Tessell service snapshot Id, using which the clone is to be created
            pitr:
              type: string
              description: PITR Timestamp, using which the clone is to be created
        - $ref: 'database-system-api.yaml#/components/schemas/ProvisionTessellServicePayload'
    SanitizeBackupClonePayload:
      title: SanitizeBackupClonePayload
      allOf:
        - type: object
          properties:
            sanitizationInfo:
              $ref: '#/components/schemas/BackupSanitizationCloneOpsPayload'
            backupValidationInfo:
              $ref: 'dmm-api.yaml#/components/schemas/CloneBackupValidationResponse'
        - $ref: '#/components/schemas/CloneTessellServicePayload'
    CreateNativeBackupOpsPayload:
      title: CreateNativeBackupOpsPayload
      allOf:
        - type: object
          properties:
            nativeBackupPayload:
              $ref: '#/components/schemas/NativeBackupOpsPayload'
            backupValidationInfo:
              $ref: 'dmm-api.yaml#/components/schemas/CloneBackupValidationResponse'
        - $ref: '#/components/schemas/CloneTessellServicePayload'
    PreAuthUrlPayload:
      title: PreAuthUrlPayload
      allOf:
        - type: object
      properties:
        preAuthUrlConfigList:
          description: list of pre auth link config
          type: array
          items:
            $ref: 'dmm-api.yaml#/components/schemas/PreAuthUrlConfig'
        nativeBackupLocation:
          type: string
          description: location of the blob
    BackupSanitizationCloneOpsPayload:
      title: BackupSanitizationCloneOpsPayload
      type: object
      properties:
        sanitizationScheduleId:
          type: string
          format: uuid
          description: Sanitization schedule Id
        scriptId:
          type: string
          format: uuid
          description: Tessell Script Id
        scriptVersion:
          type: string
          description: Tessell Script version
        scriptInternalVersion:
          type: integer
          format: int32
          description: Tessell Script internal version
        manual:
          type: boolean
          default: false
          description: Specifies if the backup-sanitization request is submitted by user
        sanitizedBackupId:
          type: string
          format: uuid
          description: The Id of the sanitized backup (metadata entry)
        sanitizedBackupName:
          type: string
          description: The name of the sanitized backup (metadata entry)
        sourceBackupId:
          type: string
          format: uuid
          description: The Id of the source backup which is to be sanitized
        sourceBackupIdentifier:
          type: string
          format: uuid
          description: The identifier of the source backup which is to be sanitized
        sourceBackupDapBased:
          type: boolean
          default: false
          description: Specifies whether the source backup is DAP based
    NativeBackupOpsPayload:
      title: NativeBackupOpsPayload
      type: object
      properties:
        nativeBackupId:
          type: string
          format: uuid
          description: native backup Id
        sourceBackupId:
          type: string
          format: uuid
          description: Snapshot Id
        manual:
          type: boolean
          default: false
          description: Specifies if the backup-sanitization request is submitted by user
        nativeBackupName:
          type: string
          description: Name of the native backup
        preAuthUrlConfigs:
          type: array
          items:
            $ref: '#/components/schemas/PreAuthUrlConfig'
    MonitoringConfigTaskPayload:
      title: MonitoringConfigTaskPayload
      type: object
      properties:
        perfInsights:
          $ref: '#/components/schemas/TessellPerfInsightsConfigTaskPayload'
    DeleteTessellServerTaskPayload:
      title: DeleteTessellServerTaskPayload
      type: object
      properties:
        computeResourceId:
          type: string
          format: uuid
        tenantId:
          type: string
        cloudAccountId:
          type: string
          format: uuid
    TessellPerfInsightsConfigTaskPayload:
      title: TessellPerfInsightsConfigTaskPayload
      type: object
      properties:
        perfInsightsEnabled:
          type: boolean
        monitoringDeploymentId:
          description: Id of the monitoring deployment
          type: string
          format: uuid
        connectivity:
          type: object
          properties:
            privateIp:
              description: Private ip of the perf insights monitoring infra
              type: string
            publicIp:
              description: Public ip of the perf insights monitoring infra
              type: string

    ProvisionTessellServiceTaskPayload:
      title: ProvisionTessellServiceTaskPayload
      type: object
      properties:
        actionType:
          $ref: '#/components/schemas/ActionType'
        clone:
          type: boolean
        serviceName:
          type: string
        tessellServiceId:
          type: string
          format: uuid
        dbserverSystemId:
          type: string
          format: uuid
        availabilityMachineId:
          type: string
          format: uuid
        databaseEngineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        topology:
          $ref: '#/components/schemas/tessellServiceTopology'
        numOfInstances:
          type: integer
        computeResourceMachineType:
          $ref: '#/components/schemas/MachineType'
        monitoringConfig:
          $ref: '#/components/schemas/MonitoringConfigTaskPayload'
        ownerId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
        cloudAccountId:
          type: string
          format: uuid
        cloudLocation:
          $ref: '#/components/schemas/CloudLocationInfo'
        creds:
          $ref: '#/components/schemas/TessellServiceCredsPayload'
        instanceGroupId:
          type: string
          format: uuid
        connectivityConfig:
          $ref: '#/components/schemas/TessellServiceConnectivityInfoPayload'
        infrastructureConfig:
          $ref: '#/components/schemas/ProvisionServiceWorkInfraPayload'
        serviceConfiguration:
          $ref: '#/components/schemas/TessellServiceConfigOps'
        engineConfig:
          $ref: '#/components/schemas/TessellServiceEngineInfoOps'
        integrations:
          $ref: '#/components/schemas/TessellServiceIntegrationsPayload'
        clonePayload:
          $ref: '#/components/schemas/CloneTaskPayload'
        sanitizationPayload:
          $ref: '#/components/schemas/BackupSanitizationCloneOpsPayload'
        dbLicenses:
          type: array
          items:
            $ref: '#/components/schemas/DbLicenseInfo'
        deleteInternalServiceCallbackUrl:
          type: string
        nativeBackupPayload:
          $ref: '#/components/schemas/NativeBackupOpsPayload'
        metadata:
          type: object
          additionalProperties:
            type: string
    ActionType:
      type: string
      enum:
        - PROVISION_TESSELL_SERVICE
        - CLONE_TESSELL_SERVICE
        - PATCH_TESSELL_SERVICE
        - CREATE_SANITIZED_BACKUP
        - CREATE_NATIVE_BACKUP
        - RESTORE_TESSELL_SERVICE_OUT_OF_PLACE
    CloudLocationInfo:
      description: This is a definition for Tessell Cloud Location Identifier Object
      example:
        cloudType: AWS
        id: id
        region: region
        availabilityZone: availabilityZone
      properties:
        availabilityZone:
          type: string
          description: Availability Zone Name
        cloudType:
          $ref: '#/components/schemas/cloudType'
        region:
          type: string
          description: Region Name
        name:
          type: string
          description: Presentable name
        id:
          x-dao-query: true
          x-dao-annotations: |
            @Id
          type: string
      title: CloudLocationInfo
      type: object
    ProvisionServiceWorkInfraPayload:
      type: object
      properties:
        cloud:
          type: string
        region:
          type: string
        availabilityZone:
          type: string
        enableEncryption:
          type: boolean
        encryptionKey:
          type: string
        vpc:
          type: string
        computeType:
          type: string
        softwareImage:
          type: string
        softwareImageVersion:
          type: string
        storage:
          type: integer
          format: int64
        additionalStorage:
          type: integer
          format: int64
        computeTypeId:
          type: string
          format: uuid
        awsInfraConfig:
          $ref: '#/components/schemas/AwsInfraConfig'
        enableComputeSharing:
          type: boolean
        edition:
          type: string
        vpcId:
          type: string
          format: uuid
        networkProfileId:
          type: string
          format: uuid
        encryptionKeyId:
          type: string
          format: uuid
        dbMasterSecretId:
          type: string
          format: uuid
        softwareImageId:
          type: string
          format: uuid
        softwareImageVersionId:
          type: string
          format: uuid
        computeNamePrefix:
          type: string
        computes:
          type: array
          items:
            $ref: '#/components/schemas/ProvisionComputePayload'
        iops:
          type: integer
          format: int32
        throughput:
          type: integer
          format: int32
    CloneTaskPayload:
      type: object
      properties:
        sourceTessellServiceId:
          type: string
          format: uuid
        sourceAvailabilityMachineId:
          type: string
          format: uuid
        backupId:
          type: string
          format: uuid
        backupName:
          type: string
        rpoBased:
          type: boolean
        pitr:
          type: string
        maximumRecoverability:
          type: boolean
    ProvisionTessellServicePayload:
      title: ProvisionTessellServicePayload
      type: object
      required:
        - name
        - subscription
        - engineType
        - topology
        - softwareImage
        - softwareImageVersion
        - infrastructure
        - serviceConnectivity
        - creds
        - engineConfiguration
      properties:
        name:
          type: string
          description: DB Service name
        description:
          type: string
          description: DB Service's description
        subscription:
          type: string
          description: Tessell Subscription in which the DB Service is to be created
        edition:
          type: string
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        topology:
          $ref: '#/components/schemas/tessellServiceTopology'
        numOfInstances:
          type: integer
          format: int32
          default: 0
          minimum: 0
          maximum: 5
          description: Number of instance (nodes) to be created for the DB Service. This is a required input for Apache Kafka. For all other engines, this input would be ignored even if specified.
        softwareImage:
          type: string
          description: Software Image to be used to create the DB Service
        softwareImageVersion:
          type: string
          description: Software Image Version to be used to create the DB Service
        autoMinorVersionUpdate:
          type: boolean
          default: true
          description: Specify whether to automatically update minor version for DB Service
        enableDeletionProtection:
          type: boolean
          default: true
          description: Specify whether to enable deletion protection for the DB Service
        enableStopProtection:
          type: boolean
          default: false
          description: Specify whether to enable stop protection for the DB Service
        enablePerfInsights:
          type: boolean
          default: true
          description: Specify whether to enable perf insights for the DB Service
        infrastructure:
          $ref: '#/components/schemas/TessellServiceInfrastructurePayload'
        serviceConnectivity:
          $ref: '#/components/schemas/TessellServiceConnectivityInfoPayload'
        creds:
          $ref: '#/components/schemas/TessellServiceCredsPayload'
        maintenanceWindow:
          $ref: '#/components/schemas/TessellServiceMaintenanceWindow'
        deletionConfig:
          $ref: '#/components/schemas/TessellServiceDeletionConfig'
        snapshotConfiguration:
          $ref: '#/components/schemas/SnapshotConfigurationPayload'
        engineConfiguration:
          $ref: '#/components/schemas/TessellServiceEngineConfigurationPayload'
        databases:
          description: Specify the databases to be created in the DB Service
          type: array
          items:
            $ref: '#/components/schemas/CreateDatabasePayload'
        integrationsConfig:
          $ref: '#/components/schemas/TessellServiceIntegrationsPayload'
        tags:
          type: array
          description: The tags to be associated with the DB Service
          items:
            $ref: 'common-specification.yaml#/components/schemas/TessellTag'
    TessellServiceInfrastructurePayload:
      title: TessellServiceInfrastructurePayload
      type: object
      description: The infra details where the DB Service is present or to be provisioned
      required:
        - cloud
        - region
        - vpc
        - computeType
      properties:
        cloud:
          type: string
          description: The cloud-type in which the DB Service is to be provisioned (ex. aws, azure)
        region:
          type: string
          description: The region in which the DB Service is to be provisioned
        availabilityZone:
          type: string
          description: The availability-zone in which the DB Service is to be provisioned
        vpc:
          type: string
          description: The VPC to be used for provisioning the DB Service
        enableEncryption:
          type: boolean
          default: false
          description: Specify whether to enable the encryption at rest for the DB Service.
        encryptionKey:
          type: string
          description: The encryption key name which is to be used to encrypt the data at rest. This is honoured only if 'enableEncryption' is true. If this is not specified, Tessell will use a default out-of-the-box encryption key.
          nullable: true
        computeType:
          type: string
          description: The compute-type to be used for provisioning the DB Service
        awsInfraConfig:
          $ref: '#/components/schemas/AwsInfraConfig'
        additionalStorage:
          type: integer
          format: int64
          default: 0
          minimum: 0
          description: The additional storage (in bytes) to be provisioned for the DB Service. This is in addition to what is specified in the compute type.
        enableComputeSharing:
          type: boolean
          default: false
          description: Specify if the computes should be shared across DB Services
        computeNamePrefix:
          type: string
          nullable: true
          maxLength: 30
          description: If not specified, it will be autogenerated
        timezone:
          $ref: 'common-specification.yaml#/components/schemas/TimeZone'
        computes:
          type: array
          items:
            $ref: '#/components/schemas/ProvisionComputePayload'
        iops:
          type: integer
          format: int32
          minimum: 0
          maximum: 10000000
          description: IOPS required for the DB Service
        throughput:
          type: integer
          format: int32
          minimum: 0
          maximum: 100000
          description: Throughput in MB/s required for the DB Service
    ProvisionComputePayload:
      type: object
      title: ProvisionComputePayload
      properties:
        region:
          type: string
          description: The region in which the compute is to be provisioned
        availabilityZone:
          type: string
          description: The availability-zone in which the compute is to be provisioned
        role:
          $ref: '#/components/schemas/TessellServiceInstanceRole'
        vpc:
          type: string
          description: The VPC to be used for provisioning the compute resource
        computeType:
          type: string
          description: The compute-type to be used for provisioning the compute resource
        computeId:
          type: string
          format: uuid
          description: Specify the compute resource if it has to be shared
        timezone:
          $ref: 'common-specification.yaml#/components/schemas/TimeZone'
    TessellServiceInfrastructureInfo:
      title: TessellServiceInfrastructureInfo
      type: object
      description: This field contains DB Service's infrastructure related information, like, where the service is hosted - cloud, region; what compute shape, or network is is configured with.
      properties:
        cloud:
          type: string
          description: The cloud-type in which the DB Service is provisioned (ex. aws, azure)
        region:
          type: string
          description: The region in which the DB Service provisioned
        availabilityZone:
          type: string
          description: The availability-zone in which the DB Service is provisioned
        cloudAvailability:
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/CloudRegionInfo'
          x-computed: true
        vpc:
          type: string
          description: The VPC to be used for provisioning the DB Service
        enableEncryption:
          type: boolean
          default: false
        encryptionKey:
          type: string
          description: The encryption key name which is used to encrypt the data at rest
        computeType:
          type: string
          description: The compute-type to be used for provisioning the DB Service
        awsInfraConfig:
          $ref: '#/components/schemas/AwsInfraConfig'
        storage:
          x-computed: true
          type: integer
          format: int64
          default: 0
          minimum: 0
          description: The storage (in bytes) that has been provisioned for the DB Service
        additionalStorage:
          type: integer
          format: int64
          default: 0
          minimum: 0
          description: Size in GB. This is maintained for backward compatibility and would be deprecated soon.
        enableComputeSharing:
          type: boolean
          description: Specify if the computes should be shared across DB Services
        timezone:
          $ref: 'common-specification.yaml#/components/schemas/TimeZone'
        multiDisk:
          type: boolean
          description: Specify whether the DB service uses multiple data disks
        iops:
          type: integer
          format: int32
          description: IOPS requested for the DB Service
        throughput:
          type: integer
          format: int32
          description: throughput requested for the DB Service
    TFTessellServiceInfrastructureInfo:
      title: TFTessellServiceInfrastructureInfo
      type: object
      description: This field contains DB Service's infrastructure related information, like, where the service is hosted - cloud, region; what compute shape, or network is is configured with.
      properties:
        cloud:
          type: string
          description: The cloud-type in which the DB Service is provisioned (ex. aws, azure)
        region:
          type: string
          description: The region in which the DB Service provisioned
        availabilityZone:
          type: string
          description: The availability-zone in which the DB Service is provisioned
        cloudAvailability:
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/CloudRegionInfo'
          x-computed: true
        vpc:
          type: string
          description: The VPC to be used for provisioning the DB Service
        enableEncryption:
          type: boolean
          default: false
        encryptionKey:
          type: string
          nullable: true
          description: The encryption key name which is used to encrypt the data at rest
        computeType:
          type: string
          description: The compute-type to be used for provisioning the DB Service
        awsInfraConfig:
          $ref: '#/components/schemas/AwsInfraConfig'
        storage:
          x-computed: true
          type: integer
          format: int64
          default: 0
          minimum: 0
          description: The storage (in bytes) that has been provisioned for the DB Service
        additionalStorage:
          type: integer
          format: int64
          default: 0
          minimum: 0
          description: Size in GB. This is maintained for backward compatibility and would be deprecated soon.
        enableComputeSharing:
          type: boolean
          default: false
          description: Specify if the computes should be shared across DB Services
        timezone:
          $ref: 'common-specification.yaml#/components/schemas/TimeZone'
        multiDisk:
          type: boolean
          x-computed: true
          description: Specify whether the DB service uses multiple data disks
        iops:
          type: integer
          format: int32
          minimum: 0
          maximum: 10000000
          description: IOPS requested for the DB Service
        throughput:
          type: integer
          format: int32
          minimum: 0
          maximum: 100000
          description: throughput requested for the DB Service
        computeNamePrefix:
          type: string
          nullable: true
          maxLength: 30
          description: If not specified, it will be autogenerated
        computes:
          type: array
          items:
            $ref: '#/components/schemas/ProvisionComputePayload'
    TessellServiceConnectivityInfoPayload:
      title: TessellServiceConnectivityInfoPayload
      type: object
      description: DB Service connectivity details
      required:
        - servicePort
      properties:
        enableSSL:
          type: boolean
          default: false
        dnsPrefix:
          type: string
          description: If not specified, Tessell will use a randomly generated prefix
        servicePort:
          description: The connection port for the DB Service
          type: integer
          format: int32
          minimum: 0
        enablePublicAccess:
          description: Specify whether to enable public access to the DB Service, default false
          type: boolean
          default: false
        allowedIpAddresses:
          description: The list of allowed ipv4 addresses that can connect to the DB Service
          type: array
          items:
            type: string
            format: ip4
    TessellServiceCredsPayload:
      title: TessellServiceCredsPayload
      type: object
      description: DB Service's credential details
      required:
        - masterUser
        - masterPassword
      properties:
        masterUser:
          type: string
          minLength: 1
          maxLength: 256
          x-patchable: true
          description: DB Service's master username
        masterPassword:
          type: string
          minLength: 1
          maxLength: 256
          x-patchable: true
          description: DB Service's master password
    TessellServiceMaintenanceWindow:
      title: TessellServiceMaintenanceWindow
      type: object
      description: This field details the DB Service maintenance related details.
      required:
        - day
        - time
        - duration
      properties:
        day:
          $ref: 'common-specification.yaml#/components/schemas/WeekDay'
        time:
          type: string
          description: Time value in (hh:mm) format. ex. "02:00"
        duration:
          type: integer
          format: int32
          minimum: 30
          description: The duration during which the maintenance window will be allowed to trigger
    SnapshotConfigurationPayload:
      title: SnapshotConfigurationPayload
      type: object
      description: DB Service's snapshot retention configurations. If not specified, the default recommended retention configurations would be applied.
      x-patchable: true
      properties:
        snapshotWindow:
          type: object
          x-patchable: true
          properties:
            time:
              type: string
              description: Time value in (hh:mm) format. ex. "02:00". Deprecated, please use backupStartTime in schedule.
              x-patchable: true
        sla:
          type: string
          description: The snapshot SLA for the DB Service. If not specified, a default SLA would be associated with the DB Service
          x-patchable: true
        schedule:
          $ref: 'dmm-api.yaml#/components/schemas/ScheduleInfo'
        fullBackupSchedule:
          $ref: 'dmm-api.yaml#/components/schemas/FullBackupSchedule'
    CreateDatabasePayload:
      title: CreateDatabasePayload
      type: object
      required:
        - databaseName
      properties:
        databaseName:
          type: string
          minLength: 1
          maxLength: 128
          description: The name of the database to be created
        sourceDatabaseId:
          type: string
          format: uuid
          description: Required while creating a clone. It specifies the Id of the source database from which the clone is being created.
        databaseConfiguration:
          type: object
          properties:
            oracleConfig:
              $ref: '#/components/schemas/CreateOracleDatabaseConfig'
            postgresqlConfig:
              $ref: '#/components/schemas/PostgresqlDatabaseConfig'
            mysqlConfig:
              $ref: '#/components/schemas/MySqlDatabaseConfig'
            sqlServerConfig:
              $ref: '#/components/schemas/SqlServerDatabaseConfig'
            mongodbConfig:
              $ref: '#/components/schemas/MongodbDatabaseConfig'
            milvusConfig:
              $ref: '#/components/schemas/MilvusDatabaseConfig'
        collectionConfig:
          $ref: '#/components/schemas/DbCollectionCreatePayload'
    UpdateDatabasePayload:
      title: UpdateDatabasePayload
      type: object
      required:
        - description
      properties:
        description:
          type: string
          minLength: 0
          maxLength: 512
    TessellServiceEngineConfigurationPayload:
      title: TessellServiceEngineConfigurationPayload
      type: object
      properties:
        preScriptInfo:
          $ref: '#/components/schemas/ScriptInfo'
        postScriptInfo:
          $ref: '#/components/schemas/ScriptInfo'
        oracleConfig:
          $ref: '#/components/schemas/OracleEngineConfigPayload'
        postgresqlConfig:
          $ref: '#/components/schemas/PostgresqlEngineConfigPayload'
        mysqlConfig:
          $ref: '#/components/schemas/MySqlEngineConfigPayload'
        sqlServerConfig:
          $ref: '#/components/schemas/SqlServerEngineConfigPayload'
        apacheKafkaConfig:
          $ref: '#/components/schemas/ApacheKafkaEngineConfigPayload'
        mongodbConfig:
          $ref: '#/components/schemas/MongodbEngineConfigPayload'
        milvusConfig:
          $ref: '#/components/schemas/MilvusEngineConfigPayload'
    OracleEngineConfigPayload:
      title: OracleEngineConfigPayload
      type: object
      required:
        - parameterProfileId
        - optionsProfile
        - characterSet
        - nationalCharacterSet
      properties:
        multiTenant:
          type: boolean
          default: false
          description: Specify whether the DB Service is multi-tenant.
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile id for the database
        optionsProfile:
          type: string
          description: The options profile for the database
        characterSet:
          type: string
          description: The character-set for the database
        nationalCharacterSet:
          type: string
          description: The national-character-set for the database
        enableArchiveMode:
          type: boolean
          default: true
          description: To explicitly enable archive mode, when PITR is disabled
    PostgresqlEngineConfigPayload:
      title: PostgresEngineConfigPayload
      type: object
      required:
        - parameterProfileId
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile id for the database
        adDomainId:
          type: string
          format: uuid
          description: Active Directory Domain id
        proxyPort:
          type: integer
          format: int32
          minimum: 0
    MySqlEngineConfigPayload:
      title: MySqlEngineConfigPayload
      type: object
      required:
        - parameterProfileId
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile id for the database
        adDomainId:
          type: string
          format: uuid
          description: Active Directory Domain id
    SqlServerEngineConfigPayload:
      title: SqlServerEngineConfigPayload
      type: object
      required:
        - parameterProfileId
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile id for the database
        adDomainId:
          type: string
          format: uuid
          description: Active Directory Domain id
    ApacheKafkaEngineConfigPayload:
      title: ApacheKafkaEngineConfigPayload
      type: object
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile id for the database
    MongodbEngineConfigPayload:
      title: MongodbEngineConfigPayload
      type: object
      required:
        - clusterName
        - parameterProfile
      properties:
        clusterName:
          type: string
          description: The MongoDB Cluster name. The name should start with a alphabet and must be alphanumeric.
          minLength: 1
          maxLength: 64
          pattern: "^[a-zA-Z][a-zA-Z0-9-]*$"
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile id for the database
    MilvusEngineConfigPayload:
      title: MilvusEngineConfigPayload
      type: object
      required:
        - parameterProfileId
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile id for the database
    TessellServiceEngineInfoOps:
      title: TessellServiceEngineInfoOps
      description: DB Service's engine configuration
      type: object
      properties:
        userView:
          $ref: '#/components/schemas/TessellServiceEngineInfo'
        internalView:
          $ref: '#/components/schemas/TessellServiceEngineInternalView'
    TessellServiceEngineInfo:
      title: TessellServiceEngineInfo
      description: This field details the DB Service engine configuration details like - parameter profile, or options profile (if applicable) are used to configure the DB Service.
      type: object
      nullable: true
      properties:
        oracleConfig:
          $ref: '#/components/schemas/TessellServiceOracleEngineConfig'
        postgresqlConfig:
          $ref: '#/components/schemas/TessellServicePostgresqlEngineConfig'
        mysqlConfig:
          $ref: '#/components/schemas/TessellServiceMySqlEngineConfig'
        sqlServerConfig:
          $ref: '#/components/schemas/TessellServiceSqlServerEngineConfig'
        apacheKafkaConfig:
          $ref: '#/components/schemas/TessellServiceApacheKafkaEngineConfig'
        mongodbConfig:
          $ref: '#/components/schemas/TessellServiceMongodbEngineConfig'
        milvusConfig:
          $ref: '#/components/schemas/TessellServiceMilvusEngineConfig'
        preScriptInfo:
          $ref: '#/components/schemas/ScriptInfo'
        postScriptInfo:
          $ref: '#/components/schemas/ScriptInfo'
    ScriptInfo:
      title: ScriptInfo
      type: object
      nullable: true
      properties:
        scriptId:
          type: string
          format: uuid
          description: The Tessell Script ID
        scriptVersion:
          type: string
          description: The Tessell Script version
    ScriptInfoOps:
      title: ScriptInfoOps
      type: object
      description: The pre-script information
      properties:
        scriptId:
          type: string
          format: uuid
          description: The Tessell Script Id
        scriptInternalVersion:
          type: integer
          format: int32
          description: The Tessell Script internal version
    TessellServiceOracleEngineConfig:
      title: TessellServiceOracleEngineConfig
      type: object
      nullable: true
      properties:
        multiTenant:
          type: boolean
          default: false
          description: Specify whether the DB Service is multi-tenant.
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile id for the database
        optionsProfile:
          type: string
          description: The options profile for the database
        characterSet:
          type: string
          description: The character-set for the database
        nationalCharacterSet:
          type: string
          description: The national-character-set for the database
        enableArchiveMode:
          type: boolean
          default: true
          description: To explicitly enable archive mode, when PITR is disabled
    TessellServicePostgresqlEngineConfig:
      title: TessellServicePostgresqlEngineConfig
      type: object
      nullable: true
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile ID for the database
        adDomainId:
          type: string
          format: uuid
          description: Active Directory Domain ID
        proxyPort:
          type: integer
          format: int32
          minimum: 0
    TessellServiceMySqlEngineConfig:
      title: TessellServiceMySqlEngineConfig
      type: object
      nullable: true
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile ID for the database
        adDomainId:
          type: string
          format: uuid
          description: Active Directory Domain ID
    TessellServiceSqlServerEngineConfig:
      title: TessellServiceSqlServerEngineConfig
      type: object
      nullable: true
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile ID for the database
        adDomainId:
          type: string
          format: uuid
          description: Active Directory Domain ID
    TessellServiceApacheKafkaEngineConfig:
      title: TessellServiceApacheKafkaEngineConfig
      type: object
      nullable: true
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile id for the database
    TessellServiceMongodbEngineConfig:
      title: TessellServiceMongodbEngineConfig
      type: object
      nullable: true
      properties:
        clusterName:
          type: string
          description: The MongoDB Cluster name
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile ID for the database
    TessellServiceMilvusEngineConfig:
      title: TessellServiceMilvusEngineConfig
      type: object
      nullable: true
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile ID for the database
    TessellServiceEngineInternalView:
      title: TessellServiceEngineInternalView
      type: object
      description: This is the union of all engine config internal view
      properties:
        parameterProfileId:
          type: string
          format: uuid
        parameterProfileVersion:
          type: string
          format: uuid
        optionsProfileId:
          type: string
          format: uuid
        preScriptInfo:
          $ref: '#/components/schemas/ScriptInfo'
        postScriptInfo:
          $ref: '#/components/schemas/ScriptInfo'
    TessellServiceProvisionInfo:
      title: TessellServiceProvisionInfo
      description: DB Service's provisioning information
      type: object
      properties:
        data:
          type: object
        provisionGenericInfo:
          type: object
          title: ProvisionGenericInfo
          properties:
            vpcId:
              type: string
              format: uuid
            networkProfileId:
              type: string
              format: uuid
            computeTypeId:
              type: string
              format: uuid
            softwareImageId:
              type: string
              format: uuid
            softwareImageVersionId:
              type: string
              format: uuid
            softwareImage:
              type: string
            softwareImageVersion:
              type: string
            softwareImageVersionFamily:
              type: string
            edition:
              type: string
        infrastructure:
          $ref: '#/components/schemas/TessellServiceInfrastructurePayload'
        serviceConnectivity:
          $ref: '#/components/schemas/TessellServiceConnectivityInfoPayload'
        infraReservationInfo:
          type: object
          properties:
            maxMemory:
              type: integer
              format: int64
              default: 0
              minimum: 0
    TessellServiceIntegrationsInfoOps:
      title: TessellServiceIntegrationsInfoOps
      description: DB Service's Integrations information
      type: object
      properties:
        userView:
          $ref: '#/components/schemas/TessellServiceIntegrationsInfo'
        internalView:
          type: object
    TessellServiceIntegrationsInfo:
      title: TessellServiceIntegrationsInfo
      description: Tessell provides support to integrate third party softwares with DB Services. This fields details the information about what third-party integrations are configured with the DB Service.
      type: object
      properties:
        integrations:
          type: array
          items:
            type: string
            format: uuid
    TessellServiceIntegrationsPayload:
      title: TessellServiceIntegrationsPayload
      description: Integrations to be enabled for the DB Service
      type: object
      nullable: true
      x-patchable: true
      properties:
        integrations:
          type: array
          nullable: true
          items:
            type: string
            format: uuid
    TessellServiceInfrastructureInfoOps:
      title: TessellServiceInfrastructureInfoOps
      type: object
      description: The infra details where the DB Service is present or to be provisioned
      properties:
        userView:
          $ref: '#/components/schemas/TessellServiceInfrastructureInfo'
        internalView:
          type: object
          properties:
            tsm:
              type: boolean
              default: false
              description: Specify whether the service is created using TSM compute type
            multiDisk:
              type: boolean
              default: false
              description: Specify whether the DB service uses multiple data disks
            encryptionKeyId:
              type: string
              format: uuid
              description: The encryption key id which is used to encrypt the data at rest
            dbMasterSecretId:
              type: string
              format: uuid
              description: The secret-key-id which is used to store the database master creds
            baseStorage:
              type: integer
              format: int64
              default: 0
              minimum: 0
              description: The default storage (in bytes) that has become effective as part of computeType (provision) or restore-size (for clones).
            additionalStorage:
              type: integer
              format: int64
              default: 0
              minimum: 0
              description: The additional storage (in bytes) that has been provisioned for the DB Service. This is in addition to what is specified in the compute type.
            cloudAvailability:
              type: array
              items:
                $ref: 'common-specification.yaml#/components/schemas/CloudRegionInfo'
            vpcId:
              type: string
              format: uuid
              description: The VPC Id which is used for provisioning the DB Service
            networkProfileId:
              type: string
              format: uuid
              description: The network-profile-id which is used for provisioning the DB Service.
            computeTypeId:
              type: string
              format: uuid
              description: The compute-type-id which is used for provisioning the DB Service.
            softwareImage:
              type: string
              description: The software-image-name which is used for provisioning the DB Service
            softwareImageVersion:
              type: string
              description: The software-image-version-name which is used for provisioning the DB Service
            softwareImageId:
              type: string
              format: uuid
              description: The software-image-id which is used for provisioning the DB Service
            softwareImageVersionId:
              type: string
              format: uuid
              description: The software-image-version-id which is used for provisioning the DB Service
            osImageId:
              type: string
            dbEngineSnapshotId:
              type: string
            tessellLibraySnapshotId:
              type: string
            edition:
              type: string
    TessellServiceConnectivityInfoOps:
      title: TessellServiceConnectivityInfoOps
      description: DB Service's connectivity information
      type: object
      properties:
        userView:
          $ref: '#/components/schemas/TessellServiceConnectivityInfo'
        updateInProgressView:
          $ref: '#/components/schemas/TessellServiceConnectivityUpdateInProgressInfo'
        lastUpdatedAt:
          type: string
          format: date-time
          description: The time when the last update was made for connectivity
        data:
          type: object
    TessellServiceConnectivityInfo:
      title: TessellServiceConnectivityInfo
      type: object
      x-patchable: true
      description: DB Service's connectivity information
      properties:
        enableSSL:
          type: boolean
          default: false
          description: Specify whether to enable SSL to the DB Service, default false
        caCertId:
          type: string
          default: uuid
          x-computed: true
          description: The CA certificate ID associated with the DB Service
        dnsPrefix:
          type: string
          x-patchable: true
          description: DNS Prefix associated with the DB Service
        servicePort:
          type: integer
          format: int32
          minimum: 0
          description: The connection port for the DB Service
        enablePublicAccess:
          type: boolean
          x-patchable: true
          description: Specify whether to enable public access to the DB Service, default false
        allowedIpAddresses:
          type: array
          description: The list of allowed ipv4 addresses that can connect to the DB Service
          items:
            type: string
            format: ip4
          x-patchable: true
        connectStrings:
          type: array
          description: The list of connect strings for the DB Service
          items:
            $ref: '#/components/schemas/TessellServiceConnectString'
          x-computed: true
        privateLink:
          type: object
          title: ServiceConnectivityPrivateLink
          description: The interface endpoint or Gateway Load Balancer endpoint to connect to your DB service.
          x-computed: true
          properties:
            status:
              $ref: '#/components/schemas/DbServicePrivateLinkStatus'
            servicePrincipals:
              type: array
              description: The list of AWS account principals that are currently enabled
              uniqueItems: true
              items:
                type: string
              x-computed: true
            endpointServiceName:
              description: The configured endpoint as a result of configuring the service-principals
              type: string
              x-computed: true
            clientAzureSubscriptionIds:
              type: array
              description: The list of Azure subscription Ids
              uniqueItems: true
              items:
                type: string
                format: uuid
            privateLinkServiceAlias:
              type: string
              description: The Azure private link service alias
        computesConnectivity:
          type: array
          title: computesConnectivity
          x-computed: true
          description: The Genie endpoint to connect to your DB service.
          items:
            $ref: '#/components/schemas/ComputeConnectivityConfig'
        updateInProgressInfo:
          $ref: '#/components/schemas/TessellServiceConnectivityUpdateInProgressInfo'
    DbServicePrivateLinkStatus:
      title: DbServicePrivateLinkStatus
      type: string
      description: DB Service's private link status
      enum: [successful, failed, configuring, not_configured, update_successful, update_failed]
    TessellServiceConnectivityUpdateInProgressInfo:
      title: TessellServiceConnectivityUpdateInProgressInfo
      type: object
      x-computed: true
      description: DB Service connectivity update-in-progress details
      properties:
        dnsPrefix:
          type: string
          description: The DNS prefix associated with the DB Service
        enablePublicAccess:
          type: boolean
          description: Specify whether to enable public access to the DB Service, default false
        allowedIpAddresses:
          type: array
          description: The list of allowed ipv4 addresses that can connect to the DB Service
          items:
            type: string
            format: ip4
        privateLink:
          type: object
          title: ServiceConnectivityUpdateInProgressInfo
          description: The interface endpoint or Gateway Load Balancer endpoint to connect to your DB service.
          properties:
            servicePrincipals:
              type: array
              description: The list of AWS account principals that are currently enabled
              uniqueItems: true
              items:
                type: string
            clientAzureSubscriptionIds:
              type: array
              description: The list of Azure subscription Ids
              uniqueItems: true
              items:
                type: string
                format: uuid
        computesConnectivity:
          type: array
          title: computesConnectivity
          x-computed: true
          description: The Genie endpoint to connect to your DB service.
          items:
            $ref: '#/components/schemas/ComputeConnectivityConfig'
    TessellServiceConnectString:
      title: TessellServiceConnectString
      type: object
      description: DB Service connect string info
      properties:
        type:
          $ref: '#/components/schemas/ConnectStringType'
        usageType:
          $ref: '#/components/schemas/ConnectStringUsageType'
        connectDescriptor:
          type: string
          description: The connection description for the DB Service
        endpoint:
          type: string
          description: The connection end point for the DB Service
        masterUser:
          type: string
          description: The master user name for the DB Service
        servicePort:
          type: integer
          format: int32
          minimum: 0
          description: The connection port for the DB Service
    TessellServiceGenieInfoOps:
      title: TessellServiceGenieInfoOps
      description: DB Service's Genie Config Information
      type: object
      properties:
        userView:
          $ref: '#/components/schemas/TessellServiceGenieInfo'
    TessellServiceGenieInfo:
      title: TessellServiceGenieInfo
      type: object
      properties:
        status:
          $ref: '#/components/schemas/TessellServiceGenieStatus'
    TessellServiceGenieStatus:
      title: TessellServiceGenieStatus
      description: DB Service's Genie status
      type: string
      enum: [requested, enabled, disabled, enabling, disabling, failed_enable, failed_disable]
    TessellServiceConfigOps:
      title: TessellServiceConfigOps
      description: DB Service's general configuration
      type: object
      properties:
        licenseType:
          $ref: '#/components/schemas/tessellServiceLicenseType'
        autoMinorVersionUpdate:
          type: boolean
          default: true
          description: Specifies whether to automatically update minor version for DB Service
        enableDeletionProtection:
          type: boolean
          default: true
          description: Specifies whether to enable deletion protection for the DB Service
        enableStopProtection:
          type: boolean
          default: false
          description: Specifies whether to enable stop protection for the DB Service
        maintenanceWindow:
          $ref: '#/components/schemas/TessellServiceMaintenanceWindow'
        deletionConfig:
          $ref: '#/components/schemas/TessellServiceDeletionConfig'
        data:
          type: object
    ProvisionDatabaseBackupConfigurationPayload:
      title: ProvisionDatabaseBackupConfigurationPayload
      type: object
      properties:
        autoSnapshot:
          type: boolean
        sla:
          type: string
          description: If not specified, a default SLA would be associated with the DB Service
        snapshotWindow:
          $ref: '#/components/schemas/ProvisionDatabasebBackupWindow'
    CreateInstanceTaskPayload:
      type: object
      properties:
        serviceName:
          type: string
        tessellServiceId:
          type: string
          format: uuid
        availabilityMachineId:
          type: string
          format: uuid
        databaseEngineType:
          $ref: '#/components/schemas/databaseEngineType'
        ownerId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
        cloud:
          $ref: 'common-specification.yaml#/components/schemas/cloudType'
        region:
          type: string
        instanceGroupId:
          type: string
          format: uuid
        instanceIds:
          uniqueItems: true
          type: array
          items:
            type: string
            format: uuid
        instanceInfo:
          uniqueItems: true
          type: array
          items:
            $ref: '#/components/schemas/InstanceInfo'
        monitoringConfig:
          $ref: '#/components/schemas/MonitoringConfigTaskPayload'
        enableComputeSharing:
          type: boolean
        cloudAccountId:
          type: string
          format: uuid
        cloudLocation:
          type: string
        metadata:
          type: object
          additionalProperties:
            type: string
    OracleDatabaseConfig:
      title: OracleDatabaseConfig
      type: object
      nullable: true
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile id for the database
        optionsProfile:
          type: string
          description: The options profile for the database
        username:
          type: string
          description: Username for the oracle database
    CreateOracleDatabaseConfig:
      title: CreateOracleDatabaseConfig
      type: object
      nullable: true
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile ID for the database
        optionsProfile:
          type: string
          description: The options profile for the database
        username:
          type: string
          description: Username for the oracle database
        password:
          type: string
          description: Password for the oracle database
    PostgresqlDatabaseConfig:
      title: PostgresqlDatabaseConfig
      type: object
      nullable: true
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile ID for the database
    MySqlDatabaseConfig:
      title: MySqlDatabaseConfig
      type: object
      nullable: true
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile ID for the database
    SqlServerDatabaseConfig:
      title: SqlServerDatabaseConfig
      type: object
      nullable: true
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile ID for the database
    InstanceInfo:
      title: InstanceInfo
      type: object
      properties:
        instanceId:
          type: string
          format: uuid
          description: The instance id
        computeId:
          type: string
          format: uuid
          description: The compute id
        parameterProfileId:
          type: string
          format: uuid
    MongodbDatabaseConfig:
      title: MongodbDatabaseConfig
      type: object
      nullable: true
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile ID for the database
    MilvusDatabaseConfig:
      title: MilvusDatabaseConfig
      type: object
      nullable: true
      properties:
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile ID for the database
    DbCollectionConfig:
      type: object
      properties:
        milvusCollectionConfig:
          $ref: '#/components/schemas/MilvusCollectionConfig'
    MilvusCollectionConfig:
      title: MilvusCollectionConfig
      type: object
      nullable: true
      properties:
        shardNums:
          type: integer
          nullable: true
          minimum: 1
          maximum: 16
        numPartitions:
          type: integer
          nullable: true
          minimum: 1
          maximum: 4096
        schema:
          type: object
          properties:
            description:
              type: string
              nullable: true
            enableDynamicField:
              type: boolean
            fields:
              type: array
              items:
                $ref: '#/components/schemas/MilvusCollectionField'
    MilvusCollectionField:
      type: object
      properties:
        name:
          type: string
          nullable: false
        description:
          type: string
          nullable: true
        dtype:
          $ref: '#/components/schemas/MilvusDatatype'
        isPrimary:
          type: boolean
          nullable: false
        autoId:
          type: boolean
          nullable: false
        defaultValue:
          type: string
          nullable: true
        isPartitionKey:
          type: boolean
          default: false
        maxLength:
          type: integer
        dim:
          type: integer
        status:
          $ref: '#/components/schemas/DbCollectionStatus'
        indexConfig:
          type: array
          items:
            $ref: '#/components/schemas/DbCollectionIndexDTO'
        dateModified:
          type: string
          format: date
    DbCollectionConfigOps:
      type: object
      properties:
        name:
          type: string
        milvusCollectionConfig:
          $ref: '#/components/schemas/MilvusCollectionConfigOps'
    MilvusCollectionConfigOps:
      title: MilvusCreateCollectionConfig
      type: object
      nullable: true
      properties:
        name:
          type: string
        shardNums:
          type: integer
          nullable: true
          minimum: 1
          maximum: 16
        numPartitions:
          type: integer
          nullable: true
          minimum: 1
          maximum: 4096
        schema:
          type: object
          properties:
            description:
              type: string
              nullable: true
            enableDynamicField:
              type: boolean
            fields:
              type: array
              items:
                $ref: '#/components/schemas/MilvusCollectionFieldOps'
    MilvusCollectionFieldOps:
      type: object
      properties:
        name:
          type: string
          nullable: false
        description:
          type: string
          nullable: true
        dtype:
          $ref: '#/components/schemas/MilvusDatatype'
        isPrimary:
          type: boolean
          nullable: false
        autoId:
          type: boolean
          nullable: false
        defaultValue:
          type: string
          nullable: true
        maxLength:
          type: integer
        isPartitionKey:
          type: boolean
          default: false
        dim:
          type: integer
        status:
          $ref: '#/components/schemas/DbCollectionStatus'
        dateCreated:
          type: string
          format: date
        dateModified:
          type: string
          format: date
        dateModifiedByUser:
          type: string
          format: date
    DbCollectionCreatePayload:
      type: object
      properties:
        name:
          type: string
          pattern: "^[a-zA-Z_][a-zA-Z0-9_]*$"
          minLength: 1
          maxLength: 255
        milvusCollectionConfig:
          $ref: '#/components/schemas/MilvusCreateCollectionConfig'
    MilvusCreateCollectionConfig:
      title: MilvusCreateCollectionConfig
      type: object
      nullable: true
      properties:
        name:
          type: string
          pattern: "^[a-zA-Z_][a-zA-Z0-9_]*$"
          minLength: 1
          maxLength: 255
        shardNums:
          type: integer
          nullable: true
          minimum: 1
          maximum: 16
        numPartitions:
          type: integer
          nullable: true
          minimum: 1
          maximum: 4096
        schema:
          type: object
          properties:
            description:
              type: string
              nullable: true
            enableDynamicField:
              type: boolean
            fields:
              type: array
              items:
                $ref: '#/components/schemas/MilvusCreateCollectionField'
    MilvusCreateCollectionField:
      type: object
      properties:
        name:
          type: string
          pattern: "^[a-zA-Z_][a-zA-Z0-9_]*$"
          minLength: 1
          maxLength: 255
        description:
          type: string
          nullable: true
        dtype:
          $ref: '#/components/schemas/MilvusDatatype'
        isPrimary:
          type: boolean
          default: false
        autoId:
          type: boolean
          default: false
        defaultValue:
          type: string
          nullable: true
        isPartitionKey:
          type: boolean
          default: false
        maxLength:
          type: integer
        dim:
          type: integer
        indexCreatePayload:
          $ref: '#/components/schemas/DbCollectionIndexPayload'
    MilvusDatatype:
      type: string
      enum:
        - VARCHAR
        - INT64
        - BOOL
        - INT8
        - INT16
        - INT32
        - FLOAT
        - DOUBLE
        - JSON
        - BINARY_VECTOR
        - FLOAT_VECTOR
    DbCollectionStatus:
      type: string
      enum:
        - CREATING
        - READY
        - LOADING
        - LOADED
        - UNLOADED
        - RELEASING
        - DELETED
        - DELETING
        - FAILED
        - CREATION_FAILED
        - DELETION_FAILED
    DbCollectionIndexStatus:
      type: string
      description: The status of the DB collection index
      enum:
        - CREATING
        - READY
        - DELETED
        - DELETING
        - FAILED
        - CREATION_FAILED
        - DELETION_FAILED
    MilvusIndexType:
      type: string
      enum:
        - BIN_FLAT
        - BIN_IVF_FLAT
        - FLAT
        - IVF_FLAT
        - IVF_SQ8
        - IVF_PQ
        - HNSW
        - IVF_HNSW
        - RHNSW_FLAT
        - RHNSW_SQ
        - RHNSW_PQ
        - ANNOY
    MilvusIndexMetricType:
      type: string
      enum:
        - L2
        - IP
        - JACCARD
        - TANIMOTO
        - HAMMING
        - SUPERSTRUCTURE
        - SUBSTRUCTURE
    dbCollectionMetadata:
      title: CollectionMetadata
      description: Collection metadata information
      type: object
      properties:
        data:
          type: object
    dbCollectionIndexMetadata:
      title: IndexMetadata
      description: Index metadata information
      type: object
      properties:
        data:
          type: object
    dbCollectionIndexDriverInfo:
      title: IndexDriverInfo
      description: Index Driver Information
      type: object
      properties:
        data:
          type: object
    dbCollectionDriverInfo:
      title: CollectionDriverInfo
      description: Collection Driver Information
      type: object
      properties:
        data:
          type: object
    DeleteDbCollectionPayload:
      title: DeleteCollectionPayload
      type: object
      properties:
        comment:
          type: string
          description: Comment for the action
          minLength: 0
          maxLength: 512
    LoadCollectionPayload:
      title: LoadCollectionPayload
      type: object
      properties:
        comment:
          type: string
          minLength: 0
          maxLength: 512
          description: Comment for the action
    DeleteDbCollectionIndexPayload:
      title: DeleteCollectionPayload
      type: object
      properties:
        comment:
          type: string
          description: Comment for the action
    DbCollectionIndexOpsDTO:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        indexName:
          type: string
        collectionId:
          type: string
          format: uuid
        status:
          $ref: '#/components/schemas/DbCollectionIndexStatus'
        indexConfig:
          $ref: '#/components/schemas/DbCollectionIndexPayload'
        metadata:
          $ref: '#/components/schemas/dbCollectionIndexMetadata'
        driverInfo:
          $ref: '#/components/schemas/dbCollectionIndexDriverInfo'
        userId:
          type: string
        dateCreated:
          type: string
          format: date-time
          description: Timestamp when the database was created
        dateModified:
          type: string
          format: date-time
          description: Timestamp when the entity was last modified, either by system or by user
        dateModifiedByUser:
          type: string
          format: date-time
          description: Timestamp when the entity was last modified by the user
    DbCollectionIndexDTO:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: Tessell generated UUID for the collection index
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: The name of the column on which collection index is built
        indexName:
          type: string
          minLength: 1
          maxLength: 128
          description: The name of the collection index
        collectionId:
          type: string
          format: uuid
          description: ID of the collection the index belongs to
        createdByUser:
          type: string
          minLength: 0
          maxLength: 512
          description: User who created the collection index
        status:
          $ref: '#/components/schemas/DbCollectionIndexStatus'
        indexConfig:
          $ref: '#/components/schemas/DbCollectionIndexPayload'
        dateModified:
          type: string
          format: date-time
          description: Timestamp when the entity was last modified, either by system or by user
    DbCollectionIndexPayload:
      type: object
      properties:
        fieldName:
          type: string
        indexName:
          type: string
        milvusIndexConfig:
          $ref: '#/components/schemas/MilvusIndexConfig'
    MilvusIndexConfig:
      type: object
      properties:
        indexSpecifications:
          type: array
          items:
            $ref: '#/components/schemas/IndexSpecification'
    IndexSpecification:
      type: object
      properties:
        indexType:
          $ref: '#/components/schemas/MilvusIndexType'
        metricType:
          $ref: '#/components/schemas/MilvusIndexMetricType'
        parameters:
          $ref: '#/components/schemas/MilvusIndexParameters'
    MilvusIndexParameters:
      type: object
      properties:
        m:
          type: integer
          nullable: true
        nlist:
          type: integer
          nullable: true
        efconstructions:
          type: integer
          nullable: true
        ntrees:
          type: integer
          nullable: true
    DbCollectionsIndexResponse:
      title: TessellServicesResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: '#/components/schemas/DbCollectionIndexDTO'
    DbCollectionIndexOpsResponse:
      title: TessellServicesResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: '#/components/schemas/DbCollectionIndexOpsDTO'
    DbCollectionOpsDTO:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          nullable: false
        databaseId:
          type: string
          format: uuid
        serviceId:
          type: string
          format: uuid
        userId:
          type: string
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        status:
          $ref: '#/components/schemas/DbCollectionStatus'
        collectionConfig:
          $ref: '#/components/schemas/DbCollectionConfigOps'
        metadata:
          $ref: '#/components/schemas/dbCollectionMetadata'
        driverInfo:
          $ref: '#/components/schemas/dbCollectionDriverInfo'
        dateCreated:
          type: string
          format: date-time
          description: Timestamp when the database was created
        dateModified:
          type: string
          format: date-time
          description: Timestamp when the entity was last modified, either by system or by user
        dateModifiedByUser:
          type: string
          format: date-time
          description: Timestamp when the entity was last modified by the user
    DbCollectionsResponse:
      title: TessellServicesResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: '#/components/schemas/DbCollectionDTO'
    DbCollectionsOpsResponse:
      title: TessellServicesResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: '#/components/schemas/DbCollectionOpsDTO'
    DbCollectionDTO:
      type: object
      description: Db collection
      properties:
        id:
          type: string
          format: uuid
          description: Tessell generated UUID for the collection
        name:
          type: string
          nullable: false
          description: The name of the collection
        databaseId:
          type: string
          format: uuid
          description: The ID of the database which the collection falls under
        serviceId:
          type: string
          format: uuid
          description: The ID of the service which the database falls under
        createdByUser:
          type: string
          minLength: 0
          maxLength: 512
          description: The user who created the collection
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        status:
          $ref: '#/components/schemas/DbCollectionStatus'
        collectionConfig:
          $ref: '#/components/schemas/DbCollectionConfig'
        dateModified:
          type: string
          format: date-time
          description: Timestamp when the entity was last modified by user
    ProvisionTessellServiceCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    StartTessellServiceCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    StopTessellServiceCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    SwitchoverTessellServiceCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    PatchTessellServiceCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    DbServiceUpdateConnectivityCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    DbServiceAddIntegrationCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    DeleteTessellServerCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    DbServiceUpdateCredsCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    AddInstancesCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    DeleteInstancesCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    ProvisionDatabaseConfigurationPayload:
      title: ProvisionDatabaseConfigurationPayload
      type: object
      properties:
        autoMinorVersionUpdate:
          type: boolean
        characterSet:
          type: string
        createReplica:
          type: boolean
        enableDeletionProtection:
          type: boolean
        licenseType:
          type: string
        maintenanceWindow:
          $ref: '#/components/schemas/ProvisionDatabasebMaintenanceWindow'
        multitenant:
          type: boolean
        nationalCharacterSet:
          type: string
        optionsProfile:
          type: string
        parameterProfileId:
          type: string
          format: uuid
        softwareImageVersion:
          type: string
    ProvisionDatabaseNetworkPayload:
      title: ProvisionDatabaseNetworkPayload
      type: object
      properties:
        name:
          type: string
        securityGroup:
          $ref: '#/components/schemas/ProvisionDatabaseNetworkSGPayload'
        subnets:
          type: array
          items:
            $ref: '#/components/schemas/ProvisionDatabaseNetworkSubnetPayload'
        vpc:
          $ref: '#/components/schemas/ProvisionDatabaseNetworkVPCPayload'
    ProvisionDatabaseNetworkSGPayload:
      title: ProvisionDatabaseNetworkSGPayload
      type: object
      properties:
        description:
          type: string
        name:
          type: string
        rules:
          type: array
          items:
            $ref: '#/components/schemas/ProvisionDatabaseNetworkSGRulePayload'
    ProvisionDatabaseNetworkSGRulePayload:
      title: ProvisionDatabaseNetworkSGRulePayload
      type: object
      properties:
        fromPort:
          type: integer
          format: int32
        protocol:
          type: string
        ruleDescription:
          type: string
        ruleType:
          type: string
        source:
          type: array
          items:
            type: string
        sourceType:
          type: string
        toPort:
          type: integer
          format: int32
    ProvisionDatabaseNetworkSubnetPayload:
      title: ProvisionDatabaseNetworkSubnetPayload
      type: object
      properties:
        availabilityZone:
          type: string
        cidrBlock:
          type: string
        name:
          type: string
    ProvisionDatabaseNetworkVPCPayload:
      title: ProvisionDatabaseNetworkVPCPayload
      type: object
      properties:
        cidrBlock:
          type: string
        name:
          type: string
    ProvisionDatabasebBackupWindow:
      title: ProvisionDatabasebBackupWindow
      type: object
      properties:
        duration:
          type: integer
          format: int32
        time:
          type: string
    ProvisionDatabasebMaintenanceWindow:
      title: ProvisionDatabasebMaintenanceWindow
      type: object
      properties:
        day:
          $ref: 'common-specification.yaml#/components/schemas/WeekDay'
        duration:
          type: integer
          format: int32
        time:
          type: string
    TemplateVariable:
      title: TemplateVariable
      type: object
      properties:
        description:
          type: string
        name:
          type: string
        type:
          type: string
          enum:
            - COMPOSITE_PARAM
            - FRAGMENT
            - PATH_VARIABLE
            - REQUEST_PARAM
            - REQUEST_PARAM_CONTINUED
            - SEGMENT
    TessellBaseInfo:
      title: TessellBaseInfo
      type: object
      properties:
        data:
          type: object
    TessellBaseMetadata:
      title: TessellBaseMetadata
      type: object
      properties:
        data:
          type: object
    ComputeResourceHostingInfo:
      title: ComputeResourceHostingInfo
      type: object
      description: Compute Resource Hosting Info
      properties:
        id:
          type: string
          format: uuid
          description: Id of the compute resource
        controlPlaneCloudType:
          type: string
        computeResource:
          $ref: '#/components/schemas/TessellComputeResourceOpsDTO'
        dbServices:
          type: array
          items:
            $ref: '#/components/schemas/DBServiceOnComputeResourceOps'
        tenantInfo:
          type: object
        genieInfo:
          type: object
        infraConfig:
          type: object
          properties:
            k8sConfig:
              type: object
            loggingConfig:
              type: object
            networkProfile:
              type: object
    SharableDbserverComputeResourceDTO:
      title: SharableDbserverComputeResourceDTO
      required:
        - name
      type: object
      description: This is a definition for compute resource
      properties:
        id:
          type: string
          format: uuid
          description: The ID of the Compute Resource
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: The name of the Compute Resource
        subscription:
          type: string
          minLength: 1
          maxLength: 128
          description: The subscription under which this resource is created
        owner:
          type: string
          minLength: 0
          maxLength: 512
          description: The email address of the owner of the Compute Resource
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        cloud:
          $ref: 'common-specification.yaml#/components/schemas/cloudType'
        region:
          type: string
          minLength: 1
          maxLength: 128
          description: The region where the Compute Resource is hosted
        availabilityZone:
          type: string
          minLength: 1
          maxLength: 128
          description: The availability zone where the Compute Resource is hosted
        computeType:
          type: string
          minLength: 1
          maxLength: 128
          description: The compute type to be used for provisioning the DB Service
        vpc:
          type: string
          minLength: 1
          maxLength: 128
          description: The VPC which is used for provisioning the compute resource
        encryptionKey:
          type: string
          minLength: 0
          maxLength: 512
          description: The encryption key which is used to encrypt the data at rest
        servicePort:
          type: integer
          format: int32
          minimum: 0
        optimizedVcpus:
          type: int
          description: vcpus usable by the db service(s)
        hostedDbServices:
          type: array
          items:
            type: object
            title: HostedDbServiceOnCr
            properties:
              dbServiceId:
                type: string
                format: uuid
              databases:
                type: array
                uniqueItems: true
                items:
                  type: string
        reservedMemory:
          type: integer
          format: int64
          default: 0
          minimum: 0
          description: The memory (in bytes) that has been reserved for other DB Services
        enablePublicAccess:
          type: boolean
          description: Whether public access is enabled for the Compute Resource
        enableSSL:
          type: boolean
          description: Whether SSL is enabled for the Compute Resource
        softwareImageInfo:
          type: object
          properties:
            softwareImage:
              type: string
              minLength: 1
              maxLength: 128
            softwareImageVersions:
              type: array
              items:
                type: string
                minLength: 1
                maxLength: 128
    TessellDbserverComputeResourceDTO:
      title: TessellDbserverComputeResourceDTO
      required:
        - name
      type: object
      description: This is the definition for Compute Resource
      properties:
        id:
          type: string
          format: uuid
          description: The ID of the Compute Resource
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: The name of the Compute Resource
        subscription:
          type: string
          minLength: 1
          maxLength: 128
          description: The subscription under which this resource is created
        servicePort:
          type: integer
          format: int32
          minimum: 0
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        status:
          $ref: '#/components/schemas/ComputeResourceStatus'
        machineType:
          $ref: '#/components/schemas/MachineType'
        cloud:
          $ref: 'common-specification.yaml#/components/schemas/cloudType'
        region:
          type: string
          minLength: 1
          maxLength: 128
          description: The region where the Compute Resource is hosted
        availabilityZone:
          type: string
          minLength: 1
          maxLength: 128
          description: The availability zone where the Compute Resource is hosted
        computeType:
          type: string
          minLength: 1
          maxLength: 128
          description: The compute type to be used for provisioning the DB Service
        computeSharingEnabled:
          type: boolean
          default: false
          description: Whether the Compute Resource is shared across multiple DB Services
        vpc:
          type: string
          minLength: 1
          maxLength: 128
          description: The VPC which is used for provisioning the Compute Resource
        encryptionKey:
          type: string
          minLength: 0
          maxLength: 512
          description: The encryption key which is used to encrypt the data at rest
        reservedMemory:
          type: integer
          format: int64
          default: 0
          minimum: 0
          description: The memory (in bytes) that has been collectively reserved for all hosted DB Services
        enablePublicAccess:
          type: boolean
          description: Whether public access is enabled on the Compute Resource
        enableSSL:
          type: boolean
          description: Whether SSL is enabled on the Compute Resource
        owner:
          type: string
          minLength: 0
          maxLength: 512
          description: The email address of the owner of the Compute Resource
        dateCreated:
          type: string
          format: date-time
          description: Timestamp when the entity was created
        dateModified:
          type: string
          format: date-time
          description: Timestamp when the entity was last modified
        timezone:
          $ref: 'common-specification.yaml#/components/schemas/TimeZone'
        dbServices:
          type: array
          items:
            $ref: '#/components/schemas/DBServiceOnComputeResource'
        optimizedVcpus:
          type: int
          description: vcpus usable by the db service(s)
        softwareImageInfo:
          type: object
          properties:
            softwareImage:
              type: string
              description: The software image available to create the DB Service on the Compute Resource
            softwareImageVersions:
              type: array
              items:
                type: object
                properties:
                  softwareImageVersion:
                    type: string
                    description: The software image version available to create the DB Service on the Compute Resource
                  supported:
                    type: boolean
                    description: Whether the image version is supported on the Compute Resource
    DBServiceOnComputeResource:
      title: DBServiceOnComputeResource
      description: DB Service details hosted on a compute resource
      properties:
        id:
          type: string
          format: uuid
          description: ID of the DB Service
        name:
          type: string
          description: Name of the DB Service
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        topology:
          $ref: '#/components/schemas/tessellServiceTopology'
        dbServiceStatus:
          $ref: '#/components/schemas/TessellServiceStatus'
        instanceId:
          type: string
          format: uuid
        instanceName:
          type: string
          minLength: 1
          maxLength: 128
        role:
          $ref: '#/components/schemas/TessellServiceInstanceRole'
        instanceStatus:
          $ref: '#/components/schemas/TessellServiceInstanceStatus'
        maxMemory:
          type: integer
          format: int64
          description: The allocated max memory (in bytes) for this instance
          default: 0
          minimum: 0
        storage:
          type: integer
          format: int64
          description: The storage (in bytes) that has been provisioned for the DB Service instance
          default: 0
          minimum: 0
        servicePort:
          type: integer
          format: int32
          minimum: 0
        allowedIpAddresses:
          type: array
          description: The list of allowed ipv4 addresses that can connect to the DB Service. If not specified, this field will be ignored and the existing setting will be assumed.
          items:
            type: string
            format: ip4
        databases:
          type: array
          uniqueItems: true
          items:
            type: string
        owner:
          type: string
          description: This field specifies who is the owner for the DB Service
    DBServiceOnComputeResourceOps:
      title: DBServiceOnComputeResourceOps
      description: DB Service details hosted on a compute resource
      properties:
        id:
          type: string
          format: uuid
          description: Id of the DB Service
        name:
          type: string
          description: Name of the DB Service
        tsm:
          type: boolean
          default: false
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        topology:
          $ref: '#/components/schemas/tessellServiceTopology'
        dbServiceStatus:
          $ref: '#/components/schemas/TessellServiceStatusOps'
        instanceId:
          type: string
          format: uuid
        role:
          $ref: '#/components/schemas/TessellServiceInstanceRole'
        instanceStatus:
          $ref: '#/components/schemas/TessellServiceInstanceStatusOps'
    TessellComputeResourceOpsDTO:
      title: TessellComputeResourceOpsDTO
      required:
        - name
      type: object
      description: This is a definition for Tessell Compute Resource Object
      properties:
        id:
          type: string
          format: uuid
          description: Tessell generated UUID for the entity
          example: 123e4567-e89b-12d3-a456-426614174000
        name:
          type: string
          description: Name of the entity
          example: sample_entity
        description:
          type: string
          description: Compute Resource description
        tenantId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        status:
          $ref: '#/components/schemas/ComputeResourceStatusOps'
        tsm:
          type: boolean
        cloudStatus:
          type: string
          description: Compute Resource's status in the cloud
        computeSharingEnabled:
          type: boolean
          default: false
          description: Whether the Compute Resource is shared across multiple DB Services
        cloudAccountId:
          type: string
          description: Compute Resource's Tessell cloud account identifier
          format: uuid
        cloudLocation:
          maxLength: 2147483647
          minLength: 3
          type: string
          description: Compute Resource's location in the cloud
        cloudResourceId:
          type: string
          description: Compute Resource's cloud identifier
        type:
          $ref: '#/components/schemas/ComputeResourceType'
        machineType:
          $ref: '#/components/schemas/MachineType'
        osInfo:
          type: object
          title: osInfo
          properties:
            type:
              $ref: 'common-specification.yaml#/components/schemas/osType'
            image:
              type: string
        softwareImageId:
          type: string
          format: uuid
          description: Compute Resource's Software Image Id
        softwareImageVersionId:
          type: string
          format: uuid
          description: Compute Resource's Software Image Version Id
        networkProfileId:
          type: string
          format: uuid
          description: Compute Resource's Network Profile Id
        computeTypeId:
          type: string
          format: uuid
          description: Compute Resource's compute type Id
        userId:
          type: string
          format: uuid
          description: Compute Resource's user id
        owner:
          type: string
          description: Compute resource's owner email address
          minLength: 0
          maxLength: 512
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the entity was last modified
          format: date-time
        timezone:
          $ref: 'common-specification.yaml#/components/schemas/TimeZone'
        machineFqdnInfo:
          $ref: '#/components/schemas/ComputeResourceMachineFqdnInfo'
        ipAddressInfo:
          $ref: '#/components/schemas/ComputeResourceIpAddressInfo'
        metadata:
          $ref: '#/components/schemas/ComputeResourceMetadata'
        driverInfo:
          $ref: '#/components/schemas/ComputeResourceDriverInfo'
        tessellStackInfo:
          $ref: '#/components/schemas/ComputeResourceTessellStackInfo'
        tessellAgentLcmInfo:
          $ref: '#/components/schemas/TessellAgentLcmInfo'
    TessellComputeResourceMetadata:
      title: TessellComputeResourceMetadata
      type: object
      description: This is a definition for Tessell Compute Resource Metadata
      properties:
        computeResourceId:
          type: string
          description: Compute Resource Id
          format: uuid
        version:
          type: integer
          description: Compute Resource metadata version
          format: int32
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the entity was last updated
          format: date-time
        metadata:
          $ref: '#/components/schemas/TessellBaseInfo'
    TessellDBServerSystemDTO:
      title: TessellDBServerSystemDTO
      required:
        - name
      type: object
      description: This is a definition for Tessell DBServer System Object
      properties:
        id:
          type: string
          format: uuid
          description: Tessell generated UUID for the entity
          example: 123e4567-e89b-12d3-a456-426614174000
        name:
          type: string
          description: Name of the entity
          example: sample_entity
        description:
          type: string
          description: DBServer System description
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        status:
          $ref: '#/components/schemas/DBServerSystemStatus'
        computeSharingEnabled:
          type: boolean
          default: false
          description: Whether the Compute Resource is shared across multiple DB Services
        switchOverPolicy:
          $ref: '#/components/schemas/DbssSwitchOverPolicy'
        switchOverStatus:
          $ref: '#/components/schemas/SwitchOverStatus'
        type:
          type: string
          description: DBServer System type
        userId:
          type: string
          description: DBServer System's user id
          format: uuid
        computeResources:
          type: array
          description: Compute Resources associated with this DBServer System
          items:
            $ref: '#/components/schemas/TessellComputeResourceOpsDTO'
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the entity was last modified
          format: date-time
        dbserverSystemAndComputeResources:
          type: array
          description: DBServers associated with this DBServer System
          items:
            $ref: '#/components/schemas/TessellDbssCrMappingDTO'
        ipAddressInfo:
          $ref: '#/components/schemas/DBServerSystemIpAddressInfo'
        metadata:
          $ref: '#/components/schemas/DBServerSystemMetadata'
        driverInfo:
          $ref: '#/components/schemas/DBServerSystemDriverInfo'
    TessellDatabaseOpsDTO:
      title: TessellDatabaseOpsDTO
      type: object
      description: This is a definition for Tessell Database Ops Object
      properties:
        id:
          type: string
          format: uuid
          description: Tessell generated UUID for the database
        name:
          type: string
          description: Name of the database
        description:
          type: string
          description: Description for the database
        tessellServiceId:
          type: string
          format: uuid
          description: Associated DB Service Id
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        status:
          $ref: '#/components/schemas/DatabaseStatusOps'
        clonedFromDatabaseId:
          type: string
          format: uuid
          description: Database Id from which this database has been cloned (if applicable)
        databaseConfiguration:
          $ref: '#/components/schemas/DatabaseConfigurationInfo'
        metadata:
          $ref: '#/components/schemas/DatabaseMetadata'
        driverInfo:
          $ref: '#/components/schemas/DatabaseDriverInfo'
        provisioningInfo:
          description: Database's provision information
          type: object
          properties:
            userView:
              $ref: '#/components/schemas/CreateDatabasePayload'
        startedAt:
          type: string
          format: date-time
          description: Timestamp when the Database was started (initial creation)
        internal:
          type: boolean
          default: false
          description: Whether the database is for internal use (ex. system database)
        tessellCreated:
          type: boolean
          default: true
          description: Whether the database is created using Tessell platform
        deletedForUserAt:
          type: string
          format: date-time
          description: Timestamp when the database was deleted by the user
        dateCreated:
          type: string
          format: date-time
          description: Timestamp when the database was created
        dateModified:
          type: string
          format: date-time
          description: Timestamp when the entity was last modified, either by system or by user
        dateModifiedByUser:
          type: string
          format: date-time
          description: Timestamp when the entity was last modified by the user
    TessellDatabaseDeleteOpsRequestPayload:
      type: object
      properties:
        rollback:
          type: boolean
          default: false
    TessellServiceMetadataDTO:
      title: TessellServiceMetadataDTO
      type: object
      description: This is a definition for DB Service Metadata Object
      properties:
        tessellServiceId:
          type: string
          description: DB Service Id
          format: uuid
        instanceId:
          type: string
          description: Tessell Instance Id
          format: uuid
        version:
          type: integer
          description: Database Node Metadata's version
          format: int32
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the entity was last modified
          format: date-time
        metadata:
          $ref: '#/components/schemas/DBMetadata'

    DatabaseConfigurationInfo:
      title: DatabaseConfigurationInfo
      description: Database's configuration information
      type: object
      properties:
        userView:
          $ref: '#/components/schemas/DatabaseConfiguration'
        internalInfo:
          $ref: '#/components/schemas/DatabaseConfigurationOps'
    DatabaseConfiguration:
      title: DatabaseConfiguration
      type: object
      nullable: true
      properties:
        oracleConfig:
          $ref: '#/components/schemas/OracleDatabaseConfig'
        postgresqlConfig:
          $ref: '#/components/schemas/PostgresqlDatabaseConfig'
        mySqlConfig:
          $ref: '#/components/schemas/MySqlDatabaseConfig'
        sqlServerConfig:
          $ref: '#/components/schemas/SqlServerDatabaseConfig'
        mongodbConfig:
          $ref: '#/components/schemas/MongodbDatabaseConfig'
        milvusConfig:
          $ref: '#/components/schemas/MilvusDatabaseConfig'
    DatabaseConfigurationOps:
      title: DatabaseConfigurationOps
      type: object
      properties:
        optionsProfileId:
          type: string
          format: uuid
        parameterProfileId:
          type: string
          format: uuid
        secretId:
          type: string
          format: uuid
    TessellDatabaseDTO:
      title: TessellDatabaseDTO
      type: object
      properties:
        id:
          type: string
          format: uuid
          x-computed: true
          description: Tessell generated UUID for the database
        databaseName:
          type: string
          minLength: 1
          maxLength: 128
          description: Database name
        description:
          type: string
          minLength: 0
          maxLength: 512
          x-patchable: true
          description: Database description
        tessellServiceId:
          type: string
          format: uuid
          x-computed: true
          description: Associated DB Service ID
        engineType:
          x-computed: true
          x-enum: true
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
          description: Database engine type
        status:
          x-computed: true
          x-enum: true
          $ref: '#/components/schemas/DatabaseStatus'
          description: Database status
        dateCreated:
          type: string
          format: date-time
          x-computed: true
          description: Timestamp when the entity was created
        tessellCreated:
          type: boolean
          default: true
          description: Database created from Tessell platform
        clonedFromInfo:
          $ref: '#/components/schemas/TessellDatabaseClonedFromInfo'
        databaseConfiguration:
          $ref: '#/components/schemas/DatabaseConfiguration'
        connectString:
          $ref: '#/components/schemas/TessellServiceDatabaseConnectString'
    TerraformTessellDatabaseDTO:
      title: TerraformTessellDatabaseDTO
      type: object
      allOf:
        - type: object
          properties:
            sourceDatabaseId:
              type: string
              format: uuid
              description: Required while creating a clone. It specifies the Id of the source database from which the clone is being created.
        - $ref: '#/components/schemas/TessellDatabaseDTO'
    TessellServiceStorageMappingDTO:
      title: TessellServiceStorageMappingDTO
      type: object
      properties:
        cloudAccountId:
          type: string
          description: Storage's Tessell cloud account identifier
          format: uuid
        cloudLocation:
          type: string
          description: Storage's location in the cloud
        tessellServiceId:
          type: string
          description: Associated DB Service Id
          format: uuid
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the entity was last modified
          format: date-time
        driverInfo:
          $ref: '#/components/schemas/DatabaseStorageMappingDriverInfo'
        metadata:
          $ref: '#/components/schemas/DatabaseStorageMappingMetadata'
        status:
          $ref: '#/components/schemas/DatabaseStorageMappingStatus'
        storagePurpose:
          type: string
          description: Storage purpose
          example: pitr_logs, tessell_client_library, db_software, db_data, etc.
        tessellStorageId:
          type: string
          description: Associated Tessell Storage Id
          format: uuid
      description: This is a definition for Tessell Database to storage mapping
    TessellServiceOpsDTO:
      title: TessellServiceOpsDTO
      type: object
      description: This is a definition of the DB Service ops object
      properties:
        id:
          type: string
          format: uuid
          description: Tessell generated UUID for the DB Service
        name:
          type: string
          description: Name of the DB Service
        description:
          type: string
          description: DB Service description
        internal:
          type: boolean
          description: Specifies if the DB Service is for internal use
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        topology:
          $ref: '#/components/schemas/tessellServiceTopology'
        numOfInstances:
          type: integer
          format: int32
          minimum: 0
        status:
          $ref: '#/components/schemas/TessellServiceStatusOps'
        contextInfo:
          $ref: '#/components/schemas/TessellServiceContextInfo'
        availabilityMachineId:
          type: string
          format: uuid
          description: Associated Availability Machine Id
        dbserverSystemId:
          type: string
          format: uuid
          description: DB Service's associated DBServer System Id
        computeSharingEnabled:
          type: boolean
          default: false
          description: Whether the Compute Resource is shared across multiple DB Services
        clone:
          type: boolean
          default: false
          description: Whether this DB Service is cloned of some another service
        clonedFromTessellServiceId:
          type: string
          format: uuid
          description: The id of DB Service from which this service is cloned
        clonedFromAvailabilityMachineId:
          type: string
          format: uuid
          description: The id of Availability Machine from which this service is cloned
        lastStartedAt:
          type: string
          format: date-time
          description: Timestamp when the DB Service was last started at
        lastStoppedAt:
          type: string
          format: date-time
          description: Timestamp when the DB Service was last stopped at
        tenantId:
          type: string
          description: The tenant-id for the DB Service
        subscriptionId:
          type: string
          format: uuid
          description: The subscription-id in which this DB Service is created
        subscription:
          type: string
          description: The subscription-name in which this DB Service is created
        ownerId:
          type: string
          description: DB Service owner-id
        loggedInUserRole:
          type: string
          description: Access role for the currently logged in user
        sharedWith:
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingInfo'
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
        dateCreationCompleted:
          type: string
          description: Timestamp when the service's creation has been completed
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the entity was last modified, either by system or by user
          format: date-time
        dateModifiedByUser:
          type: string
          description: Timestamp when the entity was last modified by the user
          format: date-time
        deletedForUserAt:
          type: string
          description: Timestamp when the entity was marked 'deleted for user'
          format: date-time
        startInitiatedAt:
          type: string
          format: date-time
          description: Timestamp at which start DB Service operation is initiated.
        lastDegradedAt:
          type: string
          format: date-time
          description: Timestamp at which DB Service was degraded.
        lastHealedAt:
          type: string
          format: date-time
          description: Timestamp at which DB Service was healed(i.e. READY back from DEGRADED).
        metadata:
          $ref: '#/components/schemas/TessellServiceMetadata'
        driverInfo:
          $ref: '#/components/schemas/TessellServiceDriverInfo'
        restoreInfo:
          description: DB Service's data restore information
          $ref: '#/components/schemas/TessellServiceRestoreInfoOps'
        connectivityInfo:
          $ref: '#/components/schemas/TessellServiceConnectivityInfoOps'
        tessellGenieInfo:
          $ref: '#/components/schemas/TessellServiceGenieInfoOps'
        infrastructureInfo:
          $ref: '#/components/schemas/TessellServiceInfrastructureInfoOps'
        serviceConfiguration:
          $ref: '#/components/schemas/TessellServiceConfigOps'
        engineConfiguration:
          $ref: '#/components/schemas/TessellServiceEngineInfoOps'
        integrationsInfo:
          $ref: '#/components/schemas/TessellServiceIntegrationsInfoOps'
        provisionInfo:
          $ref: '#/components/schemas/TessellServiceProvisionInfo'
        tags:
          $ref: '#/components/schemas/TessellServiceTagInfoOps'
        updatesInProgressInfo:
          description: DB Service's in progress updates
          $ref: '#/components/schemas/TessellServiceInProgressUpdateInfoOps'
        instances:
          type: array
          description: Instances associated with this DB Service
          items:
            $ref: '#/components/schemas/TessellServiceInstanceOpsDTO'
        databases:
          type: array
          description: Databases that are part of this DB Service
          items:
            $ref: '#/components/schemas/TessellDatabaseOpsDTO'
        deletionSchedule:
          $ref: '#/components/schemas/DeletionScheduleDTO'
        patchSchedule:
          $ref: '#/components/schemas/PatchScheduleInfoOps'
        upcomingScheduledActions:
          $ref: '#/components/schemas/ServiceUpcomingScheduledActions'
        sampleDatasetInfo:
          $ref: '#/components/schemas/ServiceSampleDatasetOpsInfo'
        tessellAgentLcmInfo:
          $ref: '#/components/schemas/TessellAgentLcmInfo'
    TessellServiceDTO:
      title: TessellServiceDTO
      type: object
      description: This is a definition of the DB Service object
      properties:
        id:
          type: string
          format: uuid
          description: Tessell generated UUID for the DB Service. This is the unique identifier for the DB Service.
        availabilityMachineId:
          type: string
          format: uuid
          description: Unique ID of the associated Availability Machine
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: Name of the DB Service
          example: customerdb
        description:
          type: string
          minLength: 0
          maxLength: 512
          description: User specified description for the DB Service
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        topology:
          $ref: '#/components/schemas/tessellServiceTopology'
        numOfInstances:
          type: integer
          format: int32
          minimum: 0
          description: This specifies the number of instances (nodes) that are created for the DB Service
        status:
          $ref: '#/components/schemas/TessellServiceStatus'
        contextInfo:
          $ref: '#/components/schemas/TessellServiceContextInfo'
        licenseType:
          $ref: '#/components/schemas/tessellServiceLicenseType'
        autoMinorVersionUpdate:
          type: boolean
          default: true
          description: This field specifies whether to automatically update minor version for the DB Service
        enableDeletionProtection:
          type: boolean
          default: true
          description: This field specifies whether to enable deletion protection for the DB Service. If this is enabled, the deletion for the DB Service would be disallowed until this setting is disabled.
        enableStopProtection:
          type: boolean
          default: false
          description: This field specifies whether to enable stop protection for the DB Service. If this is enabled, the stop for the DB Service would be disallowed until this setting is disabled.
        edition:
          type: string
          minLength: 1
          maxLength: 128
          description: Edition of the software image that has been used to create the DB Service (e.g. COMMUNITY/ENTERPRISE etc)
        softwareImage:
          type: string
          minLength: 1
          maxLength: 128
          description: The software image that has been used to create the DB Service
        softwareImageVersion:
          type: string
          minLength: 1
          maxLength: 128
          description: The software image version that is used to create the DB Service
        softwareImageVersionFamily:
          type: string
          minLength: 1
          maxLength: 128
          description: The software image version family that is used to create the DB Service
        tenantId:
          type: string
          minLength: 1
          maxLength: 128
          description: The tenant identifier under which the DB Service is created
        subscription:
          type: string
          minLength: 1
          maxLength: 128
          description: The Tessell Subscription under which this DB Service is created
        owner:
          type: string
          minLength: 0
          maxLength: 512
          description: This field specifies who is the owner for the DB Service
        loggedInUserRole:
          type: string
          minLength: 1
          maxLength: 128
          description: This field specifies access role on the DB Service for the currently logged in user
        dateCreated:
          type: string
          format: date-time
          description: This field specifies the timestamp when the DB Service was created at
        startedAt:
          type: string
          format: date-time
          description: This field specifies the timestamp when the DB Service was last started at
        stoppedAt:
          type: string
          format: date-time
          description: This field specifies the timestamp when the DB Service was last stopped at
        clonedFromInfo:
          $ref: '#/components/schemas/TessellServiceClonedFromInfo'
        serviceConnectivity:
          $ref: '#/components/schemas/TessellServiceConnectivityInfo'
        tessellGenieStatus:
          $ref: '#/components/schemas/TessellServiceGenieStatus'
        infrastructure:
          $ref: '#/components/schemas/TessellServiceInfrastructureInfo'
        maintenanceWindow:
          $ref: '#/components/schemas/TessellServiceMaintenanceWindow'
        engineConfiguration:
          $ref: '#/components/schemas/TessellServiceEngineInfo'
        integrationsConfig:
          $ref: '#/components/schemas/TessellServiceIntegrationsInfo'
        deletionConfig:
          $ref: '#/components/schemas/TessellServiceDeletionConfig'
        tags:
          description: The tags associated with the DB Service
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/TessellTag'
        updatesInProgress:
          description: The updates that are in progress for this resource
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/TessellResourceUpdateInfo'
        instances:
          description: The instances (nodes) associated with this DB Service
          type: array
          items:
            $ref: '#/components/schemas/TessellServiceInstanceDTO'
        databases:
          type: array
          description: This field details about the databases that are created under this DB Service
          items:
            $ref: '#/components/schemas/TessellDatabaseDTO'
        sharedWith:
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingInfo'
        deletionSchedule:
          $ref: '#/components/schemas/DeletionScheduleDTO'
        upcomingScheduledActions:
          $ref: '#/components/schemas/ServiceUpcomingScheduledActions'
    AwsInfraConfig:
      type: object
      title: AwsInfraConfig
      properties:
        awsCpuOptions:
          type: object
          title: AwsCpuOptions
          properties:
            vcpus:
              type: integer
              format: int32
              minimum: 0
              description: Number of vcpus for aws cpu options
    TessellServiceTagInfoOps:
      type: object
      description: The tags associated with the DB Service
      title: TessellServiceTagInfoOps
      properties:
        userTags:
          type: array
          description: The tags associated with the DB Service
          items:
            $ref: 'common-specification.yaml#/components/schemas/TessellTag'
    TessellServiceInstanceOpsDTO:
      title: TessellServiceInstanceOpsDTO
      type: object
      description: This is a definition of the DB Service Instance Ops object
      properties:
        id:
          type: string
          format: uuid
          description: Tessell generated UUID for the DB Service Instance
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: Name of the DB Service Instance
        description:
          type: string
          minLength: 0
          maxLength: 512
          description: DB Service Instance description
        tessellServiceId:
          type: string
          format: uuid
          description: DB Service Instance's associated DB Service ID
        computeResourceId:
          type: string
          format: uuid
          description: Associated compute resource ID
        cloudLocationId:
          type: string
          minLength: 1
          maxLength: 128
          description: DB Service Instance's cloud location
        parameterProfileId:
          type: string
          format: uuid
          description: Parameter Profile linked with the DB service instance
        cloudAccountId:
          type: string
          format: uuid
          description: The cloud account on which the instance is hosted
        instanceGroupId:
          type: string
          format: uuid
          description: The instance groupd Id
        type:
          $ref: '#/components/schemas/TessellServiceInstanceType'
        role:
          $ref: '#/components/schemas/TessellServiceInstanceRole'
        userVisibleRole:
          $ref: '#/components/schemas/TessellServiceInstanceRole'
        status:
          $ref: '#/components/schemas/TessellServiceInstanceStatusOps'
        pluginStatus:
          $ref: '#/components/schemas/TessellServiceInstancePluginStatus'
        connectionInfo:
          $ref: '#/components/schemas/TessellServiceInstanceConnectionInfo'
        genericInfo:
          $ref: '#/components/schemas/TessellServiceInstanceGenericInfo'
        licenseInfo:
          $ref: '#/components/schemas/DbLicenseInfo'
        monitoringConfig:
          $ref: '#/components/schemas/MonitoringConfig'
        dateCreated:
          type: string
          format: date-time
          description: Timestamp when the entity was created
        dateModified:
          type: string
          format: date-time
          description: Timestamp when the entity was last modified, either by system or by user
        dateModifiedByUser:
          type: string
          format: date-time
          description: Timestamp when the entity was last modified by the user
        metadata:
          $ref: '#/components/schemas/TessellServiceInstanceMetadata'
        driverInfo:
          $ref: '#/components/schemas/TessellServiceInstanceDriverInfo'
        updatesInProgressInfo:
          $ref: '#/components/schemas/TessellServiceInstanceInProgressUpdateInfoOps'
        lastStartedAt:
          type: string
          format: date-time
          description: Timestamp when the service instance was last started at
        lastStoppedAt:
          type: string
          format: date-time
          description: Timestamp when the Service Instance was last stopped at
        lastDegradedAt:
          type: string
          format: date-time
          description: Timestamp when the Service Instance was DEGRADED
        deletedForUserAt:
          type: string
          format: date-time
          description: Timestamp when the service instance was marked 'delete for user'.
        isConsumable:
          type: boolean
          description: Whether the service instance is consumable for purposes like billing
        tessellAgentLcmInfo:
          $ref: '#/components/schemas/TessellAgentLcmInfo'
    TessellServiceInstanceDTO:
      title: TessellServiceInstanceDTO
      type: object
      description: This is a definition of the DB Service Instance object
      properties:
        id:
          type: string
          format: uuid
          description: Tessell generated UUID for the DB Service Instance
          x-computed: true
        name:
          type: string
          description: Name of the DB Service Instance
          x-computed: true
        type:
          $ref: '#/components/schemas/TessellServiceInstanceType'
          x-computed: true
          x-enum: true
        role:
          description: DB Service Topology
          $ref: '#/components/schemas/TessellServiceInstanceRole'
          x-computed: true
          x-enum: true
        status:
          $ref: '#/components/schemas/TessellServiceInstanceStatus'
          x-computed: true
          x-enum: true
        tessellServiceId:
          description: DB Service Instance's associated DB Service id
          type: string
          format: uuid
          x-computed: true
        cloud:
          description: DB Service Instance's cloud type
          type: string
          x-computed: true
        region:
          description: DB Service Instance's cloud region
          type: string
          x-computed: true
        availabilityZone:
          x-computed: true
          description: DB Service Instance's cloud availability zone
          type: string
        instanceGroupId:
          description: The instance groupd Id
          type: string
          format: uuid
          x-computed: true
        computeType:
          description: The compute used for creation of the Tessell Service Instance
          type: string
          x-computed: true
        awsInfraConfig:
          $ref: '#/components/schemas/AwsInfraConfig'
          x-computed: true
        computeId:
          description: The associated compute identifier
          type: string
          format: uuid
          x-computed: true
        computeName:
          description: The associated compute name
          type: string
          x-computed: true
        storage:
          description: The storage (in bytes) that has been provisioned for the DB Service instance.
          type: integer
          format: int64
          minimum: 0
          x-computed: true
        dataVolumeIops:
          type: integer
          format: int64
          x-computed: true
        throughput:
          type: integer
          format: int32
          description: Throughput requested for this DB Service instance
          x-computed: true
        enablePerfInsights:
          type: boolean
          x-computed: true
        parameterProfile:
          $ref: '#/components/schemas/ParameterProfile'
          x-computed: true
        monitoringConfig:
          $ref: '#/components/schemas/MonitoringConfig'
          x-computed: true
        vpc:
          type: string
          description: The VPC used for creation of the DB Service Instance
          x-computed: true
        encryptionKey:
          type: string
          description: The encryption key name which is used to encrypt the data at rest
          x-computed: true
        softwareImage:
          type: string
          description: Software Image to be used to create the instance
          x-computed: true
        softwareImageVersion:
          type: string
          description: Software Image Version to be used to create the instance
          x-computed: true
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
          x-computed: true
        connectString:
          $ref: '#/components/schemas/TessellServiceInstanceConnectString'
          x-computed: true
        updatesInProgress:
          description: The updates that are in progress for this resource
          type: array
          x-computed: true
          items:
            $ref: 'common-specification.yaml#/components/schemas/TessellResourceUpdateInfo'
        lastStartedAt:
          description: Timestamp when the service instance was last started at
          type: string
          format: date-time
          x-computed: true
        lastStoppedAt:
          description: Timestamp when the Service Instance was last stopped at
          type: string
          format: date-time
          x-computed: true
    TessellDbssCrMappingDTO:
      title: TessellDbssCrMappingDTO
      type: object
      properties:
        active:
          type: boolean
          description: Specifies if this is a active switchover node
          example: false
        backupPriority:
          type: integer
          description: Specifies the backup priority for this node
          format: int32
        computeResourceId:
          type: string
          description: Compute Resource Id for DBServer System and Compute Resource Mapping
          format: uuid
        dateCreated:
          type: string
          description: Timestamp when the mapping was created
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the mapping was last modified
          format: date-time
        dbserverSystemId:
          type: string
          description: DBServer System Id for DBServer System and Compute Resource Mapping
          format: uuid
        driverInfo:
          $ref: '#/components/schemas/DbssCrMappingDriverInfo'
        metadata:
          $ref: '#/components/schemas/DbssCrMappingMetadata'
        primary:
          type: boolean
          description: Specifies if this is a primary node
          example: false
        status:
          $ref: '#/components/schemas/DbssCrStatus'
      description: This is a definition for Tessell DBServer System and Compute Resource mapping object
    TessellStorageDTO:
      title: TessellStorageDTO
      required:
        - name
      type: object
      properties:
        cloudId:
          type: string
          description: DBServer VM's Tessell cloud account identifier
          format: uuid
        cloudLocationId:
          maxLength: 2147483647
          minLength: 7
          type: string
          description: Storage resource's location in the cloud
        cloudResourceId:
          maxLength: 2147483647
          minLength: 3
          type: string
          description: Storage resource's cloud identifier
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the entity was last modified
          format: date-time
        driverInfo:
          $ref: '#/components/schemas/TessellBaseInfo'
        id:
          type: string
          format: uuid
          description: Tessell generated UUID for the entity
          example: 123e4567-e89b-12d3-a456-426614174000
        metadata:
          $ref: '#/components/schemas/TessellBaseMetadata'
        name:
          type: string
          description: Name of the entity
          example: sample_entity
        status:
          $ref: '#/components/schemas/TessellStorageStatus'
        storageTier:
          $ref: '#/components/schemas/StorageTier'
        type:
          $ref: 'common-specification.yaml#/components/schemas/StorageType'
        userId:
          type: string
          description: Storage resource's user id
          format: uuid
    TessellUpdateDatabaseIntegrationDTO:
      title: TessellUpdateDatabaseIntegrationDTO
      type: object
      properties:
        request:
          $ref: '#/components/schemas/TessellIntegrationRequestType'
        id:
          type: string
          format: uuid
          description: ID of the integration to add/remove/update from database
        tenantId:
          type: string
          minLength: 1
          maxLength: 128
          description: Tenant ID of the integration to add/remove/update from database
    TessellFeatureConfig:
      title: TessellFeatureConfig
      type: object
      properties:
        features:
          type: object
          properties:
            instanceResize:
              type: array
              items:
                $ref: '#/components/schemas/TessellInstanceResizeFeatureConfig'
    TessellInstanceResizeFeatureConfig:
      title: TessellInstanceResizeFeatureConfig
      type: object
      required:
        - engineType
      properties:
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        clouds:
          type: array
          items:
            type: object
            required:
              - cloud
            properties:
              cloud:
                $ref: 'common-specification.yaml#/components/schemas/cloudType'
              enabled:
                type: boolean
                default: false
              primary:
                type: boolean
                default: false
              standby:
                type: boolean
                default: false
              crossWorkloadTypeAllowed:
                type: boolean
                default: false
              supportedWorkloadTypes:
                type: array
                uniqueItems: true
                items:
                  type: string
    CreateStartStopSchedulePayload:
      title: CreateStartStopSchedulePayload
      description: Payload to create a start/stop schedule on the DB Service
      properties:
        name:
          type: string
          maxLength: 255
        description:
          type: string
          maxLength: 255
        scheduleInfo:
          $ref: '#/components/schemas/StartStopScheduleInfo'
    UpdateStartStopSchedulePayload:
      title: UpdateStartStopSchedulePayload
      description: Payload to update start/stop schedule on the DB Service
      properties:
        name:
          type: string
          maxLength: 255
        description:
          type: string
          maxLength: 255
        scheduleInfo:
          $ref: '#/components/schemas/StartStopScheduleInfo'
    StartStopOneTimeSchedule:
      title: StartStopOneTime
      description: One time start/stop schedule details for the DB Service
      x-patchable: true
      properties:
        dbServiceStartAt:
          type: string
          format: date-time
          description: Time at which the DB Service should be started at
          x-patchable: true
        dbServiceStopAt:
          type: string
          format: date-time
          description: Time at which the DB Service should be stopped at
          x-patchable: true
    StartStopRecurringSchedule:
      title: StartStopRecurringSchedule
      description: Recurring start/stop schedule details for the DB Service tessell service
      x-patchable: true
      properties:
        scheduleStartDate:
          type: string
          format: date
          description: Date from which the given recurring schedule would be applicable from
          x-patchable: true
        dbServiceStartAt:
          type: string
          pattern: '^([0-1][0-9]|[2][0-3]):([0-5][0-9])$'
          description: Time at which the DB Service should be started at
          x-patchable: true
        dbServiceStopAt:
          type: string
          pattern: '^([0-1][0-9]|[2][0-3]):([0-5][0-9])$'
          description: Time at which the DB Service should be stopped at
          x-patchable: true
        scheduleExpiry:
          $ref: '#/components/schemas/StartStopRecurringScheduleExpiry'
        dailySchedule:
          type: boolean
          description: Whether the given schedule is a daily schedule i.e. a schedule which is executed daily
          x-patchable: true
        weeklySchedule:
          $ref: '#/components/schemas/StartStopWeeklySchedule'
    StartStopRecurringScheduleExpiry:
      title: StartStopRecurringScheduleExpiry
      description: Schedule expiry details for recurring start/stop schedule for the DB Service
      x-patchable: true
      properties:
        on:
          type: string
          format: date
          description: Date after which the schedule would not be applicable
          x-patchable: true
        afterOccurrences:
          type: integer
          format: int32
          minimum: 0
          description: Number of occurrences which the schedule would not be applicable
          x-patchable: true
        never:
          type: boolean
          description: If set to True, the schedule will be applicable forever
          x-patchable: true
    StartStopWeeklySchedule:
      title: StartStopWeeklySchedule
      type: object
      description: Weekly recurring start/stop schedule details for the DB Service
      x-patchable: true
      properties:
        days:
          description: Days of the week on which the recurring start/stop schedule would be applicable for the DB Service
          uniqueItems: true
          x-patchable: true
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/WeekDay'
            x-enum: true
    StartStopScheduleResponse:
      title: StartStopScheduleResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/StartStopScheduleDTO'
    StartStopScheduleDTO:
      title: StartStopScheduleDTO
      description: Details of the start/stop schedule on a DB Service
      x-terraform-resource: DBServiceStartStopSchedule
      x-terraform:
        plural-name: DBServiceStartStopSchedules
        render:
          - resource
          - data_source
      required:
        - serviceId
        - scheduleInfo
      properties:
        id:
          type: string
          format: uuid
          description: The ID of the schedule
          x-computed: true
        name:
          type: string
          description: Name of the schedule
          x-computed: true
        description:
          type: string
          x-computed: true
        serviceId:
          type: string
          format: uuid
          description: The ID of the DB Service
        status:
          $ref: '#/components/schemas/StartStopScheduleStatus'
          x-computed: true
          x-enum: true
        scheduleInfo:
          $ref: '#/components/schemas/StartStopScheduleInfo'
          x-patchable: true
        metadata:
          $ref: '#/components/schemas/StartStopScheduleMetadata'
          x-computed: true
        dateCreated:
          type: string
          format: date-time
          description: Timestamp when the schedule was created
          x-computed: true
        dateModified:
          type: string
          format: date-time
          description: Timestamp when the schedule was last modified
          x-computed: true
        lastRun:
          type: string
          format: date-time
          description: The date-time at which this schedule was last executed
          x-computed: true
    StartStopScheduleOpsResponse:
      title: StartStopScheduleOpsResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/StartStopScheduleOpsDTO'
    StartStopScheduleOpsDTO:
      title: StartStopScheduleOpsDTO
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        serviceId:
          type: string
          format: uuid
        status:
          $ref: '#/components/schemas/StartStopScheduleStatus'
        scheduleInfo:
          $ref: '#/components/schemas/StartStopScheduleInfo'
        metadata:
          $ref: '#/components/schemas/StartStopScheduleOpsMetadata'
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the entity was last modified
          format: date-time
        lastRun:
          type: string
          description: The date-time at which this schedule was last executed
          format: date-time
    StartStopScheduleInfo:
      title: StartStopScheduleInfo
      description: Describes the start/stop schedule of tessell service
      x-patchable: true
      properties:
        oneTime:
          $ref: '#/components/schemas/StartStopOneTimeSchedule'
          x-patchable: true
        recurring:
          $ref: '#/components/schemas/StartStopRecurringSchedule'
          x-patchable: true
    StartStopScheduleOpsMetadata:
      title: StartStopScheduleOpsMetadata
      type: object
      properties:
        data:
          type: object
        scheduleCounter:
          type: integer
          format: int32
    StartStopScheduleMetadata:
      title: StartStopScheduleMetadata
      type: object
      x-computed: true
      properties:
        scheduleCounter:
          type: integer
          format: int32
          x-computed: true
    ServiceSchedulesResponse:
      title: ServiceSchedulesResponse
      description: Details about all the automated schedules on the DB Service
      properties:
        deletionSchedule:
          $ref: '#/components/schemas/DeletionScheduleDTO'
        startStopSchedules:
          type: array
          items:
            $ref: '#/components/schemas/StartStopScheduleDTO'
    DeletionScheduleResponse:
      title: DeletionScheduleResponse
      properties:
        response:
          $ref: '#/components/schemas/DeletionScheduleDTO'
    DeletionSchedulePayload:
      title: DeletionSchedulePayload
      description: Details of the deletion schedule on a DB Service
      required:
        - deleteAt
      properties:
        deleteAt:
          type: string
          format: date-time
          description: Time at which the DB Service should be deleted at
        deletionConfig:
          $ref: '#/components/schemas/TessellServiceDeletionConfig'
    DeletionScheduleDTO:
      title: DeletionScheduleDTO
      description: Details of the deletion schedule on a DB Service
      x-terraform-resource: DBServiceDeleteSchedule
      x-terraform:
        add-properties-from: [TerraformResourceDBServiceDeleteScheduleExtra]
        render:
          - resource
          - data_source
      x-patchable: true
      required:
        - deleteAt
      properties:
        id:
          type: string
          format: uuid
          x-computed: true
        deleteAt:
          type: string
          format: date-time
          description: Time at which the DB Service should be deleted at
          x-patchable: true
        deletionConfig:
          $ref: '#/components/schemas/TessellServiceDeletionConfig'
    TerraformResourceDBServiceDeleteScheduleExtra:
      title: TerraformResourceDBServiceDeleteScheduleExtra
      type: object
      x-terraform-extra: true
      required:
        - serviceId
      properties:
        serviceId:
          type: string
          format: uuid
          description: The ID of the DB Service
    PatchScheduleInfoOps:
      title: PatchScheduleInfoOps
      properties:
        contextId:
          type: string
        initiatedByUserEmailId:
          type: string
        instances:
          type: array
          items:
            type: object
            properties:
              instanceId:
                type: string
                format: uuid
              softwareImage:
                type: string
              softwareImageVersion:
                type: string
              softwareImageId:
                type: string
                format: uuid
              softwareImageVersionId:
                type: string
                format: uuid
        patchSchedule:
          type: object
          properties:
            scheduleAt:
              type: string
              format: date-time
            patchAtMaintenanceWindow:
              type: boolean
              default: false
    DbLicenseInfo:
      type: object
      title: DbLicenseInfo
      properties:
        licenses:
          type: array
          items:
            $ref: '#/components/schemas/LicenseInfo'
    LicenseInfo:
      type: object
      title: LicenseInfo
      properties:
        licenseId:
          type: string
          format: uuid
        lockHash:
          type: string
          description: Acquired licenses lock-hash
        quantity:
          type: number
          format: double
          description: quantity of acquired license
    StartServiceTaskPayload:
      type: object
      properties:
        tessellServiceId:
          type: string
          format: uuid
        serviceName:
          type: string
        serviceStatus:
          $ref: '#/components/schemas/TessellServiceStatusOps'
        databaseEngineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        healDegradedInstances:
          type: boolean
        cloudAccountId:
          type: string
          format: uuid
        ownerId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
        metadata:
          type: object
          additionalProperties:
            type: string
    StopServiceTaskPayload:
      type: object
      properties:
        tessellServiceId:
          type: string
          format: uuid
        serviceName:
          type: string
        databaseEngineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        serviceStatus:
          $ref: '#/components/schemas/TessellServiceStatusOps'
        cloudAccountId:
          type: string
          format: uuid
        ownerId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
        startAfterHours:
          type: integer
        hardStop:
          type: boolean
        hardStopAfterMins:
          type: integer
        metadata:
          type: object
          additionalProperties:
            type: string
    ServiceUpcomingScheduledActions:
      title: ServiceUpcomingScheduledActions
      type: object
      x-computed: true
      properties:
        startStop:
          type: object
          x-computed: true
          properties:
            action:
              type: string
              x-computed: true
              description: Action which can be either start/stop
            at:
              type: string
              format: date-time
              x-computed: true
              description: The time at which the specified action is to be performed
        patch:
          type: object
          x-computed: true
          properties:
            at:
              type: string
              format: date-time
              x-computed: true
              description: The updated time at which the specified action is to be performed
            message:
              type: string
              minLength: 1
              maxLength: 512
              description: Details for the update
        delete:
          type: object
          x-computed: true
          properties:
            at:
              type: string
              format: date-time
              x-computed: true
              description: The scheduled time for the action to be deleted
    TessellAgentLcmInfo:
      type: object
      title: TessellAgentLcmInfo
      properties:
        computeResourceInfo:
          type: object
        serviceInfo:
          type: object
        instanceInfo:
          type: object
        data:
          type: object
    DBServiceUpgradeEligibilityOpsResponse:
      type: object
      title: DBServiceUpgradeEligibilityOpsResponse
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        status:
          $ref: '#/components/schemas/TessellServiceStatusOps'
        eligibleForLibraryUpgrade:
          type: boolean
          default: true
        blockingConditions:
          type: array
          items:
            type: object
            title: DBServiceUpgradeBlockingCondition
            properties:
              condition:
                type: string
              details:
                type: object
        dbService:
          $ref: '#/components/schemas/TessellServiceOpsDTO'
    SampleDatasetOpsDTO:
      title: SampleDatasetOpsDTO
      type: object
      description: Details about the sample dataset
      properties:
        id:
          type: string
          format: uuid
          description: Unique ID of dataset
        name:
          type: string
          description: Name of the dataset
        description:
          type: string
          description: Short description of dataset
        link:
          type: string
          description: Link to Tessell support page which describes the dataset
        totalSize:
          type: integer
          format: int64
          description: Total size of dataset in bytes
        engine:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        softwareImages:
          type: array
          items:
            description: List of software images for which this dataset is applicable
            type: string
        cloudLocation:
          type: string
          description: Cloud location (AWS S3) where the sample dataset is stored.
        dumpPath:
          type: string
          description: Path of dataset dump with respect to AWS S3 tar.
        scriptPath:
          type: string
          description: Path of sanitization script with respect to AWS S3 tar.
        scriptId:
          type: string
          format: uuid
          description: Tessell Masking Script ID which is loaded along with this sample dataset.
        status:
          $ref: '#/components/schemas/SampleDatasetOpsStatus'
        dateCreated:
          type: string
          format: date-time
          description: Timestamp when this sample-dataset was created
        dateModified:
          type: string
          format: date-time
          description: Timestamp when this sample-dataset was last modified
    CreateSampleDatasetPayload:
      title: CreateSampleDatasetPayload
      type: object
      required:
        - name
        - total_size
        - engine
        - softwareImages
        - cloudLocation
        - dumpPath
        - scriptPath
      properties:
        name:
          type: string
          description: Name of the dataset
        description:
          type: string
          description: Short description of dataset
        link:
          type: string
          description: Link to Tessell support page which describes the dataset
        totalSize:
          type: integer
          format: int64
          description: Total size of dataset in bytes
        engine:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        softwareImages:
          type: array
          items:
            description: Version of database engine for which this dataset is applicable.
            type: string
        cloudLocation:
          type: string
          description: The AWS S3 URL where the sample dataset is stored.
        dumpPath:
          type: string
          description: Path of dataset dump with respect to AWS S3 tar.
        scriptPath:
          type: string
          description: Path of sanitization script with respect to AWS S3 tar.
    SampleDatasetsOpsResponse:
      title: SampleDatasetsOpsResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/SampleDatasetOpsDTO'
    SampleDatasetSuggestionsResponse:
      title: SampleDatasetSuggestionsResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/SampleDatasetOpsDTO'
    ServiceSampleDatasetOpsInfo:
      title: ServiceSampleDatasetOpsInfo
      type: object
      properties:
        showSuggestion:
          type: boolean
          default: true
        datasetLoadingDetails:
          type: array
          items:
            $ref: '#/components/schemas/ServiceSampleDatasetLoadingInfo'
    ServiceSampleDatasetLoadingInfo:
      title: ServiceSampleDatasetLoadingInfo
      type: object
      description: Details about the sample dataset being/already loaded in a DB Service.
      properties:
        datasetId:
          type: string
          format: uuid
          description: Sample Dataset ID which is loaded/being loaded in service.
        datasetName:
          type: string
          description: Name of sample dataset loading/loaded.
        datasetSize:
          type: integer
          format: int64
          description: Size of dataset that is loaded.
        dataLoadingStartAt:
          type: string
          format: date-time
          description: Time at which sample dataset loading started.
        dataLoadingCompletedAt:
          type: string
          format: date-time
          description: Time at which sample dataset loading completed.
        status:
          $ref: '#/components/schemas/SampleDatasetLoadingStatus'
        databaseId:
          type: string
          format: uuid
          description: DB Service database Id where the sample dataset is loading/loaded.
    ServiceSampleDatasetInfoResponse:
      title: ServiceSampleDatasetInfoResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/ServiceSampleDatasetLoadingInfo'
    ManageLoadSampleDatasetSuggestionPayload:
      title: ManageLoadSampleDatasetSuggestionPayload
      type: object
      required:
        - showSuggestion
      properties:
        showSuggestion:
          type: boolean
          description: True/False based on if the data loading suggestion popup should be shown or not.
    LoadSampleDatasetRequestPayload:
      title: LoadSampleDatasetRequestPayload
      type: object
      description: Details needed to load a sample dataset in a DB Service
      required:
        - datasetId
      properties:
        datasetId:
          type: string
          format: uuid
          description: Unique ID of Dataset to be loaded.
        datasetSize:
          type: integer
          format: int64
          description: Size in bytes to be loaded.
        databaseId:
          type: string
          format: uuid
          description: DB Service database ID in which we want to load sample data. Null if data is to be loaded in a new Database.
        databaseName:
          type: string
          description: Name of the Database where sample dataset would be loaded.
        scriptId:
          type: string
          format: uuid
          description: Tessell Masking Script ID corresponding to this dataset
        scriptName:
          type: string
          description: Masking Script name.
    PatchServiceTaskPayload:
      type: object
      properties:
        tessellServiceId:
          type: string
          format: uuid
        serviceName:
          type: string
        serviceStatus:
          $ref: '#/components/schemas/TessellServiceStatusOps'
        databaseEngineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        softwareImage:
          type: string
        softwareImageVersion:
          type: string
        instances:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/PatchInstanceTaskPayload'
        ownerId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
        metadata:
          type: object
          additionalProperties:
            type: string
    PatchInstanceTaskPayload:
      type: object
      properties:
        instanceId:
          type: string
          format: uuid
        softwareImage:
          type: string
        softwareImageVersion:
          type: string
        softwareImageId:
          type: string
          format: uuid
        softwareImageVersionId:
          type: string
          format: uuid
        cloudLocation:
          $ref: '#/components/schemas/CloudLocationInfo'
        cloudResourceId:
          type: string
        cloudResourceName:
          type: string
    UpdateServiceTaskPayload:
      type: object
      properties:
        tessellServiceId:
          type: string
          format: uuid
        availabilityMachineId:
          type: string
          format: uuid
        databaseEngineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        cloudAccountId:
          type: string
          format: uuid
        ownerId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
        switchOverPayload:
          $ref: '#/components/schemas/SwitchoverServiceTaskPayload'
        failoverPayload:
          $ref: '#/components/schemas/FailoverServiceTaskPayload'
        updateServicePayload:
          $ref: '#/components/schemas/UpdateTessellServicePayload'
        updateConnectivityPayload:
          $ref: '#/components/schemas/UpdateTessellServiceConnectivityPayloadServiceConnectivity'
        updateGenieConnectivityPayload:
          $ref: '#/components/schemas/GenieConnectivityPayload'
        resetCredsPayload:
          $ref: '#/components/schemas/ResetTessellServiceCredsPayload'
        integrationsPayload:
          type: array
          items:
            $ref: '#/components/schemas/TessellUpdateDatabaseIntegrationDTO'
        rebuildInstancePayload:
          type: array
          items:
            $ref: '#/components/schemas/RebuildServiceInstanceTaskPayload'
        restoreServicePayload:
          $ref: '#/components/schemas/RestoreServiceTaskPayload'
        metadata:
          type: object
          additionalProperties:
            type: string
    RestoreServiceTaskPayload:
      type: object
      properties:
        restoreInfo:
          $ref: '#/components/schemas/CloneTaskPayload'
    RebuildServiceInstanceTaskPayload:
      type: object
      properties:
        instanceId:
          type: string
          format: uuid
        computeTypeId:
          type: string
          format: uuid
        computeType:
          type: string
        baseStorage:
          type: integer
          format: int64

    FailoverServiceTaskPayload:
      type: object
      properties:
        failover:
          type: boolean

    SwitchoverServiceTaskPayload:
      type: object
      properties:
        switchover:
          type: boolean
        switchoverToInstanceId:
          type: string
          format: uuid
        currentInstanceGroupId:
          type: string
          format: uuid
        newInstanceGroupId:
          type: string
          format: uuid
        metadata:
          type: object
          additionalProperties:
            type: string
    UpdateServiceSampleDatasetInfoPayload:
      title: UpdateServiceSampleDatasetInfoPayload
      description: Payload for updating the ServiceSampleDatasetLoadingInfo for a service.
      type: object
      properties:
        datasetId:
          type: string
          format: uuid
        datasetSize:
          type: integer
          format: int64
        status:
          $ref: '#/components/schemas/SampleDatasetLoadingStatus'
        databaseId:
          type: string
          format: uuid
    PostgresqlConnectionPoolInfo:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: Unique id for the connection pool
        connPoolName:
          type: string
          description: Name of the connection pool
        connPoolSize:
          type: integer
          description: Size of the connection pool
        connPoolMode:
          $ref: '#/components/schemas/PostgresqlConnectionPoolMode'
        dbName:
          type: string
          description: Database name on which this connection pool exist
        dbUsername:
          type: string
          description: Username for the connection pool
        serviceName:
          type: string
        status:
          $ref: '#/components/schemas/ConnectionPoolStatus'
        connectionDetails:
          type: object
          properties:
            type:
              type: string
            connectDescriptor:
              type: string
            endpoint:
              type: string
            dbUsername:
              type: string
            port:
              type: integer
              format: int32
    ConnectionPoolOpsInfo:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: Tessell generated UUID for the connection pool
        tessellServiceId:
          type: string
          format: uuid
          description: UUID for the Tessell service
        name:
          type: string
          description: Name of the Connection Pool.
        status:
          $ref: '#/components/schemas/ConnectionPoolStatusOps'
        metadata:
          $ref: '#/components/schemas/ConnectionPoolMetadata'
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the entity was last modified, either by system or by user
          format: date-time
        dateModifiedByUser:
          type: string
          description: Timestamp when the entity was last modified by the user
          format: date-time
        connectionPoolInfo:
          type: object
          properties:
            userView:
              type: object
              properties:
                postgresqlConfig:
                  $ref: '#/components/schemas/PostgresqlConnectionPoolInfo'
            internalView:
              type: object
    ConnectionPoolWorkflowPayload:
      type: object
      properties:
        tessellServiceId:
          type: string
          format: uuid
        serviceName:
          type: string
        databaseEngineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        ownerId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
        cloudAccountId:
          type: string
          format: uuid
        crudActionType:
          $ref: '#/components/schemas/ConnectionPoolCrudActionType'
        metadata:
          $ref: '#/components/schemas/ConnectionPoolMetadata'
        connPoolsToCreate:
          type: array
          items:
            $ref: '#/components/schemas/CreateConnectionPoolWorkflowPayload'
        connPoolsToUpdate:
          type: array
          items:
            $ref: '#/components/schemas/UpdateConnectionPoolWorkflowPayload'
        connPoolsToDelete:
          type: array
          items:
            $ref: '#/components/schemas/DeleteConnectionPoolWorkflowPayload'
    UpdateConnectionPoolWorkflowPayload:
      type: object
      properties:
        connectionPoolId:
          type: string
          format: uuid
        databaseEngineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        updatePostgresqlConnPoolPayload:
          $ref: '#/components/schemas/UpdatePostgresqlConnectionPoolPayload'
    ConnectionPoolCrudActionType:
      type: string
      enum:
        - CREATE
        - UPDATE
        - DELETE
    DeleteConnectionPoolWorkflowPayload:
      type: object
      properties:
        connectionPoolId:
          type: string
          format: uuid
        databaseEngineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        deletePostgresqlConnPoolPayload:
          $ref: '#/components/schemas/DeletePostgresqlConnectionPoolWfPayload'
    DeletePostgresqlConnectionPoolWfPayload:
      type: object
      properties:
        connPoolName:
          type: string
    CreateConnectionPoolWorkflowPayload:
      type: object
      properties:
        connectionPoolId:
          type: string
          format: uuid
        databaseEngineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        createPostgresqlConnPoolPayload:
          $ref: '#/components/schemas/CreatePostgresqlConnectionPoolPayload'
    ConnectionPoolListResponse:
      title: ConnectionPoolListResponse
      type: object
      properties:
        postgresqlConfig:
          type: array
          items:
            $ref: '#/components/schemas/PostgresqlConnectionPoolInfo'
    ConnectionPoolListOpsResponse:
      title: ConnectionPoolListOpsResponse
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
      type: object
      properties:
        response:
          type: array
          items:
            $ref: '#/components/schemas/ConnectionPoolOpsInfo'
    CreateConnectionPoolPayload:
      title: CreateConnectionPoolPayload
      type: object
      properties:
        postgresqlConfig:
          type: array
          items:
            $ref: '#/components/schemas/CreatePostgresqlConnectionPoolPayload'
    UpdateConnectionPoolPayload:
      title: UpdateConnectionPoolPayload
      type: object
      properties:
        postgresqlConfig:
          $ref: '#/components/schemas/UpdatePostgresqlConnectionPoolPayload'
    DeleteConnectionPoolPayload:
      title: DeleteConnectionPoolPayload
      type: object
      properties:
        postgresqlConfig:
          $ref: '#/components/schemas/DeletePostgresqlConnectionPoolPayload'
    CreateConnectionPoolCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    UpdateConnectionPoolCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    DeleteConnectionPoolCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    CrudDatabaseCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    UpdateDBServiceParameterProfileCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    TriggerMaintenanceWindowCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    RebootDBServiceRequestCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    ResizeDBServiceRequestCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    CollectionsCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    IndexCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    LoadCollectionCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    ReleaseCollectionCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    CreatePostgresqlConnectionPoolPayload:
      type: object
      description: Postgres engine specific configuration for creating a connection pool
      required:
        - connPoolName
        - dbName
        - connPoolMode
        - connPoolSize
      properties:
        dbUsername:
          type: string
          description: Database user name
        connPoolName:
          type: string
          description: Name of the connection pool
        dbName:
          type: string
          description: Name of the database for current connection pool
        connPoolMode:
          $ref: '#/components/schemas/PostgresqlConnectionPoolMode'
        connPoolSize:
          type: integer
          format: int32
          description: Size of connection pool
          minimum: 1
          maximum: 100000
    UpdatePostgresqlConnectionPoolPayload:
      type: object
      description: Postgres engine specific configuration for updating a connection pool
      required:
        - connPoolName
        - dbName
        - connPoolMode
        - connPoolSize
      properties:
        dbUsername:
          type: string
          description: Database user name
        connPoolName:
          type: string
          description: Name of the connection pool
        dbName:
          type: string
          description: Name of the database for current connection pool
        connPoolMode:
          $ref: '#/components/schemas/PostgresqlConnectionPoolMode'
        connPoolSize:
          type: integer
          format: int32
          description: Size of connection pool
          minimum: 1
          maximum: 100000
    DeletePostgresqlConnectionPoolPayload:
      type: object
      description: Postgres specific configuration for deleting the connection pool
      required:
        - connectionPools
      properties:
        connectionPools:
          type: array
          description: Name of connection pools to delete
          items:
            type: string
    ConnectionPoolMetadata:
      type: object
      properties:
        data:
          type: object
    DatabasesTaskPayload:
      type: object
      properties:
        action:
          $ref: '#/components/schemas/DatabaseCrudActionType'
        tessellServiceId:
          type: string
          format: uuid
        availabilityMachineId:
          type: string
          format: uuid
        serviceName:
          type: string
        serviceStatus:
          $ref: '#/components/schemas/TessellServiceStatusOps'
        databaseEngineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        ownerId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
        cloudAccountId:
          type: string
          format: uuid
        databasesToCreate:
          type: array
          items:
            $ref: '#/components/schemas/CreateDatabaseWorkPayload'
        databasesToDelete:
          type: array
          items:
            $ref: '#/components/schemas/DeleteDatabaseWorkPayload'
        rollback:
          type: boolean
        metadata:
          type: object
          additionalProperties:
            type: string
    CreateDatabaseWorkPayload:
      type: object
      properties:
        databaseId:
          type: string
          format: uuid
        databaseName:
          type: string
        databaseConfiguration:
          $ref: '#/components/schemas/DatabaseConfigurationInfo'
    DatabaseCrudActionType:
      type: string
      enum:
        - CREATE
        - UPDATE
        - DELETE
    ConfigureCollectionTaskPayload:
      type: object
      properties:
        action:
          $ref: '#/components/schemas/CollectionWorkflowActionTypeOps'
        serviceId:
          type: string
          format: uuid
        collectionId:
          type: string
          format: uuid
        tenantId:
          type: string
        collectionName:
          type: string
    CollectionTaskPayloadOps:
      type: object
      properties:
        action:
          $ref: '#/components/schemas/CollectionWorkflowActionTypeOps'
        serviceId:
          type: string
          format: uuid
        databaseId:
          type: string
          format: uuid
        collectionId:
          type: string
          format: uuid
        tenantId:
          type: string
        DbCollectionCreatePayload:
          $ref: '#/components/schemas/DbCollectionCreatePayload'
    IndexTaskPayloadOps:
      type: object
      properties:
        action:
          $ref: '#/components/schemas/IndexWorkflowActionTypeOps'
        databaseId:
          type: string
          format: uuid
        serviceId:
          type: string
          format: uuid
        collectionId:
          type: string
          format: uuid
        indexId:
          type: string
          format: uuid
        tenantId:
          type: string
        collectionName:
          type: string
        DbCollectionIndexCreatePayload:
          $ref: '#/components/schemas/DbCollectionIndexPayload'
    IndexWorkflowActionTypeOps:
      type: string
      enum:
        - CREATE
        - DELETE
    CollectionWorkflowActionTypeOps:
      type: string
      enum:
        - CREATE
        - DELETE
        - LOAD
        - RELEASE
    DeleteDatabaseWorkPayload:
      type: object
      properties:
        databaseId:
          type: string
          format: uuid
        databaseName:
          type: string
    TessellServiceContextInfo:
      type: object
      x-computed: true
      description: Provide more context of DB Service state
      properties:
        subStatus:
          $ref: '#/components/schemas/TessellServiceSubStatus'
        description:
          type: string
    PostgresqlConnectionPoolMode:
      description: Mode of postgresql connection pool.
      type: string
      enum:
        - SESSION
        - TRANSACTION
        - STATEMENT
    ConnectionPoolStatus:
      description: Status of connection pool visible to end user.
      type: string
      enum:
        - CREATING
        - ACTIVE
        - UPDATING
        - DELETING
        - DELETED
    ConnectionPoolStatusOps:
      description: Status of connection pool internal to Tessell
      type: string
      enum:
        - CREATING
        - CREATION_FAILED
        - ACTIVE
        - UPDATING
        - DELETING
        - DELETION_FAILED
        - DELETED
    StartStopScheduleStatus:
      description: StartStopScheduleStatus
      enum:
        - ACTIVE
        - PAUSED
        - EXPIRED
        - DELETED
    SampleDatasetOpsStatus:
      description: Status of the the sample dataset
      enum:
        - ENABLED
        - DISABLED
        - DELETED
    SampleDatasetLoadingStatus:
      description: Status of the the sample dataset
      enum:
        - NA
        - LOADING
        - LOADED
        - FAILED
    StorageTier:
      description: Storage tier type
      type: string
      enum:
        - ebs_disk
        - local_nvme_disk
        - s3_bucket
        - azure_blob
        - azure_vault
      x-enum-varnames:
        - ebs_disk
        - local_nvme_disk
        - s3_bucket
        - azure_blob
        - azure_vault
    SwitchOverStatus:
      type: string
      enum:
        - ELECTED
        - ELECTING
        - NA
        - NOT_ELECTED
    SwitchOverPolicy:
      type: string
      enum:
        - ELECTED
        - ELECTING
        - NA
        - NOT_ELECTED
    ComputeResourceStatusOps:
      enum:
        - CREATING
        - DELETED
        - DELETING
        - DELETION_FAILED
        - RUNNING
        - STOPPED
        - UPGRADING

    ComputeResourceStatus:
      type: string
      description: The current status of the Compute Resource
      enum:
        - CREATING
        - RUNNING
        - STOPPING
        - STOPPED
        - STARTING
    MachineType:
      type: string
      description: Infrastructure behind the Compute Resource
      enum:
        - BARE_METAL
        - VM
        - CONTAINER
    ComputeResourceType:
      type: string
      description: The type of the Compute Resource
      enum:
        - DBSERVER
        - DBSERVER_AUXILIARY
        - MONITORING
    TessellStorageStatus:
      type: string
      enum:
        - CREATING
        - DELETED
        - DELETING
        - READY
    DBServerSystemStatus:
      type: string
      enum:
        - CREATING
        - DELETED
        - DELETING
        - READY
    TessellServiceStatus:
      type: string
      description: The current status of the DB Service
      enum:
        - CREATING
        - FAILED
        - READY
        - STOPPING
        - STOPPED
        - DEGRADED
        - HEALING
        - DOWN
        - STARTING
        - DELETING
        - SWITCHOVER
        - REBUILDING
        - PATCHING
        - PATCH_FAILED
        - UPDATING
        - UNDER_MAINTENANCE
    TessellServiceStatusOps:
      type: string
      enum:
        - CREATING
        - CREATION_FAILED
        - DELETED
        - DELETING
        - READY
        - STOPPED
        - STOPPING
        - CONNECTION_STOPPED
        - STARTING
        - DEGRADED
        - HEALING
        - DOWN
        - DELETION_FAILED
        - WARM_STOPPED
        - TO_BE_DELETED
        - DELETED_FOR_USER
        - SWITCHING_OVER
        - REBUILDING
        - RESIZING_STORAGE
        - RESTORING
        - RESTORE_FAILED
        - START_FAILED
        - CONNECTION_STOP_FAILED
        - VM_STOP_FAILED
        - SWITCHOVER_FAILED
        - BACKING_UP
        - PATCHING
        - PATCH_FAILED
        - UPDATING_PARAMETER_PROFILE
        - UNDER_MAINTENANCE
    TessellServiceSubStatus:
      type: string
      description: DB Service could have a sub status associated along with status
      enum:
        - START_FAILED
        - SWITCHOVER_FAILED
        - BACKING_UP
        - PATCH_FAILED
        - REBUILDING
        - STOP_FAILED
        - REBUILD_FAILED
        - RESIZING_STORAGE
        - RESIZING_STORAGE_FAILED
        - UPDATING_PARAMETER_PROFILE
        - PARAMETER_PROFILE_UPDATE_FAILED
    TessellServiceInstanceStatusOps:
      type: string
      enum:
        - UP
        - DOWN
        - STOPPED
        - CREATING
        - DELETED
        - DELETING
        - DELETING_FOR_USER
        - TO_BE_DELETED
        - DELETION_FAILED
        - REBUILDING
        - REBUILD_FAILED
        - RESIZING_STORAGE
        - RESIZING_STORAGE_FAILED
        - CONNECTION_STOPPED
        - CREATION_FAILED
        - PATCHING
        - PATCH_FAILED
        - UPDATING_PARAMETER_PROFILE
        - PARAMETER_PROFILE_UPDATE_FAILED
    TessellServiceInstanceStatus:
      type: string
      description: DB Service instance status
      enum:
        - CREATING
        - DELETING
        - UP
        - DOWN
        - STOPPED
        - REBUILDING
        - REBUILD_FAILED
        - PATCHING
        - PATCH_FAILED
        - UPDATING_PARAMETER_PROFILE
        - PARAMETER_PROFILE_UPDATE_FAILED
    TessellServiceInstancePluginStatus:
      type: string
      enum:
        - UP
        - DOWN
    TessellServiceInstanceRole:
      type: string
      description: DB Service instance role
      enum:
        - primary
        - read_only_replica
        - failover_replica
        - dr
    TessellServiceInstanceType:
      type: string
      description: DB Service instance type
      enum:
        - DC
        - DR
    DatabaseStatusOps:
      type: string
      description: Database status
      enum:
        - CREATING
        - CREATION_FAILED
        - DELETED
        - DELETING
        - READY
        - STOPPED
        - DOWN
        - DELETION_FAILED
    DatabaseStatus:
      type: string
      enum:
        - CREATING
        - FAILED
        - DELETING
        - READY
        - DOWN
        - STOPPED
        - STOPPING
        - STARTING
    DbssCrStatus:
      type: string
      enum:
        - CREATING
        - DELETED
        - DELETING
        - READY
    DatabaseStorageMappingStatus:
      type: string
      enum:
        - CREATING
        - DELETED
        - DELETING
        - READY
        - REFRESH_FAILED
    ConnectStringType:
      type: string
      description: Connect string type
      enum:
        - write_read
        - read_only
    ConnectStringUsageType:
      type: string
      description: Usage type of connection string.
      enum:
        - default
        - connection_pool
    tessellServiceTopology:
      type: string
      description: DB Service topology. This would specify whether the DB Service is single-node, or multi-node.
      enum:
        - single_instance
        - high_availability
    tessellServiceLicenseType:
      type: string
      description: DB Service License Type
      enum:
        - byol
        - oss
        - gpl
    TessellIntegrationRequestType:
      type: string
      description: Request type enum for the addition/removal/updation of the Integration for the DB Service.
      enum:
        - ADD
        - UPDATE
        - REMOVE
    DBServiceCloneType:
      type: string
      enum:
        - clone
        - restore
        - sanitization
        - native_backup
    TessellGlobalEngineInputDataType:
      type: string
      enum:
        - short
        - int
        - long
        - float
        - double
        - byte
        - char
        - boolean
        - String
    TessellGlobalEngineConfigType:
      type: string
      enum:
        - TessellEntity
        - EngineConfig
        - UserInput
    TessellGlobalEngineCriteria:
      type: string
      enum:
        - equals
        - matches
        - in
        - gt
        - lt
    ResourceActionStepConfig:
      type: object
      required:
        - stepName
        - displayName
        - userVisible
        - userVisibleWeight
      properties:
        stepName:
          type: string
        displayName:
          type: string
        userVisible:
          type: boolean
        details:
          type: string
        internalWeight:
          type: integer
          minimum: 0
          maximum: 100
        userVisibleWeight:
          type: integer
          minimum: 0
          maximum: 100
    ResourceActionConfig:
      type: object
      properties:
        actionName:
          type: string
        displayName:
          type: string
        highPerformanceShapeEtaSeconds:
          type: integer
        standardShapeEtaSeconds:
          type: integer
        isSameStepsForHighPerformanceShape:
          type: boolean
        steps:
          type: array
          items:
            $ref: '#/components/schemas/ResourceActionStepConfig'
        highPerformanceShapeSteps:
          type: array
          items:
            $ref: '#/components/schemas/ResourceActionStepConfig'
    TimingEstimateConfig:
      type: object
      properties:
        oracle:
          $ref: '#/components/schemas/TimingEstimateCloudConfig'
        postgresql:
          $ref: '#/components/schemas/TimingEstimateCloudConfig'
        mysql:
          $ref: '#/components/schemas/TimingEstimateCloudConfig'
        sqlserver:
          $ref: '#/components/schemas/TimingEstimateCloudConfig'
        mongodb:
          $ref: '#/components/schemas/TimingEstimateCloudConfig'
        milvus:
          $ref: '#/components/schemas/TimingEstimateCloudConfig'
    TaskProgressConfigResponse:
      type: object
      properties:
        oracle:
          type: array
          items:
            $ref: '#/components/schemas/ResourceActionConfig'
        postgresql:
          type: array
          items:
            $ref: '#/components/schemas/ResourceActionConfig'
        sqlserver:
          type: array
          items:
            $ref: '#/components/schemas/ResourceActionConfig'
        mysql:
          type: array
          items:
            $ref: '#/components/schemas/ResourceActionConfig'
        apache_kafka:
          type: array
          items:
            $ref: '#/components/schemas/ResourceActionConfig'
        mongodb:
          type: array
          items:
            $ref: '#/components/schemas/ResourceActionConfig'
        milvus:
          type: array
          items:
            $ref: '#/components/schemas/ResourceActionConfig'
    TaskProgressUpdateResponse:
      type: object
      properties:
        action:
          type: string
          description: The action running on the resource
        resourceId:
          type: string
          description: Unique id for the resource
        resourceType:
          type: string
          description: Type of the resource
        percentCompleted:
          type: integer
          description: Percentage completion for the action
          minimum: 0
          maximum: 100
        timeRemainingSeconds:
          type: integer
          description: Expected time remaining for the action to get completed
        steps:
          type: array
          items:
            $ref: '#/components/schemas/TaskProgressStepResponse'
    TaskProgressStepResponse:
      type: object
      description: Details of the sub-steps
      properties:
        sequenceNumber:
          type: integer
          description: Sequence number of the sub-step.
        name:
          type: string
        status:
          type: string
        startTime:
          type: string
          format: date-time
          description: Time at which this step was started
        completedTime:
          type: string
          format: date-time
          description: Time at which this step was completed. It would be non-null only if given step is completed.
        details:
          type: string
        message:
          type: string
    PublishTaskProgressEventPayload:
      type: object
      required:
        - resourceId
        - resourceType
        - eventType
        - stepName
        - eventStatus
      properties:
        resourceId:
          type: string
          description: ID of Tessell Entity provided in resourceType
        resourceType:
          type: string
          description: Resource type i.e. TESSELL_ENTITY (like TESSELL_SERVICE/DB_SNAPSHOT etc)
        resourceName:
          type: string
          description: Name of the resource for which task progress event will be published
        resourceOwnerId:
          type: string
          description: Owner id of the resource for which task progress event will be published
        eventType:
          type: string
          description: Type of task-progress event. Refer TaskProgressEventType in database-system-service.
        stepName:
          type: string
          description: Sub-step name of the task-progress event.
        message:
          type: string
        eventStatus:
          type: string
          description: Status of the sub-step. Refer TaskProgressEventStatusType in database-system-service.
    DeleteInstanceTaskPayload:
      type: object
      properties:
        serviceName:
          type: string
        tessellServiceId:
          type: string
          format: uuid
        availabilityMachineId:
          type: string
          format: uuid
        databaseEngineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        ownerId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
        cloud:
          $ref: 'common-specification.yaml#/components/schemas/cloudType'
        region:
          type: string
        instanceGroupId:
          type: string
          format: uuid
        instanceIds:
          uniqueItems: true
          type: array
          items:
            type: string
            format: uuid
        cloudAccountId:
          type: string
          format: uuid
        cloudLocation:
          type: string
        metadata:
          type: object
          additionalProperties:
            type: string
    DeleteServiceTaskPayload:
      type: object
      properties:
        tessellServiceId:
          type: string
          format: uuid
        serviceName:
          type: string
        databaseEngineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        serviceStatus:
          $ref: '#/components/schemas/TessellServiceStatusOps'
        availabilityMachineId:
          type: string
          format: uuid
        cloudAccountId:
          type: string
          format: uuid
        ownerId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
        deleteServicePayload:
          $ref: '#/components/schemas/TessellServiceDeletionConfig'
    TerraformTessellServiceDTO:
      title: TerraformTessellServiceDTO
      type: object
      x-terraform-resource: DBService
      x-terraform:
        add-properties-from: [TerraformResourceDBServiceExtra]
        plural-name: DBServices
        render:
          - resource
          - data_source
          - data_source_list
        skipRead:
          - backupConfiguration
          - creds
          - backupId
        suppress-nil-vs-empty-diff:
          integrationsConfig:
            "0":
              emptyItem: false
              items:
                integrations:
                  emptyItem: true
                  itemType: array
          tags:
            "0":
              emptyItem: true
              itemType: object
          databases:
            "0":
              source_database_id:
                emptyItem: true
                itemType: ""
      required:
        - name
        - subscription
        - engineType
        - topology
        - softwareImage
        - softwareImageVersion
        - infrastructure
        - serviceConnectivity
        - creds
        - engineConfiguration
      properties:
        id:
          type: string
          format: uuid
          x-computed: true
          description: Tessell generated UUID for the DB Service. This is the unique identifier for the DB Service.
        availabilityMachineId:
          type: string
          format: uuid
          x-computed: true
          description: Associated Availability Machine Id
        snapshotId:
          type: string
          format: uuid
          description: Tessell service snapshot Id, using which the clone is to be created
          nullable: true
        pitr:
          type: string
          description: PITR Timestamp, using which the clone is to be created
          nullable: true
        name:
          type: string
          description: Name of the DB Service
          x-patchable: true
        description:
          type: string
          description: DB Service's description
          x-patchable: true
          nullable: true
        tenantId:
          type: string
          x-computed: true
          description: The tenant-id for the DB Service
        subscription:
          type: string
          description: Tessell Subscription in which the DB Service is to be created
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        topology:
          $ref: '#/components/schemas/tessellServiceTopology'
        numOfInstances:
          type: integer
          format: int32
          description: Number of instance (nodes) to be created for the DB Service. This is a required input for Apache Kafka. For all other engines, this input would be ignored even if specified.
          x-computed: true
        status:
          x-computed: true
          x-enum: true
          $ref: '#/components/schemas/TessellServiceStatus'
        contextInfo:
          x-computed: true
          $ref: '#/components/schemas/TessellServiceContextInfo'
        licenseType:
          description: DB Service License Type
          x-computed: true
          x-enum: true
          $ref: '#/components/schemas/tessellServiceLicenseType'
        edition:
          type: string
        softwareImage:
          type: string
          description: Software Image to be used to create the DB Service
        softwareImageVersion:
          type: string
          description: Software Image Version to be used to create the DB Service
        softwareImageVersionFamily:
          type: string
          description: Software Image Family DB Service belongs to
          x-computed: true
        autoMinorVersionUpdate:
          type: boolean
          default: true
          description: Specify whether to automatically update minor version for DB Service
          x-patchable: true
        enableDeletionProtection:
          type: boolean
          default: true
          description: Specify whether to enable deletion protection for the DB Service
          x-patchable: true
        enableStopProtection:
          type: boolean
          default: false
          description: This field specifies whether to enable stop protection for the DB Service. If this is enabled, the stop for the DB Service would be disallowed until this setting is disabled.
          x-patchable: true
        owner:
          type: string
          description: DB Service owner email address
          x-computed: true
        loggedInUserRole:
          type: string
          description: Access role for the currently logged in user
          x-computed: true
        dateCreated:
          type: string
          description: Timestamp when the DB Service was created at
          format: date-time
          x-computed: true
        startedAt:
          type: string
          description: Timestamp when the DB Service was last started at
          format: date-time
          x-computed: true
        stoppedAt:
          type: string
          description: Timestamp when the DB Service was last stopped at
          format: date-time
          x-computed: true
        clonedFromInfo:
          $ref: '#/components/schemas/TessellServiceClonedFromInfo'
        infrastructure:
          $ref: '#/components/schemas/TFTessellServiceInfrastructureInfo'
        serviceConnectivity:
          $ref: '#/components/schemas/TessellServiceConnectivityInfo'
        tessellGenieStatus:
          x-computed: true
          x-enum: true
          $ref: '#/components/schemas/TessellServiceGenieStatus'
        creds:
          $ref: '#/components/schemas/TessellServiceCredsPayload'
        maintenanceWindow:
          $ref: '#/components/schemas/TessellServiceMaintenanceWindow'
        snapshotConfiguration:
          $ref: '#/components/schemas/SnapshotConfigurationPayload'
        engineConfiguration:
          $ref: '#/components/schemas/TessellServiceEngineInfo'
        databases:
          x-patchable: true
          type: array
          description: Databases that are part of this DB Service
          items:
            $ref: '#/components/schemas/TerraformTessellDatabaseDTO'
        integrationsConfig:
          $ref: '#/components/schemas/TessellServiceIntegrationsPayload'
        tags:
          type: array
          description: The tags to be associated with the DB Service
          items:
            $ref: 'common-specification.yaml#/components/schemas/TessellTag'
          x-patchable: true
          nullable: true
        instances:
          type: array
          description: Instances associated with this DB Service
          items:
            $ref: '#/components/schemas/TessellServiceInstanceDTO'
          x-computed: true
        sharedWith:
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingInfo'
        upcomingScheduledActions:
          x-computed: true
          $ref: '#/components/schemas/ServiceUpcomingScheduledActions'
        deletionConfig:
          $ref: '#/components/schemas/TessellServiceDeletionConfig'
          x-patchable: true
        deletionSchedule:
          $ref: '#/components/schemas/DeletionScheduleDTO'
        updatesInProgress:
          x-computed: true
          description: The updates that are in progress for this resource
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/TessellResourceUpdateInfo'
    TerraformResourceDBServiceExtra:
      title: TerraformResourceDBServiceExtra
      type: object
      x-terraform-extra: true
      properties:
        parentAvailabilityMachineId:
          type: string
          format: uuid
          description: Id of the parent AvailabilityMachine, required when creating a clone
        blockUntilComplete:
          type: boolean
          description: For any operation on this resource, block the flow until the action has completed successfully
          default: true
          x-patchable: true
        timeout:
          type: integer
          description: If block_until_complete is true, how long it should block for. (In seconds)
          default: 3600
          x-patchable: true
        expectedStatus:
          type: string
          enum: [READY, STOPPED]
          default: "READY"
          description: If provided, invoke the DB Service start/stop API
          x-patchable: true
    TerraformDataSourceListDBServiceExtra:
      title: TerraformDataSourceListDBServiceExtra
      type: object
      x-terraform-extra: true
      properties:
        name:
          description: Name of the DB Service
          type: string
        statuses:
          description: statuses
          type: array
          items:
            type: string
            enum:
              - CREATING
              - FAILED
              - READY
              - STOPPING
              - STOPPED
              - DEGRADED
              - STARTING
              - DELETING
              - SWITCHOVER
              - REBUILDING
        engineTypes:
          description: DB Service's engine-types
          type: array
          items:
            type: string
            enum:
              - ORACLE
              - POSTGRESQL
              - SQLSERVER
              - MYSQL
              - APACHE_KAFKA
              - MONGODB
        clonedFromServiceId:
          description: The ID of the DB Service from which the services are cloned
          type: string
          format: uuid
        clonedFromAvailabilityMachineId:
          description: The id of the Availability Machine from which the services are cloned
          type: string
          format: uuid
        loadInstances:
          description: Load the instances that are part of the DB Service
          type: boolean
          default: true
        loadDatabases:
          description: Load the databases that are part of the DB Service
          type: boolean
          default: true
        owners:
          description: List of Email Addresses for entity or resource owners
          type: array
          items:
            type: string
        loadAcls:
          description: Load ACL information
          type: boolean
          default: false
    ResizeDBServiceRequest:
      title: ResizeDBServiceRequest
      type: object
      properties:
        serviceResizeConfig:
          description: If specified, this will take priority over instance resize config
          $ref: '#/components/schemas/ServiceResizeConfig'
        instanceResizeConfig:
          type: array
          items:
            $ref: '#/components/schemas/InstanceResizeConfig'
    CommonResizeConfig:
      title: CommonResizeConfig
      type: object
      properties:
        computeType:
          type: string
          description: The new compute type for the service/instance
        parameterProfileId:
          type: string
          format: uuid
          description: Mandatory when providing compute type
        iops:
          type: integer
          format: int64
          description: The new IOPS for the service/instance
        throughput:
          type: integer
          format: int32
          description: The new Throughput for the service/instance
    ServiceResizeConfig:
      title: ServiceResizeConfig
      allOf:
        - $ref: '#/components/schemas/CommonResizeConfig'
        - type: object
          properties:
            storage:
              type: integer
              format: int64
              description: The new storage (in bytes) for the service
    InstanceResizeConfig:
      title: InstanceResizeConfig
      allOf:
        - $ref: '#/components/schemas/CommonResizeConfig'
        - type: object
          required:
            - instanceId
          properties:
            instanceId:
              type: string
              format: uuid
              description: UUID for the instance that needs to be resized.
    WorkflowInstanceResizeConfig:
      title: WorkflowInstanceResizeConfig
      allOf:
        - $ref: '#/components/schemas/InstanceResizeConfig'
        - type: object
          properties:
            storage:
              type: integer
              format: int64
              description: The new storage (in bytes) for the service
            parameterProfileId:
              type: string
              format: uuid
            currentLicenseInfo:
              $ref: '#/components/schemas/DbLicenseInfo'
            newLicenseInfo:
              $ref: '#/components/schemas/DbLicenseInfo'
    ResizeDBServiceWorkflowPayload:
      title: ResizeDBServiceWorkflowPayload
      type: object
      properties:
        tessellServiceId:
          type: string
          format: uuid
        availabilityMachineId:
          type: string
          format: uuid
        databaseEngineType:
          type: string
        cloudAccountId:
          type: string
          format: uuid
        ownerId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
        snapshotPayload:
          type: object
        workflowInstanceResizeConfig:
          type: array
          items:
            $ref: '#/components/schemas/WorkflowInstanceResizeConfig'
        metadata:
          type: object
          additionalProperties:
            type: string
    ParameterProfile:
      title: ParameterProfile
      type: object
      x-computed: true
      properties:
        id:
          type: string
          format: uuid
          description: Tessell generated UUID for the the parameter profile
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: The name used to identify the parameter profile
        version:
          type: string
          format: uuid
          description: The version of the parameter profile associated with the instance
        status:
          $ref: '#/components/schemas/ParameterProfileStatus'
    ParameterProfileStatus:
      type: string
      description: Association status of the instance to the parameter profile
      enum:
        - IN_SYNC
        - UPDATING
        - OUT_OF_SYNC
        - PENDING_REBOOT
    DBServiceInstanceParameterProfileConfig:
      title: DBServiceInstanceParameterProfileConfig
      type: object
      properties:
        instanceId:
          type: string
          format: uuid
        parameterProfile:
          $ref: '#/components/schemas/ParameterProfile'
    DBServiceInstanceParameterProfileUpdateRequest:
      title: DBServiceInstanceParameterProfileUpdateRequest
      type: object
      properties:
        instanceId:
          type: string
          format: uuid
          description: The instance ID for which parameter profile update needs to be triggered
        parameterProfileId:
          type: string
          format: uuid
          description: The parameter profile ID to which instance needs to be updated
        parameterProfileVersion:
          type: string
          format: uuid
          nullable: true
          description: The parameter profile version to which instance needs to be updated. By default, instance is updated to the latest version of the parameter profile.
    DBServiceParameterProfileUpdateRequest:
      title: DBServiceParameterProfileUpdateRequest
      type: object
      properties:
        instanceParameterProfileConfig:
          type: array
          items:
            $ref: '#/components/schemas/DBServiceInstanceParameterProfileUpdateRequest'
        applyConfig:
          $ref: '#/components/schemas/ApplyConfig'
    ApplyConfig:
      title: ApplyConfig
      type: object
      description: Application Details for any operation
      properties:
        overriddenTaskIds:
          type: array
          description: Task ids that this request will override
          items:
            type: string
            format: uuid
            uniqueItems: true
        strategy:
          $ref: '#/components/schemas/ApplyStrategy'
        maintenanceWindowId:
          type: string
          format: uuid
          description: Needed when strategy is MAINTENANCE_WINDOW
        time:
          type: string
          format: date-time
          description: Needed when strategy is CUSTOM_DATE_TIME
    ApplyStrategy:
      type: string
      enum:
        - IMMEDIATELY
        - MAINTENANCE_WINDOW
        - CUSTOM_DATE_TIME
        - DO_NOT_APPLY
    ParameterProfileImpactResponse:
      properties:
        serviceInstances:
          type: array
          items:
            $ref: '#/components/schemas/ServiceNameInstance'
    ServiceNameInstance:
      properties:
        name:
          type: string
        instances:
          type: array
          items:
            $ref: '#/components/schemas/TessellServiceInstanceDTO'
    TaskResponse:
      properties:
        status:
          $ref: '#/components/schemas/TaskResponseStatus'
        applyConfig:
          $ref: '#/components/schemas/ApplyConfig'
        conflicts:
          $ref: '#/components/schemas/TaskResponseConflicts'
        taskSummary:
          $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        task:
          $ref: '#/components/schemas/TaskDTO'
    TaskResponseConflicts:
      type: object
      properties:
        maintenanceWindows:
          type: array
          items:
            $ref: '#/components/schemas/MaintenanceWindowDTO'
    TaskResponseStatus:
      type: string
      enum:
        - TRIGGERED
        - QUEUED
        - CONFLICT
        - FORCE_TRIGGERED
        - FORCE_QUEUED
        - FAILED
    DBServiceParameterProfileUpdateOpsRequest:
      title: DBServiceParameterProfileUpdateOpsRequest
      allOf:
        - $ref: '#/components/schemas/DBServiceParameterProfileUpdateRequest'
        - type: object
          properties:
            rebootAllowed:
              type: boolean
    DBServiceParameterProfileUpdateImpactResponse:
      title: DBServiceParameterProfileUpdateImpactResponse
      type: object
      properties:
        serviceRebootNeeded:
          type: boolean
          description: If service reboot is needed as part of processing parameter profile update request
    RebootDBServiceWorkflowPayload:
      title: RebootDBServiceWorkflowPayload
      type: object
      properties:
        tessellServiceId:
          type: string
          format: uuid
        availabilityMachineId:
          type: string
          format: uuid
        databaseEngineType:
          type: string
        cloudAccountId:
          type: string
          format: uuid
        ownerId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
    ParameterProfileUpdateForDBServiceInstanceWorkflowPayload:
      title: ParameterProfileUpdateForDBServiceInstanceWorkflowPayload
      type: object
      properties:
        instanceId:
          type: string
          format: uuid
        currentParameterProfile:
          $ref: '#/components/schemas/ParameterProfile'
        newParameterProfile:
          $ref: '#/components/schemas/ParameterProfile'
    ParameterProfileUpdateForDBServiceWorkflowPayload:
      title: ParameterProfileUpdateForDBServiceWorkflowPayload
      type: object
      properties:
        tessellServiceId:
          type: string
          format: uuid
        availabilityMachineId:
          type: string
          format: uuid
        databaseEngineType:
          type: string
        cloudAccountId:
          type: string
          format: uuid
        ownerId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
        snapshotPayload:
          type: object
        rebootAllowed:
          type: boolean
        instanceParameterProfileList:
          type: array
          items:
            $ref: '#/components/schemas/ParameterProfileUpdateForDBServiceInstanceWorkflowPayload'
    MaintenanceWindowOpsDTO:
      type: object
      description: Ops view for Maintenance Window
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        entityId:
          type: string
          format: uuid
        entityType:
          $ref: 'common-specification.yaml#/components/schemas/entityType'
        type:
          $ref: '#/components/schemas/MaintenanceWindowType'
        status:
          $ref: '#/components/schemas/MaintenanceWindowStatus'
        triggerTime:
          type: string
          format: date-time
        executionInfo:
          $ref: '#/components/schemas/MaintenanceWindowExecutionInfo'
        duration:
          type: integer
          description: Maintenance Window duration in minutes
        createdBy:
          type: string
        tasks:
          type: array
          items:
            $ref: '#/components/schemas/TaskOpsDTO'
        dateCreated:
          type: string
          format: date-time
        dateModified:
          type: string
          format: date-time
    MaintenanceWindowDTO:
      type: object
      description: User view for Maintenance Window
      properties:
        id:
          type: string
          format: uuid
        entityId:
          type: string
          format: uuid
        entityType:
          $ref: 'common-specification.yaml#/components/schemas/entityType'
        type:
          $ref: '#/components/schemas/MaintenanceWindowType'
        status:
          $ref: '#/components/schemas/MaintenanceWindowStatus'
        triggerTime:
          type: string
          format: date-time
        executionInfo:
          $ref: '#/components/schemas/MaintenanceWindowExecutionInfo'
        duration:
          type: integer
          description: Maintenance Window duration in minutes
        createdBy:
          type: string
        tasks:
          type: array
          items:
            $ref: '#/components/schemas/TaskDTO'
        summary:
          $ref: '#/components/schemas/MaintenanceWindowSummary'
    MaintenanceWindowExecutionInfo:
      type: object
      description: Execution details for Maintenance Window
      properties:
        startTime:
          type: string
          format: date-time
        endTime:
          type: string
          format: date-time
    MaintenanceWindowSummary:
      type: object
      description: User view summary for Maintenance Window
      properties:
        queuedTaskCount:
          type: integer
        inProgressTaskCount:
          type: integer
        successTaskCount:
          type: integer
        failedTaskCount:
          type: integer
        mandatoryTaskCount:
          type: integer
    MaintenanceWindowType:
      type: string
      description: The type of maintenance window
      enum:
        - SYSTEM
        - CUSTOM
    MaintenanceWindowStatus:
      type: string
      description: The status of maintenance window
      enum:
        - QUEUED
        - CANCELLED
        - IN_PROGRESS
        - ABORTED
        - SKIPPED
        - SUCCESS
        - FAILED
        - DELETED
    TaskOpsDTO:
      type: object
      description: Ops view for Task
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        entityId:
          type: string
          format: uuid
        entityType:
          $ref: 'common-specification.yaml#/components/schemas/entityType'
        type:
          $ref: '#/components/schemas/TaskType'
        status:
          $ref: '#/components/schemas/TaskStatus'
        isMandatory:
          type: boolean
          default: true
        impact:
          type: string
        operation:
          $ref: '#/components/schemas/TaskOperation'
        payload:
          type: string
        triggerTime:
          type: string
          format: date-time
        startTime:
          type: string
          format: date-time
        endTime:
          type: string
          format: date-time
        maintenanceWindowId:
          type: string
          format: uuid
        overriddenBy:
          type: string
          format: uuid
        createdBy:
          type: string
        dateCreated:
          type: string
          format: date-time
        dateModified:
          type: string
          format: date-time
    TaskDTO:
      type: object
      description: User view for Task
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        entityId:
          type: string
          format: uuid
        entityType:
          $ref: 'common-specification.yaml#/components/schemas/entityType'
        type:
          $ref: '#/components/schemas/TaskType'
        status:
          $ref: '#/components/schemas/TaskStatus'
        isMandatory:
          type: boolean
          default: true
        impact:
          type: string
        operation:
          $ref: '#/components/schemas/TaskOperation'
        payload:
          type: string
        triggerTime:
          type: string
          format: date-time
        startTime:
          type: string
          format: date-time
        endTime:
          type: string
          format: date-time
        maintenanceWindowId:
          type: string
          format: uuid
        createdBy:
          type: string
    TaskType:
      type: string
      description: The type of Task
      enum:
        - MAINTENANCE_WINDOW_OP
    TaskOperation:
      type: string
      description: The operation that the Task corresponds to
      enum:
        - UPDATE_PARAM_PROFILE
    TaskStatus:
      type: string
      description: The status of Task
      enum:
        - QUEUED
        - CANCELLED
        - OVERRIDDEN
        - IN_PROGRESS
        - SUCCESS
        - FAILED
    MaintenanceWindowUpdateRequest:
      type: object
      description: Update of a specific Maintenance Window
      properties:
        status:
          $ref: '#/components/schemas/MaintenanceWindowStatus'
        triggerTime:
          type: string
          format: date-time
    MaintenanceWindowTaskApplyRequest:
      type: object
      description: Request to APPLY Maintenance Window Task
      properties:
        action:
          $ref: '#/components/schemas/MaintenanceWindowTaskApplyAction'
        taskId:
          type: string
          format: uuid
    MaintenanceWindowTaskApplyAction:
      type: string
      enum:
        - APPLY_NOW
        - APPLY_IN_NEXT_MAINTENANCE_WINDOW
    MaintenanceWindowTaskCancelRequest:
      type: object
      description: Request to cancel QUEUED Maintenance Window Task
      properties:
        taskIds:
          type: array
          items:
            type: string
            format: uuid
    MaintenanceWindowListResponse:
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: '#/components/schemas/MaintenanceWindowDTO'
    MaintenanceWindowOpsListResponse:
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: '#/components/schemas/MaintenanceWindowOpsDTO'
    MaintenanceWindowTriggerRequest:
      type: object
      properties:
        maintenanceWindowIds:
          type: array
          items:
            type: string
            format: uuid
    MaintenanceWindowWorkflowPayload:
      type: object
      properties:
        id:
          type: string
          format: uuid
        entityId:
          type: string
          format: uuid
        entityType:
          $ref: 'common-specification.yaml#/components/schemas/entityType'
        tasks:
          type: array
          items:
            $ref: '#/components/schemas/MaintenanceWindowWorkflowTask'
        snapshotPayload:
          type: object
    MaintenanceWindowWorkflowTask:
      type: object
      properties:
        id:
          type: string
          format: uuid
        entityId:
          type: string
          format: uuid
        entityType:
          $ref: 'common-specification.yaml#/components/schemas/entityType'
        operation:
          $ref: '#/components/schemas/TaskOperation'
        operationTemplate:
          type: string
        payload:
          type: object
        status:
          $ref: '#/components/schemas/TaskStatus'
  examples:
    ProvisionOracleSiDBService:
      summary: Provision Oracle Single Instance DB service
      value:
        name: finance-db
        description: Database for finance department
        subscription: default
        engineType: ORACLE
        topology: single_instance
        softwareImage: Oracle 12c
        softwareImageVersion: 12.1.0.2.0
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          vpc: default-vpc-1234
          computeType: m5.large
          additionalStorage: 0
          encryptionKey:
        serviceConnectivity:
          servicePort: '1521'
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
        creds:
          masterUser: master
          masterPassword: MyPassword@123
        maintenanceWindow:
          day: Sunday
          time: '02:00'
          duration: 30
        snapshotConfiguration:
          autoSnapshot: true
          sla: 2-days-pitr
          snapshotWindow:
            time: '01:00'
            duration: 30
        engineConfiguration:
          oracleConfig:
            multiTenant: false
            parameterProfile: Oracle Parameter Profile
            optionsProfile: Oracle 12.1.0.2.0 Options Profile
            characterSet: AL32UTF8
            nationalCharacterSet: AL16UTF16
        databases:
          - databaseName: orcl
        tags:
          - name: department
            value: finance
          - name: finance
            value: ''
    ProvisionOracleHaDBService:
      summary: Provision Oracle High Availability DB service
      value:
        name: finance-db-ha
        description: Database for finance department
        subscription: default
        engineType: ORACLE
        topology: high_availability
        numOfInstances: 3
        licenseType: byol
        softwareImage: Oracle 12c
        softwareImageVersion: 12.1.0.2.0
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          vpc: default-vpc-1234
          computeType: m5.large
          additionalStorage: 0
          encryptionKey: finance-db-encryption-key-with-salt
        serviceConnectivity:
          servicePort: '1521'
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
        creds:
          masterUser: master
          masterPassword: MyPassword@123
        maintenanceWindow:
          day: Sunday
          time: '02:00'
          duration: 30
        snapshotConfiguration:
          autoSnapshot: true
          sla: 2-days-pitr
          snapshotWindow:
            time: '01:00'
            duration: 30
        engineConfiguration:
          oracleConfig:
            multiTenant: false
            parameterProfile: Oracle Parameter Profile
            optionsProfile: Oracle 12.1.0.2.0 Options Profile
            characterSet: AL32UTF8
            nationalCharacterSet: AL16UTF16
        databases:
          - databaseName: orcl
        tags:
          - name: department
            value: finance
          - name: finance
            value: ''
    ProvisionPostgresSiDBService:
      summary: Provision Postgresql Single Instance DB service
      value:
        name: finance-db
        description: Database for finance department
        subscription: default
        engineType: POSTGRESQL
        topology: single_instance
        softwareImage: PostgreSQL 13
        softwareImageVersion: PostgreSQL 13.3
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          vpc: default-vpc-1234
          computeType: t2.small
          additionalStorage: 0
          encryptionKey: finance-db-encryption-key-with-salt
        serviceConnectivity:
          servicePort: '5432'
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
        creds:
          masterUser: master
          masterPassword: MyPassword@123
        maintenanceWindow:
          day: Sunday
          time: '02:00'
          duration: 30
        snapshotConfiguration:
          autoSnapshot: true
          sla: 2-days-pitr
          snapshotWindow:
            time: '01:00'
            duration: 30
        engineConfiguration:
          postgresqlConfig:
            parameterProfile: PostgreSQL 13 Profile
        databases:
          - databaseName: db1
            databaseConfiguration:
              postgresqlConfig:
                parameterProfile: PostgreSQL 13 Profile
        tags:
          - name: department
            value: finance
          - name: finance
            value: ''
    ProvisionPostgresHaDBService:
      summary: Provision Postgresql High Availability DB service
      value:
        name: finance-db-ha
        description: My Service description
        subscription: default
        engineType: POSTGRESQL
        topology: high_availability
        softwareImage: PostgreSQL 13
        softwareImageVersion: PostgreSQL 13.3
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          vpc: default-vpc-1234
          computeType: t2.small
          additionalStorage: 0
          encryptionKey:
        serviceConnectivity:
          servicePort: '5432'
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
        creds:
          masterUser: master
          masterPassword: MyPassword@123
        maintenanceWindow:
          day: Sunday
          time: '02:00'
          duration: 30
        snapshotConfiguration:
          autoSnapshot: true
          sla: 2-days-pitr
          snapshotWindow:
            time: '01:00'
            duration: 30
        engineConfiguration:
          postgresqlConfig:
            parameterProfile: PostgreSQL 13 Profile
        databases:
          - databaseName: db1
            databaseConfiguration:
              postgresqlConfig:
                parameterProfile: PostgreSQL 13 Profile
        tags:
          - name: department
            value: finance
          - name: finance
            value: ''
    ProvisionMySqlSiDBService:
      summary: Provision MySQL single instance DB service
      value:
        name: finance-db
        description: Database for finance department
        subscription: default
        engineType: MYSQL
        topology: single_instance
        softwareImage: MySQL 5.6
        softwareImageVersion: MySQL 5.6.51
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          vpc: default-vpc-1234
          computeType: t2.small
          additionalStorage: 0
          encryptionKey:
        serviceConnectivity:
          servicePort: '3306'
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
        creds:
          masterUser: master
          masterPassword: MyPassword@123
        maintenanceWindow:
          day: Sunday
          time: '02:00'
          duration: 30
        snapshotConfiguration:
          autoSnapshot: true
          sla: 2-days-pitr
          snapshotWindow:
            time: '01:00'
            duration: 30
        engineConfiguration:
          mysqlConfig:
            parameterProfile: MySQL 5.6 Default Profile
        databases:
          - databaseName: db1
            databaseConfiguration:
              mysqlConfig:
                parameterProfile: MySQL 5.6 Default Profile
        tags:
          - name: department
            value: finance
          - name: finance
            value: ''
    CloneOracleDBService:
      summary: Create a clone of a Oracle DB service
      value:
        name: finance-db-clone
        description: Clone of finance database for QA use
        subscription: default
        engineType: ORACLE
        topology: single_instance
        softwareImage: Oracle 12c
        softwareImageVersion: 12.1.0.2.0
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          vpc: default-vpc-1234
          computeType: m5.large
          additionalStorage: 0
        serviceConnectivity:
          servicePort: '1521'
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
        creds:
          masterUser: master
          masterPassword: MyPassword@123
        snapshotConfiguration:
          autoSnapshot: true
          sla: 2-days-pitr
          snapshotWindow:
            time: '01:00'
            duration: 30
        engineConfiguration:
          oracleConfig:
            parameterProfile: Oracle Parameter Profile
            optionsProfile: Oracle 12.1.0.2.0 Options Profile
            characterSet: AL32UTF8
            nationalCharacterSet: AL16UTF16
        databases:
          - sourceDatabaseId: 14107367-fbc3-4f3d-8cc3-b5a7e5910e08
            databaseName: orcl
            databaseConfiguration:
              oracleConfig:
                parameterProfile: Oracle Parameter Profile
                optionsProfile: Oracle 12.1.0.2.0 Options Profile
        tags:
          - name: department
            value: finance
          - name: finance-qa
            value: ''
        snapshotId: 4592803a-a8a3-4a5e-be4c-ddf1df654242
    ClonePostgresDBService:
      summary: Create a clone of a Postgresql DB service
      value:
        name: finance-db-clone
        description: Database clone of finance database
        subscription: default
        engineType: POSTGRESQL
        topology: single_instance
        softwareImage: PostgreSQL 13
        softwareImageVersion: PostgreSQL 13.3
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          vpc: default-vpc-1234
          computeType: t2.small
          additionalStorage: 0
        serviceConnectivity:
          servicePort: '5432'
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
        creds:
          masterUser: master
          masterPassword: MyPassword@123
        snapshotConfiguration:
          autoSnapshot: true
          sla: 2-days-pitr
          snapshotWindow:
            time: '01:00'
            duration: 30
        engineConfiguration:
          postgresqlConfig:
            parameterProfile: PostgreSQL 13 Profile
        databases:
          - sourceDatabaseId: ce811e1e-6284-4e53-a07c-05caa7a3733f
            databaseName: db1
            databaseConfiguration:
              postgresqlConfig:
                parameterProfile: PostgreSQL 13 Profile
        tags:
          - name: department
            value: finance
          - name: finance-qa
            value: ''
        snapshotId: 546a993c-1bec-423e-b0c0-217c6c084772
    CloneMySqlDBService:
      summary: Create a clone of a MySql DB service
      value:
        name: finance-db-clone
        description: Clone of finance database for QA use
        subscription: default
        engineType: MYSQL
        topology: single_instance
        softwareImage: MySQL 5.6
        softwareImageVersion: MySQL 5.6.51
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          vpc: default-vpc-1234
          computeType: t2.small
          additionalStorage: 0
        serviceConnectivity:
          servicePort: '3306'
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
        creds:
          masterUser: master
          masterPassword: MyPassword@123
        snapshotConfiguration:
          autoSnapshot: true
          sla: 2-days-pitr
          snapshotWindow:
            time: '01:00'
            duration: 30
        engineConfiguration:
          mysqlConfig:
            parameterProfile: MySQL 5.6 Default Profile
        databases:
          - sourceDatabaseId: e4b734eb-7141-455d-b36c-80d3ba98ceb2
            databaseName: db1
            databaseConfiguration:
              mysqlConfig:
                parameterProfile: MySQL 5.6 Default Profile
        tags:
          - name: department
            value: finance
          - name: finance-qa
            value: ''
        snapshotId: 3f8bb0b2-4dc2-4a07-98df-f610593f0bef
    OracleSiDBService:
      summary: Oracle Single Instance DB service
      value:
        id: 5a6f8b48-3b20-4e11-bdb0-870864cc8e34
        availabilityMachineId: 432bc899-b4b9-48db-a580-517f015188da
        name: finance-db
        description: Database for finance department
        engineType: ORACLE
        topology: single_instance
        numOfInstances: 1
        status: READY
        licenseType: byol
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        softwareImage: Oracle 12c
        softwareImageVersion: 12.1.0.2.0
        tenantId: admin@my-org.com
        subscription: default
        owner: myself@my-org.com
        loggedInUserRole: OWNER
        dateCreated: '2022-08-12T09:43:26.359+00:00'
        startedAt: '2022-08-12T09:43:26.359+00:00'
        stoppedAt:
        clonedFromInfo:
        serviceConnectivity:
          dnsPrefix:
          servicePort: 1521
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
          connectStrings:
            - type:
              connectDescriptor: master/<password>@sagarfinancedb-fnsrx.myorg.tessell.com:1521/orcl
              endpoint: sagarfinancedb-fnsrx.myorg.tessell.com
              masterUser: master
              servicePort: 1521
          privateLink:
            servicePrincipals: []
            endpointServiceName:
          updateInProgressInfo:
        tessellGenieStatus: disabled
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          cloudAvailability:
            - cloud: AWS
              regions:
                - region: ap-south-1
                  availabilityZones:
                    - ap-south-1a
          vpc: default-vpc-1234
          encryptionKey:
          computeType: m5.large
          additionalStorage: 0
        maintenanceWindow:
          day: Sunday
          time: '02:00'
          duration: 30
        engineConfiguration:
          oracleConfig:
            multiTenant: false
            parameterProfile: Oracle Parameter Profile
            optionsProfile: Oracle 12.1.0.2.0 Options Profile
            characterSet: AL32UTF8
            nationalCharacterSet: AL16UTF16
          postgresqlConfig:
          mysqlConfig:
          sqlServerConfig:
          apacheKafkaConfig:
          preScriptInfo:
          postScriptInfo:
        integrationsConfig:
          integrations: []
        deletionConfig:
          retainAvailabilityMachine: false
        tags:
          - name: department
            value: finance
          - name: finance
            value: ''
        instances:
          - id: e298e95d-2f46-4c36-9f12-a40fcd744d91
            name: Sagar finance-db-0
            role: primary
            status: UP
            tessellServiceId: 5a6f8b48-3b20-4e11-bdb0-870864cc8e34
            encryptionKey:
            computeType: m5.large
            cloud: aws
            region: ap-south-1
            availabilityZone: ap-south-1a
            dateCreated: '2022-08-12T09:43:26.069+00:00'
            connectString:
              connectDescriptor: master/<password>@sagarfinancedb-fnsrx.myorg.tessell.com:1521/orcl
              masterUser: master
              endpoint: sagarfinancedb-fnsrx.myorg.tessell.com
              servicePort: '1521'
            updatesInProgress: []
        databases:
          - id: 14107367-fbc3-4f3d-8cc3-b5a7e5910e08
            databaseName: orcl
            description:
            tessellServiceId: 5a6f8b48-3b20-4e11-bdb0-870864cc8e34
            engineType: ORACLE
            status: READY
            dateCreated: '2022-08-12T09:23:00.034+00:00'
            clonedFromInfo:
            databaseConfiguration:
              oracleConfig:
                parameterProfile: Oracle Parameter Profile
                optionsProfile: Oracle 12.1.0.2.0 Options Profile
              postgresqlConfig:
              mySqlConfig:
              sqlServerConfig:
        sharedWith:
          users:
            - emailId: user1@my-org.com
              role: CO_OWNER
            - emailId: user2@my-org.com
              role: READ_ONLY
    OracleHaDBService:
      summary: Oracle Hight Availability DB service
      value:
        id: 7ab66c70-6f92-42f0-a984-049265c252d2
        availabilityMachineId: 69e21bc3-df80-4c52-828e-decadff4fa56
        name: finance-db-ha
        description: Database for finance department
        engineType: ORACLE
        topology: high_availability
        numOfInstances: 1
        status: READY
        licenseType: byol
        autoMinorVersionUpdate: true
        enableDeletionProtection: true
        enableStopProtection: false
        softwareImage: Oracle 12.2
        softwareImageVersion: 12.2.0.1.220118
        tenantId: admin@my-org.com
        subscription: default
        owner: myself@my-org.com
        loggedInUserRole: OWNER
        dateCreated: '2022-08-11T14:20:06.227+00:00'
        startedAt: '2022-08-11T14:20:06.227+00:00'
        stoppedAt:
        clonedFromInfo:
        serviceConnectivity:
          dnsPrefix:
          servicePort: 5432
          enablePublicAccess: true
          allowedIpAddresses:
            - 3.108.250.12/32
          connectStrings:
            - type:
              connectDescriptor: qauser/<password>@finance-db-ha-jmyyf.myorg.tessell.com:5432/qatestdb
              endpoint: finance-db-ha-jmyyf.myorg.tessell.com
              masterUser: qauser
              servicePort: 5432
          privateLink:
            servicePrincipals: []
            endpointServiceName:
          updateInProgressInfo:
        tessellGenieStatus: disabled
        infrastructure:
          cloud: aws
          region: us-east-1
          availabilityZone: us-east-1a
          cloudAvailability:
            - cloud: AWS
              regions:
                - region: us-east-1
                  availabilityZones:
                    - us-east-1a
                    - us-east-1b
          vpc: default-vpc-1234
          encryptionKey:
          computeType: t2.medium
          additionalStorage: 0
        maintenanceWindow:
          day: Sunday
          time: '02:00'
          duration: 30
        engineConfiguration:
          oracleConfig:
            multiTenant: false
            parameterProfile: Oracle 12.2
            optionsProfile: Oracle 12.2 Options Profile
            characterSet: AL32UTF8
            nationalCharacterSet: AL16UTF16
          postgresqlConfig:
          mysqlConfig:
          sqlServerConfig:
          apacheKafkaConfig:
          preScriptInfo:
          postScriptInfo:
        integrationsConfig:
          integrations: []
        deletionConfig:
          retainAvailabilityMachine: false
        tags:
          - name: department
            value: Finance
          - name: finance
            value: ''
        instances:
          - id: 6fa8346e-f07d-48f3-a19a-61258b1a4df6
            name: oH29-INU-0
            role: primary
            status: UP
            tessellServiceId: 7ab66c70-6f92-42f0-a984-049265c252d2
            encryptionKey:
            computeType: t2.medium
            cloud: aws
            region: us-east-1
            availabilityZone: us-east-1a
            dateCreated: '2022-08-11T14:20:05.842+00:00'
            connectString:
              connectDescriptor: qauser/<password>@finance-db-ha-lapns.myorg.tessell.com:5432/qatestdb
              masterUser: qauser
              endpoint: finance-db-ha-lapns.myorg.tessell.com
              servicePort: '5432'
            updatesInProgress: []
          - id: 9990d063-4e01-4aab-bb26-af7e96fd9590
            name: oH29-INU-1
            role: failover_replica
            status: UP
            tessellServiceId: 7ab66c70-6f92-42f0-a984-049265c252d2
            encryptionKey:
            computeType: t2.medium
            cloud: aws
            region: us-east-1
            availabilityZone: us-east-1b
            dateCreated: '2022-08-11T14:20:43.911+00:00'
            connectString:
              connectDescriptor: qauser/<password>@finance-db-ha-rypzj.myorg.tessell.com:5432/qatestdb
              masterUser: qauser
              endpoint: finance-db-ha-rypzj.myorg.tessell.com
              servicePort: '5432'
            updatesInProgress: []
        databases:
          - id: 6ca375ef-0514-43df-bee6-9167d0c49a9a
            databaseName: qatestdb
            description:
            tessellServiceId: 7ab66c70-6f92-42f0-a984-049265c252d2
            engineType: ORACLE
            status: READY
            dateCreated: '2022-08-11T13:35:29.272+00:00'
            clonedFromInfo:
            databaseConfiguration:
              oracleConfig:
                parameterProfile: Oracle 12.2
                optionsProfile: Oracle 12.2 Options Profile
              postgresqlConfig:
              mySqlConfig:
              sqlServerConfig:
        sharedWith:
          users:
            - emailId: user1@my-org.com
              role: CO_OWNER
            - emailId: user2@my-org.com
              role: READ_ONLY
    PostgresqlSiDBService:
      summary: Postgresql Single Instance DB service
      value:
        id: 65fed0c0-8dcc-42e1-8b9f-233518951a2d
        availabilityMachineId: e7500a21-c930-45df-a8ed-250e620ff583
        name: finance-db
        description: Database for finance department
        engineType: POSTGRESQL
        topology: single_instance
        numOfInstances: 1
        status: READY
        licenseType: gpl
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        softwareImage: PostgreSQL 13
        softwareImageVersion: PostgreSQL 13.3
        tenantId: admin@my-org.com
        subscription: default
        owner: myself@my-org.com
        loggedInUserRole: OWNER
        dateCreated: '2022-08-12T09:39:18.843+00:00'
        startedAt: '2022-08-12T09:39:18.843+00:00'
        stoppedAt:
        clonedFromInfo:
        serviceConnectivity:
          dnsPrefix:
          servicePort: 5432
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
          connectStrings:
            - type:
              connectDescriptor: postgresql://master:<password>@financedbpgsi-vcjib.myorg.tessell.com:5432/<database_name>
              endpoint: financedbpgsi-vcjib.myorg.tessell.com
              masterUser: master
              servicePort: 5432
          privateLink:
            servicePrincipals: []
            endpointServiceName:
          updateInProgressInfo:
        tessellGenieStatus: disabled
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          cloudAvailability:
            - cloud: AWS
              regions:
                - region: ap-south-1
                  availabilityZones:
                    - ap-south-1a
          vpc: default-vpc-1234
          encryptionKey:
          computeType: t2.small
          additionalStorage: 0
        maintenanceWindow:
          day: Sunday
          time: '02:00'
          duration: 30
        engineConfiguration:
          oracleConfig:
          postgresqlConfig:
            parameterProfile: PostgreSQL 13 Profile
          mysqlConfig:
          sqlServerConfig:
          apacheKafkaConfig:
          preScriptInfo:
          postScriptInfo:
        integrationsConfig:
          integrations: []
        deletionConfig:
          retainAvailabilityMachine: false
        tags:
          - name: department
            value: finance
          - name: finance
            value: ''
        instances:
          - id: 8d03b497-bed0-44c6-8d20-2b662e6e3fc6
            name: finance-db-0
            role: primary
            status: UP
            tessellServiceId: 65fed0c0-8dcc-42e1-8b9f-233518951a2d
            encryptionKey:
            computeType: t2.small
            cloud: aws
            region: ap-south-1
            availabilityZone: ap-south-1a
            dateCreated: '2022-08-12T09:39:18.529+00:00'
            connectString:
              connectDescriptor: postgresql://master:<password>@financedbpgsi-vcjib.myorg.tessell.com:5432/<database_name>
              masterUser: master
              endpoint: financedbpgsi-vcjib.myorg.tessell.com
              servicePort: '5432'
            updatesInProgress: []
        databases:
          - id: ce811e1e-6284-4e53-a07c-05caa7a3733f
            databaseName: db1
            description:
            tessellServiceId: 65fed0c0-8dcc-42e1-8b9f-233518951a2d
            engineType: POSTGRESQL
            status: READY
            dateCreated: '2022-08-12T09:28:08.462+00:00'
            clonedFromInfo:
            databaseConfiguration:
              oracleConfig:
              postgresqlConfig:
                parameterProfile: PostgreSQL 13 Profile
              mySqlConfig:
              sqlServerConfig:
        sharedWith:
          users:
            - emailId: user1@my-org.com
              role: CO_OWNER
            - emailId: user2@my-org.com
              role: READ_ONLY
    PostgresqlHaDBService:
      summary: Postgresql Hight Availability DB service
      value:
        id: 3443d558-8ab7-4f98-a32f-0004d3fd82e5
        availabilityMachineId: e459cb31-245e-4017-9506-aafb69dae4e4
        name: finance-db-ha
        description: My Service description
        engineType: POSTGRESQL
        topology: high_availability
        numOfInstances: 1
        status: READY
        licenseType: gpl
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        softwareImage: PostgreSQL 13
        softwareImageVersion: PostgreSQL 13.3
        tenantId: admin@my-org.com
        subscription: default
        owner: myself@my-org.com
        loggedInUserRole: OWNER
        dateCreated: '2022-08-12T09:41:22.512+00:00'
        startedAt: '2022-08-12T09:41:22.512+00:00'
        stoppedAt:
        clonedFromInfo:
        serviceConnectivity:
          dnsPrefix:
          servicePort: 5432
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
          connectStrings:
            - type:
              connectDescriptor: postgresql://master:<password>@financedbpgha-kmpng.myorg.tessell.com:5432/<database_name>
              endpoint: financedbpgha-kmpng.myorg.tessell.com
              masterUser: master
              servicePort: 5432
          privateLink:
            servicePrincipals: []
            endpointServiceName:
          updateInProgressInfo:
        tessellGenieStatus: disabled
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          cloudAvailability:
            - cloud: AWS
              regions:
                - region: ap-south-1
                  availabilityZones:
                    - ap-south-1b
                    - ap-south-1a
          vpc: default-vpc-1234
          encryptionKey:
          computeType: t2.small
          additionalStorage: 0
        maintenanceWindow:
          day: Sunday
          time: '02:00'
          duration: 30
        engineConfiguration:
          oracleConfig:
          postgresqlConfig:
            parameterProfile: PostgreSQL 13 Profile
          mysqlConfig:
          sqlServerConfig:
          apacheKafkaConfig:
          preScriptInfo:
          postScriptInfo:
        integrationsConfig:
          integrations: []
        deletionConfig:
          retainAvailabilityMachine: false
        tags:
          - name: department
            value: finance
          - name: finance
            value: ''
        instances:
          - id: 4b795404-52c1-481a-93fd-443d526b23f6
            name: finance-db-ha-0
            role: primary
            status: UP
            tessellServiceId: 3443d558-8ab7-4f98-a32f-0004d3fd82e5
            encryptionKey:
            computeType: t2.small
            cloud: aws
            region: ap-south-1
            availabilityZone: ap-south-1a
            dateCreated: '2022-08-12T09:41:22.205+00:00'
            connectString:
              connectDescriptor: postgresql://master:<password>@financedbpgha-ptebp.myorg.tessell.com:5432/<database_name>
              masterUser: master
              endpoint: financedbpgha-ptebp.myorg.tessell.com
              servicePort: '5432'
            updatesInProgress: []
          - id: c42465df-41fc-4c1d-a50b-96b3851af942
            name: finance-db-ha-1
            role: failover_replica
            status: UP
            tessellServiceId: 3443d558-8ab7-4f98-a32f-0004d3fd82e5
            encryptionKey:
            computeType: t2.small
            cloud: aws
            region: ap-south-1
            availabilityZone: ap-south-1b
            dateCreated: '2022-08-12T09:41:26.139+00:00'
            connectString:
              connectDescriptor: postgresql://master:<password>@financedbpgha-jjynr.myorg.tessell.com:5432/<database_name>
              masterUser: master
              endpoint: financedbpgha-jjynr.myorg.tessell.com
              servicePort: '5432'
            updatesInProgress: []
        databases:
          - id: 7e47d00c-ca53-4209-ae76-88821b774ec2
            databaseName: db1
            description:
            tessellServiceId: 3443d558-8ab7-4f98-a32f-0004d3fd82e5
            engineType: POSTGRESQL
            status: READY
            dateCreated: '2022-08-12T09:29:11.850+00:00'
            clonedFromInfo:
            databaseConfiguration:
              oracleConfig:
              postgresqlConfig:
                parameterProfile: PostgreSQL 13 Profile
              mySqlConfig:
              sqlServerConfig:
        sharedWith:
          users:
            - emailId: user1@my-org.com
              role: CO_OWNER
            - emailId: user2@my-org.com
              role: READ_ONLY
    MySqlSiDBService:
      summary: MySQL Single Instance DB service
      value:
        id: 4b705c41-5222-46d0-84de-cf805456afbd
        availabilityMachineId: bd23bc2f-38e1-42d4-bd9e-f5dae62eeb85
        name: finance-db
        description: Database for finance department
        engineType: MYSQL
        topology: single_instance
        numOfInstances: 1
        status: READY
        licenseType: gpl
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        softwareImage: MySQL 5.6
        softwareImageVersion: MySQL 5.6.51
        tenantId: admin@my-org.com
        subscription: default
        owner: myself@my-org.com
        loggedInUserRole: OWNER
        dateCreated: '2022-08-12T09:47:50.053+00:00'
        startedAt: '2022-08-12T09:47:50.053+00:00'
        stoppedAt:
        clonedFromInfo:
        serviceConnectivity:
          dnsPrefix:
          servicePort: 3306
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
          connectStrings:
            - type:
              connectDescriptor: mysql.connector.connect(user="master", password="<password>",host="financedbmysqlsi-vcgly.myorg.tessell.com", port="3306", database="<database_name>", ssl_disabled=True)
              endpoint: financedbmysqlsi-vcgly.myorg.tessell.com
              masterUser: master
              servicePort: 3306
          privateLink:
            servicePrincipals: []
            endpointServiceName:
          updateInProgressInfo:
        tessellGenieStatus: disabled
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          cloudAvailability:
            - cloud: AWS
              regions:
                - region: ap-south-1
                  availabilityZones:
                    - ap-south-1a
          vpc: default-vpc-1234
          encryptionKey:
          computeType: t2.small
          additionalStorage: 0
        maintenanceWindow:
          day: Sunday
          time: '02:00'
          duration: 30
        engineConfiguration:
          oracleConfig:
          postgresqlConfig:
          mysqlConfig:
            parameterProfile: MySQL 5.6 Default Profile
          sqlServerConfig:
          apacheKafkaConfig:
          preScriptInfo:
          postScriptInfo:
        integrationsConfig:
          integrations: []
        deletionConfig:
          retainAvailabilityMachine: false
        tags:
          - name: department
            value: finance
          - name: finance
            value: ''
        instances:
          - id: 5e2c6ce6-15e1-4aa5-8941-3e73dee1413a
            name: finance-db-0
            role: primary
            status: UP
            tessellServiceId: 4b705c41-5222-46d0-84de-cf805456afbd
            encryptionKey:
            computeType: t2.small
            cloud: aws
            region: ap-south-1
            availabilityZone: ap-south-1a
            dateCreated: '2022-08-12T09:47:49.746+00:00'
            connectString:
              connectDescriptor: mysql.connector.connect(user="master", password="<password>",host="financedbmysqlsi-vcgly.myorg.tessell.com", port="3306", database="<database_name>", ssl_disabled=True)
              masterUser: master
              endpoint: financedbmysqlsi-vcgly.myorg.tessell.com
              servicePort: '3306'
            updatesInProgress: []
        databases:
          - id: e4b734eb-7141-455d-b36c-80d3ba98ceb2
            databaseName: db1
            description:
            tessellServiceId: 4b705c41-5222-46d0-84de-cf805456afbd
            engineType: MYSQL
            status: READY
            dateCreated: '2022-08-12T09:36:46.075+00:00'
            clonedFromInfo:
            databaseConfiguration:
              oracleConfig:
              postgresqlConfig:
              mySqlConfig:
                parameterProfile: MySQL 5.6 Default Profile
              sqlServerConfig:
        sharedWith:
          users:
            - emailId: user1@my-org.com
              role: CO_OWNER
            - emailId: user2@my-org.com
              role: READ_ONLY
    OracleClonedDBService:
      summary: Clone of Oracle DB service
      value:
        id: 149624f4-eb10-4fa7-ac94-8df3bcb688ff
        availabilityMachineId: 01fc2ea6-8be0-48be-9d87-d10d49f3919b
        name: finance-db-clone
        description: Clone of finance database for QA use
        engineType: ORACLE
        topology: single_instance
        numOfInstances: 1
        status: READY
        licenseType: byol
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        softwareImage: Oracle 12c
        softwareImageVersion: 12.1.0.2.0
        tenantId: admin@my-org.com
        subscription: default
        owner: myself@my-org.com
        loggedInUserRole: OWNER
        dateCreated: '2022-08-12T10:06:41.354+00:00'
        startedAt: '2022-08-12T10:06:41.354+00:00'
        stoppedAt:
        clonedFromInfo:
          tessellServiceId: 5a6f8b48-3b20-4e11-bdb0-870864cc8e34
          availabilityMachineId: 432bc899-b4b9-48db-a580-517f015188da
          tessellService: Sagar finance-db
          availabilityMachine: Sagar finance-db
          snapshotName: Auto Initial Snapshot
          snapshotId: 4592803a-a8a3-4a5e-be4c-ddf1df654242
          pitrTime:
        serviceConnectivity:
          dnsPrefix:
          servicePort: 1521
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
          connectStrings:
            - type:
              connectDescriptor: master/<password>@financedborclclone-vammz.myorg.tessell.com:1521/orcl
              endpoint: financedborclclone-vammz.myorg.tessell.com
              masterUser: master
              servicePort: 1521
          privateLink:
            servicePrincipals: []
            endpointServiceName:
          updateInProgressInfo:
        tessellGenieStatus: disabled
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          cloudAvailability:
            - cloud: AWS
              regions:
                - region: ap-south-1
                  availabilityZones:
                    - ap-south-1a
          vpc: default-vpc-1234
          encryptionKey:
          computeType: m5.large
          additionalStorage: 0
        maintenanceWindow:
          day: Saturday
          time: '22:00'
          duration: 240
        engineConfiguration:
          oracleConfig:
            multiTenant: false
            parameterProfile: Oracle Parameter Profile
            optionsProfile: Oracle 12.1.0.2.0 Options Profile
            characterSet: AL32UTF8
            nationalCharacterSet: AL16UTF16
          postgresqlConfig:
          mysqlConfig:
          sqlServerConfig:
          apacheKafkaConfig:
          preScriptInfo:
          postScriptInfo:
        integrationsConfig:
          integrations: []
        deletionConfig:
          retainAvailabilityMachine: false
        tags:
          - name: department
            value: finance
          - name: finance-qa
            value: ''
        instances:
          - id: e36f55c5-faa6-4c7b-a796-36e4eeb624cd
            name: finance-db-clone-0
            role: primary
            status: UP
            tessellServiceId: 149624f4-eb10-4fa7-ac94-8df3bcb688ff
            encryptionKey:
            computeType: m5.large
            cloud: aws
            region: ap-south-1
            availabilityZone: ap-south-1a
            dateCreated: '2022-08-12T10:06:41.044+00:00'
            connectString:
              connectDescriptor: master/<password>@financedborclclone-vammz.myorg.tessell.com:1521/orcl
              masterUser: master
              endpoint: financedborclclone-vammz.myorg.tessell.com
              servicePort: '1521'
            updatesInProgress: []
        databases:
          - id: 4cda9401-4a3c-4be7-8172-4c375f4fd4d1
            databaseName: orcl
            description:
            tessellServiceId: 149624f4-eb10-4fa7-ac94-8df3bcb688ff
            engineType: ORACLE
            status: READY
            dateCreated: '2022-08-12T09:55:01.042+00:00'
            clonedFromInfo:
            databaseConfiguration:
              oracleConfig:
                parameterProfile: Oracle Parameter Profile
                optionsProfile: Oracle 12.1.0.2.0 Options Profile
              postgresqlConfig:
              mySqlConfig:
              sqlServerConfig:
        sharedWith:
          users: []
    PostgresqlClonedDBService:
      summary: Clone of Postgresql DB service
      value:
        id: 38fb1e41-5c25-4e39-8017-d210bba2969d
        availabilityMachineId: 266e056a-41dc-43fd-b9f9-fe891ffdf729
        name: finance-db-clone
        description: Database clone of finance database
        engineType: POSTGRESQL
        topology: single_instance
        numOfInstances: 1
        status: READY
        licenseType: gpl
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        softwareImage: PostgreSQL 13
        softwareImageVersion: PostgreSQL 13.3
        tenantId: admin@my-org.com
        subscription: default
        owner: myself@my-org.com
        loggedInUserRole: OWNER
        dateCreated: '2022-08-12T09:56:45.487+00:00'
        startedAt: '2022-08-12T09:56:45.487+00:00'
        stoppedAt:
        clonedFromInfo:
          tessellServiceId: 65fed0c0-8dcc-42e1-8b9f-233518951a2d
          availabilityMachineId: e7500a21-c930-45df-a8ed-250e620ff583
          tessellService: finance-db
          availabilityMachine: finance-db
          snapshotName: Auto Initial Snapshot
          snapshotId: 546a993c-1bec-423e-b0c0-217c6c084772
          pitrTime:
        serviceConnectivity:
          dnsPrefix:
          servicePort: 5432
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
          connectStrings:
            - type:
              connectDescriptor: postgresql://master:<password>@financedbpgsiclone-wgrbw.myorg.tessell.com:5432/<database_name>
              endpoint: financedbpgsiclone-wgrbw.myorg.tessell.com
              masterUser: master
              servicePort: 5432
          privateLink:
            servicePrincipals: []
            endpointServiceName:
          updateInProgressInfo:
        tessellGenieStatus: disabled
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          cloudAvailability:
            - cloud: AWS
              regions:
                - region: ap-south-1
                  availabilityZones:
                    - ap-south-1a
          vpc: default-vpc-1234
          encryptionKey:
          computeType: t2.small
          additionalStorage: 0
        maintenanceWindow:
          day: Saturday
          time: '22:00'
          duration: 240
        engineConfiguration:
          oracleConfig:
          postgresqlConfig:
            parameterProfile: PostgreSQL 13 Profile
          mysqlConfig:
          sqlServerConfig:
          apacheKafkaConfig:
          preScriptInfo:
          postScriptInfo:
        integrationsConfig:
          integrations: []
        deletionConfig:
          retainAvailabilityMachine: false
        tags:
          - name: department
            value: finance
          - name: finance-qa
            value: ''
        instances:
          - id: 666838bf-2907-4168-804e-ea22c7a38e6d
            name: finance-db-clone-0
            role: primary
            status: UP
            tessellServiceId: 38fb1e41-5c25-4e39-8017-d210bba2969d
            encryptionKey:
            computeType: t2.small
            cloud: aws
            region: ap-south-1
            availabilityZone: ap-south-1a
            dateCreated: '2022-08-12T09:56:45.169+00:00'
            connectString:
              connectDescriptor: postgresql://master:<password>@financedbpgsiclone-wgrbw.myorg.tessell.com:5432/<database_name>
              masterUser: master
              endpoint: financedbpgsiclone-wgrbw.myorg.tessell.com
              servicePort: '5432'
            updatesInProgress: []
        databases:
          - id: b98b7bbb-4ecd-4afc-86fb-ca65f65c4f5d
            databaseName: db1
            description:
            tessellServiceId: 38fb1e41-5c25-4e39-8017-d210bba2969d
            engineType: POSTGRESQL
            status: READY
            dateCreated: '2022-08-12T09:46:40.222+00:00'
            clonedFromInfo:
            databaseConfiguration:
              oracleConfig:
              postgresqlConfig:
                parameterProfile: PostgreSQL 13 Profile
              mySqlConfig:
              sqlServerConfig:
        sharedWith:
          users: []
    MySqlClonedDBService:
      summary: Clone of MySQL DB service
      value:
        id: 4f32e10c-9d61-4a7c-a19d-ca121a2a0cf1
        availabilityMachineId: bc088863-12db-4ba4-b98f-f79a1da13455
        name: finance-db-clone
        description: Clone of finance database for QA use
        engineType: MYSQL
        topology: single_instance
        numOfInstances: 1
        status: READY
        licenseType: gpl
        autoMinorVersionUpdate: true
        enableDeletionProtection: false
        enableStopProtection: false
        softwareImage: MySQL 5.6
        softwareImageVersion: MySQL 5.6.51
        tenantId: admin@my-org.com
        subscription: default
        owner: myself@my-org.com
        loggedInUserRole: OWNER
        dateCreated: '2022-08-12T10:03:50.578+00:00'
        startedAt: '2022-08-12T10:03:50.578+00:00'
        stoppedAt:
        clonedFromInfo:
          tessellServiceId: 4b705c41-5222-46d0-84de-cf805456afbd
          availabilityMachineId: bd23bc2f-38e1-42d4-bd9e-f5dae62eeb85
          tessellService: finance-db
          availabilityMachine: finance-db
          snapshotName: Auto Initial Snapshot
          snapshotId: 3f8bb0b2-4dc2-4a07-98df-f610593f0bef
          pitrTime:
        serviceConnectivity:
          dnsPrefix:
          servicePort: 3306
          enablePublicAccess: true
          allowedIpAddresses:
            - 11.22.33.44
          connectStrings:
            - type:
              connectDescriptor: mysql.connector.connect(user="master", password="<password>",host="financedbmysqlsiclone-mbszn.myorg.tessell.com", port="3306", database="<database_name>", ssl_disabled=True)
              endpoint: financedbmysqlsiclone-mbszn.myorg.tessell.com
              masterUser: master
              servicePort: 3306
          privateLink:
            servicePrincipals: []
            endpointServiceName:
          updateInProgressInfo:
        tessellGenieStatus: disabled
        infrastructure:
          cloud: aws
          region: ap-south-1
          availabilityZone: ap-south-1a
          cloudAvailability:
            - cloud: AWS
              regions:
                - region: ap-south-1
                  availabilityZones:
                    - ap-south-1a
          vpc: default-vpc-1234
          encryptionKey:
          computeType: t2.small
          additionalStorage: 0
        maintenanceWindow:
          day: Saturday
          time: '22:00'
          duration: 240
        engineConfiguration:
          oracleConfig:
          postgresqlConfig:
          mysqlConfig:
            parameterProfile: MySQL 5.6 Default Profile
          sqlServerConfig:
          apacheKafkaConfig:
          preScriptInfo:
          postScriptInfo:
        integrationsConfig:
          integrations: []
        deletionConfig:
          retainAvailabilityMachine: false
        tags:
          - name: department
            value: finance
          - name: finance-qa
            value: ''
        instances:
          - id: 88986586-8678-43d2-a046-dd4bea890292
            name: finance-db-clone-0
            role: primary
            status: UP
            tessellServiceId: 4f32e10c-9d61-4a7c-a19d-ca121a2a0cf1
            encryptionKey:
            computeType: t2.small
            cloud: aws
            region: ap-south-1
            availabilityZone: ap-south-1a
            dateCreated: '2022-08-12T10:03:50.291+00:00'
            connectString:
              connectDescriptor: mysql.connector.connect(user="master", password="<password>",host="financedbmysqlsiclone-mbszn.myorg.tessell.com", port="3306", database="<database_name>", ssl_disabled=True)
              masterUser: master
              endpoint: financedbmysqlsiclone-mbszn.myorg.tessell.com
              servicePort: '3306'
            updatesInProgress: []
        databases:
          - id: '0029c728-1c0b-4390-9d49-8cae509fa552'
            databaseName: db1
            description:
            tessellServiceId: 4f32e10c-9d61-4a7c-a19d-ca121a2a0cf1
            engineType: MYSQL
            status: READY
            dateCreated: '2022-08-12T09:53:34.437+00:00'
            clonedFromInfo:
            databaseConfiguration:
              oracleConfig:
              postgresqlConfig:
              mySqlConfig:
                parameterProfile: MySQL 5.6 Default Profile
              sqlServerConfig:
        sharedWith:
          users: []
    GetDbServices:
      summary: Get DB Services
      value:
        metadata:
          timeZone: UTC
          records: 1
          pagination:
            pageSize: 100
            pageOffset: 0
        response:
          - id: 65fed0c0-8dcc-42e1-8b9f-233518951a2d
            availabilityMachineId: e7500a21-c930-45df-a8ed-250e620ff583
            name: finance-db
            description: Database for finance department
            engineType: POSTGRESQL
            topology: single_instance
            numOfInstances: 1
            status: READY
            licenseType: gpl
            autoMinorVersionUpdate: true
            enableDeletionProtection: false
            enableStopProtection: false
            softwareImage: PostgreSQL 13
            softwareImageVersion: PostgreSQL 13.3
            tenantId: admin@my-org.com
            subscription: default
            owner: myself@my-org.com
            loggedInUserRole: OWNER
            dateCreated: '2022-08-12T09:39:18.843+00:00'
            startedAt: '2022-08-12T09:39:18.843+00:00'
            stoppedAt:
            clonedFromInfo:
            serviceConnectivity:
              dnsPrefix:
              servicePort: 5432
              enablePublicAccess: true
              allowedIpAddresses:
                - 11.22.33.44
              connectStrings:
                - type:
                  connectDescriptor: postgresql://master:<password>@financedbpgsi-vcjib.myorg.tessell.com:5432/<database_name>
                  endpoint: financedbpgsi-vcjib.myorg.tessell.com
                  masterUser: master
                  servicePort: 5432
              privateLink:
                servicePrincipals: []
                endpointServiceName:
              updateInProgressInfo:
            tessellGenieStatus: disabled
            infrastructure:
              cloud: aws
              region: ap-south-1
              availabilityZone: ap-south-1a
              cloudAvailability:
                - cloud: AWS
                  regions:
                    - region: ap-south-1
                      availabilityZones:
                        - ap-south-1a
              vpc: default-vpc-1234
              encryptionKey:
              computeType: t2.small
              additionalStorage: 0
            maintenanceWindow:
              day: Sunday
              time: '02:00'
              duration: 30
            engineConfiguration:
              oracleConfig:
              postgresqlConfig:
                parameterProfile: PostgreSQL 13 Profile
              mysqlConfig:
              sqlServerConfig:
              apacheKafkaConfig:
              preScriptInfo:
              postScriptInfo:
            integrationsConfig:
              integrations: []
            deletionConfig:
              retainAvailabilityMachine: false
            tags:
              - name: department
                value: finance
              - name: finance
                value: ''
            instances:
              - id: 8d03b497-bed0-44c6-8d20-2b662e6e3fc6
                name: finance-db-0
                role: primary
                status: UP
                tessellServiceId: 65fed0c0-8dcc-42e1-8b9f-233518951a2d
                encryptionKey:
                computeType: t2.small
                cloud: aws
                region: ap-south-1
                availabilityZone: ap-south-1a
                dateCreated: '2022-08-12T09:39:18.529+00:00'
                connectString:
                  connectDescriptor: postgresql://master:<password>@financedbpgsi-vcjib.myorg.tessell.com:5432/<database_name>
                  masterUser: master
                  endpoint: financedbpgsi-vcjib.myorg.tessell.com
                  servicePort: '5432'
                updatesInProgress: []
            databases:
              - id: ce811e1e-6284-4e53-a07c-05caa7a3733f
                databaseName: db1
                description:
                tessellServiceId: 65fed0c0-8dcc-42e1-8b9f-233518951a2d
                engineType: POSTGRESQL
                status: READY
                dateCreated: '2022-08-12T09:28:08.462+00:00'
                clonedFromInfo:
                databaseConfiguration:
                  oracleConfig:
                  postgresqlConfig:
                    parameterProfile: PostgreSQL 13 Profile
                  mySqlConfig:
                  sqlServerConfig:
            sharedWith:
    ProvisionDbServiceSummary:
      summary: Summary for DB Service provisioning request
      value:
        taskId: 645ad85f-9d2d-43b6-8f8b-24c7aea7e004
        taskType: provision_tessell_service
        resourceId: e8421f9e-d7b1-4904-bd22-65c7f9e704d3
        details:
          action: Provision DB Service
          serviceName: finance-db
          tessellServiceId: e8421f9e-d7b1-4904-bd22-65c7f9e704d3
    CloneDbServiceSummary:
      summary: Summary for DB Service provisioning request
      value:
        taskId: aec026a3-46d7-46fd-bc74-7ed4271f5eef
        taskType: provision_tessell_service
        resourceId: 4b854985-1cef-400f-8231-fa70c38c8147
        details:
          action: Clone DB Service
          serviceName: finance-db-clone
          tessellServiceId: 4b854985-1cef-400f-8231-fa70c38c8147
    DeleteDbServiceSummary:
      summary: Summary for delete DB Service request
      value:
        taskId: f696361a-af9f-427a-89d8-e14ce70d79eb
        taskType: delete_tessell_service
        resourceId: 5a6f8b48-3b20-4e11-bdb0-870864cc8e34
        details:
          action: delete_tessell_service
          serviceName: finance-db
          serviceId: 5a6f8b48-3b20-4e11-bdb0-870864cc8e34
    StartDbServiceSummary:
      summary: Summary for DB Service start request
      value:
        taskId: ae101e0a-0ca3-4644-8621-0d761aa25e3a
        taskType: start_tessell_service
        resourceId: 65fed0c0-8dcc-42e1-8b9f-233518951a2d
        details:
          action: start_tessell_service
          serviceName: finance-db
          serviceId: 65fed0c0-8dcc-42e1-8b9f-233518951a2d
    StopDbServiceSummary:
      summary: Summary for DB Service stop request
      value:
        taskId: ae101e0a-0ca3-4644-8621-0d761aa25e3a
        taskType: stop_tessell_service
        resourceId: 65fed0c0-8dcc-42e1-8b9f-233518951a2d
        details:
          action: stop_tessell_service
          serviceName: finance-db
          serviceId: 65fed0c0-8dcc-42e1-8b9f-233518951a2d
  parameters:
    service-id:
      name: service-id
      in: path
      required: true
      style: simple
      schema:
        type: string
        format: uuid
    id:
      name: id
      description: Id of entity
      in: path
      required: true
      style: simple
      schema:
        type: string
        format: uuid
    database-id:
      name: database-id
      in: path
      required: true
      style: simple
      schema:
        type: string
        format: uuid
    collection-id:
      name: collection-id
      in: path
      required: true
      style: simple
      schema:
        type: string
        format: uuid
    maintenance-window-statuses-in-query:
      name: statuses
      in: query
      required: false
      schema:
        type: array
        items:
          $ref: '#/components/schemas/MaintenanceWindowStatus'
