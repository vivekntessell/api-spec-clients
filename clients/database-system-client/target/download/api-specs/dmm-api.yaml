openapi: 3.0.3
info:
  title: Tessell Availability Machine REST Web Services' API Documentation
  description: Tessell Availability Machine REST Web Services' Api Documentation
  termsOfService: 'urn:tos <www.tessell.io/tc>'
  contact:
    name: Sagar Sontakke
    email: sagar.sontakke@tessell.io
  version: '1.0'
servers:
  - url: 'http://localhost:8082'
    description: Inferred Url
tags:
  - name: dmm
    description: Dmm APIs
  - name: dmm-availability
    description: DMM Availability APIs
  - name: db-backup
    description: Database backup APIs
  - name: db-log
    description: Database log APIs
  - name: dap
    description: Data access policy APIs
  - name: db-clone
    description: Database Clone APIs
  - name: sla
    description: SLA APIs
paths:
  '/tessell-ops/liveness':
    get:
      tags:
        - dmm
      summary: Check if the AM service is up (liveness probe)
      operationId: checkLiveness
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetDmmsApiResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/availability-machines':
    get:
      tags:
        - dmm
      summary: Get a list of Availability Machines
      operationId: getAvailabilityMachines
      x-terraform-resource: AvailabilityMachine
      x-terraform-operation: ReadList
      x-terraform:
        excludeParamsFromApiDefinition:
          - pageSize
          - pageOffset
          - timeZone
      parameters:
        - name: name
          in: query
          description: Filter the result based on Availability Machine name
          required: false
          style: form
          schema:
            type: string
        - name: status
          in: query
          description: Filter the result based on Availability Machine status
          required: false
          style: form
          schema:
            type: string
        - name: engine-type
          in: query
          description: Filter the result based on Availability Machine's database engine-type
          required: false
          style: form
          schema:
            type: string
            default: ""
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/owners'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetDmmsServiceView'
              examples:
                generic:
                  $ref: '#/components/examples/GetAvailabilityMachines'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/tessell-ops/dmms':
    get:
      tags:
        - dmm
      summary: View a list of available Tessell Data Management Machines
      operationId: getDmms
      parameters:
        - name: name
          in: query
          description: name
          required: false
          style: form
          schema:
            type: string
            default: ""
        - name: statuses
          in: query
          description: statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DmmStatus'
        - name: skip-statuses
          in: query
          description: skip-statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DmmStatus'
        - name: engine-type
          in: query
          description: engine-type
          required: false
          style: form
          schema:
            type: string
            default: ""
        - name: database-system-id
          in: query
          description: database-system-id
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: load-rpo-sla
          in: query
          description: load-rpo-sla
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: load-daps
          in: query
          description: load-daps
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: load-clones
          in: query
          description: load-clones
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: include-internal
          in: query
          description: include-internal
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: load-subscription-info
          in: query
          description: load-subscription-info
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - name: filter-by-tenant
          in: query
          description: filter the entity based on tenant-id
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetDmmsApiResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - dmm
      summary: Create a new Tessell Data Management Machine
      operationId: createDmm
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellDmmDTO'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDmmDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/availability-machines/{id}':
    get:
      tags:
        - dmm
      summary: Get details about an Availability Machine
      operationId: getAvailabilityMachine
      x-terraform-resource: AvailabilityMachine
      x-terraform-operation: Read
      x-terraform:
        excludeParamsFromApiDefinition:
          - loadAcls
          - timeZone
      parameters:
        - name: id
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDmmServiceConsumerDTO'
              examples:
                generic:
                  $ref: '#/components/examples/AvailabilityMachine'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - dmm
      summary: Delete the Availability Machine and the associated data (if any) including snapshots, sanitized-snapshots, and backups.
      operationId: deleteAvailabilityMachine
      parameters:
        - name: id
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/tessell-ops/dmms/utilization':
    get:
      tags:
        - dmm
      summary: View a list of available Tessell Data Management Machines for utilization purpose
      operationId: getDmmsForUtilization
      parameters:
        - name: load-subscription-info
          in: query
          description: load-subscription-info
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: filter-on-last-started-time
          in: query
          description: filter-on-last-started-time
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: filter-on-last-stopped-time
          in: query
          description: filter-on-last-stopped-time
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: statuses
          in: query
          description: Status list
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DmmStatus'
        - name: skip-statuses
          in: query
          description: Status list
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DmmStatus'
        - $ref: 'common-specification.yaml#/components/parameters/timeRangeBeginAt'
        - $ref: 'common-specification.yaml#/components/parameters/timeRangeEndAt'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetDmmsApiResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/update-dap-replication-status':
    post:
      tags:
        - dmm
      operationId: updateDapReplicationStatus
      summary: Triggers a worklow to update the DbLogs status for all the PITR DAPs for given DMMs.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDapReplStatusPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
  '/availability-machines/{id}/pause':
    patch:
      tags:
        - dmm
      summary: Pause the automated backups for a Availability Machine
      operationId: pauseAvailabilityMachine
      parameters:
        - name: id
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PauseTessellDmmPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/availability-machines/{id}/backup-download-config':
    patch:
      tags:
        - dmm
      summary: Allow backup download for a Availability Machine
      operationId: updateBackupDownloadConfig
      parameters:
        - name: id
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateBackupDownloadConfigPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/BackupDownloadConfig'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/availability-machines/{id}/resume':
    patch:
      tags:
        - dmm
      summary: Resume the automated backups for a Availability Machine
      operationId: resumeAvailabilityMachine
      parameters:
        - name: id
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResumeTessellDmmPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /availability-machines/{id}/acls:
    get:
      tags:
        - dmm
      summary: Get list of ACLs for an Availability Machine
      operationId: getAvailabilityMachineAcls
      parameters:
        - name: id
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingInfo'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    patch:
      tags:
        - dmm
      summary: Create or update ACLs for an Availability Machine
      operationId: createAvailabilityMachineAcls
      parameters:
        - name: id
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: 'common-specification.yaml#/components/schemas/AclPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/AclPayload'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - dmm
      summary: Revoke ACLs for an Availability Machine
      operationId: revokeAvailabilityMachineAcls
      parameters:
        - name: id
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: 'common-specification.yaml#/components/schemas/AclRevokePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /availability-machines/{id}/acls/eligible-users:
    get:
      tags:
        - dmm
      summary: Get list of users which are eligible to grant access for an Availability Machine
      operationId: getEligibleUsersForAvailabilityMachine
      parameters:
        - name: id
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: roles
          in: query
          description: Filter the result based on specified roles
          required: false
          style: form
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: 'common-specification.yaml#/components/schemas/AclEligibleUser'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /availability-machines/{availabilityMachineId}/backups:
    get:
      tags:
        - db-backup
      summary: View a list of available Tessell Backups
      operationId: getDatabaseBackups
      x-terraform-resource: DBBackup
      x-terraform-operation: ReadList
      x-terraform:
        fieldInResponseForResourceList: Backups
        excludeParamsFromApiDefinition:
          - loadAcls
          - pageSize
          - pageOffset
          - timeZone
          - status
      parameters:
        - name: availabilityMachineId
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: name
          in: query
          description: Name of the backup
          required: false
          style: form
          schema:
            type: string
            maxLength: 128
        - name: status
          in: query
          description: status
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DatabaseBackupStatus'
        - name: automated
          in: query
          description: Specify if automated backups info is to be fetched
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: manual
          in: query
          description: Specify if manual backups info is to be fetched
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetDatabaseBackupsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - db-backup
      summary: Create backup for the snapshot
      operationId: createBackupRequest
      parameters:
        - name: availabilityMachineId
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBackupTaskPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /availability-machines/{id}/backups/{backup-id}/download-url:
    post:
      tags:
        - db-backup
      summary: Create download url for the backup
      operationId: createDownloadUrlRequest
      parameters:
        - name: id
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: backup-id
          in: path
          description: ID of the backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExpiryConfig'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /dataflix/{id}/catalog/backups/{backup-id}/download-url:
    get:
      tags:
        - dmm
      summary: Get download url info for the backup
      operationId: getDownloadUrlInfo
      parameters:
        - name: id
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: backup-id
          in: path
          description: ID of the backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/DataflixDownloadUrlInfo'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /availability-machines/{availabilityMachineId}/backups/{id}:
    get:
      tags:
        - db-backup
      summary: get backup
      operationId: getBackupRequest
      x-terraform-resource: DBBackup
      x-terraform-operation: Read
      parameters:
        - name: availabilityMachineId
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: Id of the database backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/DatabaseBackup'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - db-backup
      summary: Submit a request to delete the backup
      operationId: deleteBackupRequest
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: ID of the database backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /dataflix/{id}/acls/eligible-users:
    get:
      tags:
        - dmm
      summary: Get list of all the users by privileges
      operationId: getEligibleUsersForDataflix
      parameters:
        - name: id
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: roles
          in: query
          description: roles
          required: false
          style: form
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: 'common-specification.yaml#/components/schemas/AclEligibleUser'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/availability-machines/{id}/size':
    get:
      tags:
        - dmm
      summary: Get size consumption details for Tessell Data Management Machine
      operationId: getAvailabilityMachineSize
      parameters:
        - name: id
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDmmSizeDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/tessell-ops/dmms/{id}/size':
    get:
      tags:
        - dmm
      summary: Get size consumption details for Tessell Data Management Machine
      operationId: getDmmSizeOpsView
      parameters:
        - name: id
          in: path
          description: Id of the Tessell Data Management Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: filter-on-last-started-time
          in: query
          description: filter-on-last-started-time
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: filter-on-last-stopped-time
          in: query
          description: filter-on-last-stopped-time
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/timeRangeBeginAt'
        - $ref: 'common-specification.yaml#/components/parameters/timeRangeEndAt'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDmmSizeOpsDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{id}/delete-db-callback':
    post:
      tags:
        - dmm
      summary: Callback for DB Service deletion for DMM
      operationId: deleteDatabaseCallbackForDmm
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellDeleteDbCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{id}':
    get:
      tags:
        - dmm
      summary: Get Tessell Data Management Machine By Id
      operationId: getDmm
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: load-rpo-sla
          in: query
          description: load-rpo-sla
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: load-daps
          in: query
          description: load-daps
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: load-clones
          in: query
          description: load-clones
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: load-subscription-info
          in: query
          description: load-subscription-info
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDmmDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - dmm
      summary: Delete a Tessell Data Management Machine
      operationId: deleteDmm
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
        - name: softDelete
          in: query
          description: softDelete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - dmm
      summary: Update a Tessell Data Management Machine
      operationId: updateDmm
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellDmmDTO'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDmmDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/availability-machines/{id}/sla':
    get:
      tags:
        - dmm-availability
      summary: Get the SLA and Schedule associated with an Availability Machine
      operationId: getAvailabilityMachineSla
      parameters:
        - name: id
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDmmAvailabilityServiceView'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - dmm-availability
      summary: Associate SLA and Schedule to an Availability Machine
      operationId: associateAvailabilityMachineSla
      parameters:
        - name: id
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUpdateDmmAvailabilityPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDmmAvailabilityServiceView'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    patch:
      tags:
        - dmm-availability
      summary: Update SLA association for an Availability Machine
      operationId: updateAvailabilityMachineSla
      parameters:
        - name: id
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUpdateDmmAvailabilityPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDmmAvailabilityServiceView'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/tessell-ops/dmms/{dmmId}/availability':
    get:
      tags:
        - dmm-availability
      summary: Get availability details associated with an Availability Machine
      operationId: getDmmAvailabilityOps
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDmmAvailabilityDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - dmm-availability
      summary: Updates availability associated with an Availability Machine
      operationId: updateDmmAvailabilityOps
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellDmmAvailabilityDTO'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDmmAvailabilityDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - dmm-availability
      summary: Deletes availability associated with an Availability Machine
      operationId: deleteDmmAvailabilityOps
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: cloud-account-id
          in: query
          description: cloud-account-id
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: cloud-location
          in: query
          description: cloud-location
          required: false
          style: form
          schema:
            type: string
            default: ""
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/refresh-topology':
    post:
      tags:
        - dmm-availability
      summary: Request to refresh the topology information
      operationId: refreshDmmTopologyOps
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                title: RefreshTopologyResponseOps
                type: object
                properties:
                  status:
                    $ref: 'common-specification.yaml#/components/schemas/apiStatus'
                  updatedAvailability:
                    $ref: '#/components/schemas/TessellDmmAvailabilityDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/availability-machines/{id}/sla/catalog':
    get:
      tags:
        - dmm
      summary: This API is deprecated and no longer supported.
      operationId: getAvailabilityMachineSlaCatalog
      parameters:
        - name: id
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: continuous
          in: query
          description: continuous
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: discrete
          in: query
          description: discrete
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: manual
          in: query
          description: manual
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: automated
          in: query
          description: automated
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDmmAvailabilityCatalogServiceView'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/dataflix':
    get:
      tags:
        - dmm
      summary: Get a list of accessible Dataflix
      operationId: getDataflixes
      x-terraform-resource: Dataflix
      x-terraform-operation: ReadList
      x-terraform:
        excludeParamsFromApiDefinition:
          - pageSize
          - pageOffset
          - timeZone
      parameters:
        - name: name
          in: query
          description: Filter the result based on Dataflix name
          required: false
          style: form
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/owners'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDataflixResponse'
              examples:
                generic:
                  $ref: '#/components/examples/GetDataflixes'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/dataflix/{id}':
    get:
      tags:
        - dmm
      summary: Get a Dataflix by ID
      operationId: getDataflixByName
      x-terraform-resource: Dataflix
      x-terraform-operation: Read
      x-terraform:
        resourceIdFromResponse: '*response.AvailabilityMachineId'
        requestParametersFromSchema:
          id: availabilityMachineId
        excludeParamsFromApiDefinition:
          - loadAcls
          - timeZone
      parameters:
        - name: id
          in: path
          description: ID of the Dataflix
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellAmDataflixDTO'
              examples:
                generic:
                  $ref: '#/components/examples/Dataflix'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/dataflix/{id}/catalog':
    get:
      tags:
        - dmm
      summary: Get a Dataflix catalog
      operationId: getDataflixCatalog
      x-terraform-resource: DataflixCatalog
      x-terraform-operation: Read
      x-terraform:
        resourceIdFromResponse: '*response.AvailabilityMachineId'
        requestParametersFromSchema:
          id: availabilityMachineId
        excludeParamsFromApiDefinition:
          - timeZone
          - pitr
          - automated
          - manual
          - loadAcls
      parameters:
        - name: id
          in: path
          description: ID of the Dataflix
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: pitr
          in: query
          description: Specify if PITR related dataflix info is to be fetched
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: automated
          in: query
          description: Specify if automated backups info is to be fetched
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: manual
          in: query
          description: Specify if manual backup info is to be fetched
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetDataflixCatalogResponse'
              examples:
                generic:
                  $ref: '#/components/examples/DataflixCatalog'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/dataflix/{id}/catalog/sanitized':
    get:
      tags:
        - dmm
      summary: Get a Dataflix catalog for sanitized contents
      operationId: getDataflixSanitizedCatalog
      parameters:
        - name: id
          in: path
          description: ID of the Dataflix
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: automated
          in: query
          description: Specify if automated backups info is to be fetched
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: manual
          in: query
          description: Specify if manual backup info is to be fetched
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetDataflixSanitizedCatalogResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/dataflix/{id}/catalog/backups':
    get:
      tags:
        - dmm
      summary: Get details of a Tessell Availability Machine Dataflix Backup Catalog
      operationId: getDataflixBackupsCatalog
      parameters:
        - name: id
          in: path
          description: ID of the Dataflix
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: automated
          in: query
          description: Specify if automated backups info is to be fetched
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: manual
          in: query
          description: Specify if manual backup info is to be fetched
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetDataflixBackupCatalogResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/tessell-ops/dmms/{dmmId}/catalog':
    get:
      tags:
        - dmm
      summary: View details about a Tessell Availability Catalog
      operationId: getAvailabilityCatalog
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: continuous
          in: query
          description: continuous
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: discrete
          in: query
          description: discrete
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: manual
          in: query
          description: manual
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: automated
          in: query
          description: automated
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDmmAvailabilityCatalog'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/catalog/health':
    get:
      tags:
        - dmm
      summary: View details about health of a Tessell Availability Catalog
      operationId: getAvailabilityCatalogHealth
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/AvailabilityMachineCatalogHealth'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/catalog/pitr-chain':
    get:
      tags:
        - dmm
      summary: View details about a Tessell Availability Catalog
      operationId: getAvailabilityCatalogWithPitr
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: timestamp
          in: query
          description: timestamp
          required: false
          style: form
          schema:
            type: string
            default: true
        - name: cloud-account-id
          in: query
          description: cloud-account-id
          required: false
          style: form
          schema:
            type: string
            format: uuid
            default: true
        - name: cloud-location
          in: query
          description: cloud-location
          required: false
          style: form
          schema:
            type: string
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/DbPitrChainInfo'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/availability-machines/{availabilityMachineId}/snapshots':
    get:
      tags:
        - db-backup
      summary: Get list of snapshots for an Availability Machine
      operationId: getDatabaseSnapshots
      x-terraform-resource: DBSnapshot
      x-terraform-operation: ReadList
      x-terraform:
        fieldInResponseForResourceList: Snapshots
        excludeParamsFromApiDefinition:
          - status
          - loadAcls
          - pageSize
          - pageOffset
          - timeZone
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: name
          in: query
          description: Filter the result based on snapshot name
          required: false
          style: form
          schema:
            type: string
            maxLength: 128
        - name: status
          in: query
          description: Filter the result based on snapshot status
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DatabaseBackupStatus'
        - name: automated
          in: query
          description: Filter the result based on if the snapshot is automated
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: manual
          in: query
          description: Filter the result based on if the snapshot is manual
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: sanitizable
          in: query
          description: Filter the result based on if the snapshot is sanitizable
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetDatabaseSnapshotsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - db-backup
      summary: Submit a request to capture the associated DB Service's snapshot
      operationId: createDatabaseSnapshotRequest
      x-terraform-resource: DBSnapshot
      x-terraform-operation: Create
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDatabaseSnapshotTaskPayload'
            examples:
              generic:
                $ref: '#/components/examples/CreateSnapshot'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
              examples:
                generic:
                  $ref: '#/components/examples/CreateSnapshotSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/availability-machines/{availabilityMachineId}/sanitized-snapshots':
    get:
      tags:
        - db-backup
      summary: Get list of sanitized snapshots for an Availability Machine
      operationId: getSanitizedDatabaseSnapshots
      x-terraform-resource: SanitizedDBSnapshot
      x-terraform-operation: ReadList
      x-terraform:
        fieldInResponseForResourceList: Snapshots
        excludeParamsFromApiDefinition:
          - loadAcls
          - pageSize
          - pageOffset
          - timeZone
          - status
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: name
          in: query
          description: Filter the result based on Sanitized Snapshot name
          required: false
          style: form
          schema:
            type: string
        - name: status
          in: query
          description: Filter the result based on Sanitized Snapshot status
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DatabaseBackupStatus'
        - name: automated
          in: query
          description: Filter the result based on if the Sanitized Snapshot is automated
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: manual
          in: query
          description: Filter the result based on if the Sanitized Snapshot is manual
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetSanitizedDatabaseSnapshotsResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - db-backup
      summary: Submit a request to sanitize the specified snapshot
      operationId: createSanitizedDatabaseSnapshotRequest
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSanitizedDatabaseSnapshotTaskPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/availability-machines/bulk-delete:
    delete:
      tags:
        - dmm
      summary: Delete the tessell ams for subscription.
      operationId: bulkDeleteTessellAms
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkDeleteTessellAmsPayload'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ResourceBulkDeleteResponseOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - dmm
      summary: get status of  the tessell ams for subscription.
      operationId: getBulkDeleteTessellAmsStatus
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkDeleteTessellAmsStatusPayload'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ResourceBulkDeleteResponseOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/availability-machines/{availabilityMachineId}/sanitized-snapshots/{id}':
    get:
      tags:
        - db-backup
      summary: Get details about the specified Sanitized Snapshot
      operationId: getSanitizedDatabaseSnapshot
      x-terraform-resource: SanitizedDBSnapshot
      x-terraform-operation: Read
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: ID of the Sanitized Snapshot
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/SanitizedDatabaseSnapshot'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - db-backup
      summary: Submit a request to delete the Sanitized Snapshot
      operationId: deleteSanitizedDatabaseSnapshotRequest
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: ID of the Sanitized Snapshot
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/tessell-ops/dmms/{dmmId}/backups':
    get:
      tags:
        - db-backup
      summary: Get list of backups for a Availability machine
      operationId: getBackups
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: statuses
          in: query
          description: statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DbBackupStatus'
        - name: skip-statuses
          in: query
          description: skip-statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DbBackupStatus'
        - name: name
          in: query
          description: Name of the backup
          required: false
          style: form
          schema:
            type: string
            minLength: 1
            maxLength: 128
        - name: primary-backups-only
          in: query
          description: Setting this would only return the primary backups (i.e. the RPO based/manual backups taken directly on the service)
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: sanitization-schedule-id
          in: query
          description: sanitization-schedule-id
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: types
          in: query
          description: types
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/BackupType'
        - name: skip-types
          in: query
          description: skip-types
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/BackupType'
        - name: dap-based
          in: query
          description: Whether to return Dap based backups or not
          required: false
          style: form
          schema:
            type: boolean
        - name: load-subscriptions
          in: query
          description: load-subscriptions
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: backup-identifier
          in: query
          description: backupIdentifier
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - $ref: '#/components/parameters/db-backup-type-in-query'
        - name: retention-types
          in: query
          description: Filter backups based on retention type/s
          required: false
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DbBackupRetentionType'
        - $ref: '#/components/parameters/load-storage-snapshots-in-query'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DatabaseBackupOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - db-backup
      summary: Request to create a new Backup
      operationId: createBackupRequestInternal
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBackupInternalTaskPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/backups/init':
    post:
      tags:
        - db-backup
      summary: Request to create a initialization of new Backup
      operationId: createBackupRequestInitializationInternal
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBackupInternalTaskPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/DatabaseSnapshotTaskPayload'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/backups/clone-validation':
    post:
      tags:
        - db-backup
      summary: Validate a backup for clone creation
      operationId: validateBackupForCloneCreation
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CloneBackupValidationPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/CloneBackupValidationResponse'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/backups/utilization':
    get:
      tags:
        - db-backup
      summary: View a list of available Backups for utilization
      operationId: getBackupsForUtilization
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: primary-backups-only
          in: query
          description: Whether to return primary backups only
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: dapId
          in: query
          description: dapId
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: filter-on-backup-time
          in: query
          description: filter-on-backup-time
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: filter-on-deleted-for-user-time
          in: query
          description: filter-on-deleted-for-user-time
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: load-subscription-info
          in: query
          description: load-subscription-info
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: statuses
          in: query
          description: status list
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DbBackupStatus'
        - name: skip-statuses
          in: query
          description: status list
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DbBackupStatus'
        - $ref: '#/components/parameters/load-storage-snapshots-in-query'
        - $ref: 'common-specification.yaml#/components/parameters/timeRangeBeginAt'
        - $ref: 'common-specification.yaml#/components/parameters/timeRangeEndAt'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DatabaseBackupOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/backups/create-backup':
    post:
      tags:
        - db-backup
      summary: Create a backup entry
      operationId: createBackupEntry
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DatabaseBackupOps'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/DatabaseBackupOps'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/backups/{backupId}/create-direct-entry':
    post:
      tags:
        - db-backup
      summary: Create a direct backup entry
      operationId: createDirectBackupEntry
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: backupId
          in: path
          description: ID of the backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: for-start-db
          in: query
          description: for-start-db
          required: false
          style: form
          schema:
            type: boolean
            default: false
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/DatabaseBackupOps'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/backups/{backupId}/lock':
    patch:
      tags:
        - db-backup
      summary: Lock a backup entry
      operationId: lockBackup
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: backupId
          in: path
          description: ID of the backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellLockBackupPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/on-demand-backups':
    post:
      tags:
        - db-backup
      summary: Request to create a new On Demand Backup
      operationId: createOnDemandBackupRequestInternal
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DmmDispatchOnDemandAutoBackupTaskPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/backups/{backupId}/backup-chain':
    get:
      tags:
        - db-backup
      summary: Get backup chain for a given Backup
      operationId: getDbBackupChainInfo
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: backupId
          in: path
          description: ID of backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: forward
          in: query
          description: For a specified backup, get forward chain of backups until next full backup (excluding next full backup)
          required: false
          style: form
          schema:
            type: boolean
            default: false
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/DbBackupChainInfo'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/backups/{backupId}/lineage-info':
    get:
      tags:
        - db-backup
      summary: Get backup lineage info for a given Backup
      operationId: getDbBackupLineageInfo
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: backupId
          in: path
          description: ID of backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/DbBackupLineageInfo'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/backups/cloud-resource-sharing-info':
    get:
      tags:
        - db-backup
      summary: Get list of backups info which share the same underlying cloud snapshot
      operationId: getDbBackupCloudResourceSharingInfo
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: cloud-resource-id
          in: query
          description: The cloud resource id for the backup
          required: true
          style: form
          schema:
            type: string
        - name: evaluate-leakage
          in: query
          description: Specify whether to evaluate leakage for the specified cloud-resource-id
          required: false
          style: form
          schema:
            type: boolean
            default: false
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/DbBackupCloudResourceSharingInfo'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/backups':
    get:
      tags:
        - db-backup
      summary: Get a list of available Backups for internal use
      operationId: getBackupsInternal
      parameters:
        - name: name
          in: query
          description: Name of the backup
          required: false
          style: form
          schema:
            type: string
            minLength: 1
            maxLength: 128
        - name: status
          in: query
          description: status
          required: true
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DbBackupStatus'
        - $ref: '#/components/parameters/db-backup-type-in-query'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDatabaseBackupsInternalResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - db-backup
      summary: Internal request to delete a Tessell Database Backups and logs
      operationId: deleteBackupRequestOps
      parameters:
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteBackupDbLogTaskPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/backups/refresh-size':
    patch:
      tags:
        - db-backup
      summary: Internal request to refresh snapshot size from respective cloud
      operationId: refreshBackupSizeRequestOps
      parameters:
        - name: for-all-ams
          in: query
          description: Refresh snapshot size for all Availability machines
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: for-recorded-ams
          in: query
          description: Refresh snapshot size for recorded Availability machines
          required: false
          style: form
          schema:
            type: boolean
            default: false
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshSnapshotSizeTaskPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/taskSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/availability-machines/{availabilityMachineId}/snapshots/{id}':
    get:
      tags:
        - db-backup
      summary: Get details about the specified snapshot
      operationId: getDatabaseSnapshot
      x-terraform-resource: DBSnapshot
      x-terraform-operation: Read
      x-terraform:
        pollConfig:
          keyType: property
          property: Status
          pollBreakValue: AVAILABLE
          valueType: string
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: ID of the snapshot
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/DatabaseSnapshot'
              examples:
                generic:
                  $ref: '#/components/examples/DBSnapshot'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - db-backup
      summary: Submit a request to delete the snapshot
      operationId: deleteDatabaseSnapshotRequest
      x-terraform-resource: DBSnapshot
      x-terraform-operation: Delete
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: ID of the snapshot
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
              examples:
                generic:
                  $ref: '#/components/examples/DeleteSnapshotSummary'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/availability-machines/{id}/restore-info':
    get:
      tags:
        - db-backup
      summary: Get the restore or clone information for the specified snapshot or the recovery-timestamp
      operationId: getBackupRestoreInfo
      parameters:
        - name: id
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: backup-id
          in: query
          description: ID of the snapshot
          required: false
          style: form
          schema:
            type: string
            format: uuid
        - name: recovery-timestamp
          in: query
          description: The recovery timestamp
          required: false
          style: form
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/DbBackupRestoreInfo'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/tessell-ops/dmms/{dmmId}/backups/{id}':
    get:
      tags:
        - db-backup
      summary: View details about a Tessell Database Backup
      operationId: getBackupOps
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: ID of the backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - $ref: '#/components/parameters/load-storage-snapshots-in-query'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/DatabaseBackupOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - db-backup
      summary: Update a Tessell Database Backup
      operationId: updateBackup
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: ID of the backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: for-stop-db
          in: query
          description: for stop of database, this backup would be used while starting the database
          required: false
          style: form
          schema:
            type: boolean
            default: false
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DatabaseBackupOps'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/DatabaseBackupOps'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    put:
      tags:
        - db-backup
      summary: Update a Tessell Database Backup using PUT
      operationId: updateBackupWithPut
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: ID of the backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DatabaseBackupOps'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/DatabaseBackupOps'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - db-backup
      summary: Delete a Tessell Database Backup
      operationId: deleteDBBackup
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: ID of the backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: softDelete
          in: query
          description: softDelete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/backups/size':
    patch:
      tags:
        - db-backup
      summary: Update Backup Size information
      operationId: updateBackupSizeOps
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateSnapshotSizePayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/db-logs':
    get:
      tags:
        - db-log
      summary: View a list of Tessell Database Logs for given filter
      operationId: getDbLogsByFilter
      parameters:
        - name: status
          in: query
          description: status
          required: true
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DbLogStatus'
        - $ref: '#/components/parameters/light-weight-in-query-def-true'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetDbLogsApiResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/db-logs':
    get:
      tags:
        - db-log
      summary: View a list of available Tessell Database Logs
      operationId: getDbLogs
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: status
          in: query
          description: status
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DbLogStatus'
        - name: range-from-time
          in: query
          description: range-from-time
          required: false
          style: form
          schema:
            type: string
            example: 2022-04-10 04:20:30
        - name: range-to-time
          in: query
          description: range-to-time
          required: false
          style: form
          schema:
            type: string
            example: 2022-04-10 04:20:30
        - $ref: '#/components/parameters/light-weight-in-query'
        - $ref: '#/components/parameters/dap-based-in-query'
        - $ref: '#/components/parameters/dap-id-in-query'
        - $ref: '#/components/parameters/cloud-location-in-query'
        - $ref: '#/components/parameters/storage-id-in-query'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetDbLogsApiResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - db-log
      summary: Request to create a new Tessell Database Log
      operationId: createDbLog
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellDbLogDTO'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDbLogDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/availability-machine/db-logs':
    $ref: '#/paths/~1tessell-ops~1dmms~1%7BdmmId%7D~1db-logs'
  '/tessell-ops/dmms/{dmmId}/db-logs/{dbLogId}':
    get:
      tags:
        - db-log
      summary: View details about a Tessell Database Log
      operationId: getDbLog
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: dbLogId
          in: path
          description: dbLogId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - $ref: '#/components/parameters/light-weight-in-query'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDbLogDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - db-log
      summary: Delete a Tessell Database Backup
      operationId: deleteDbLog
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: dbLogId
          in: path
          description: dbLogId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - db-log
      summary: Update a Tessell Database Log
      operationId: updateDbLog
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: dbLogId
          in: path
          description: dbLogId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellDbLogDTO'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDbLogDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/availability-policies/{dapId}/backups':
    get:
      tags:
        - db-backup
      summary: Get Backups for a DAP
      operationId: getBackupsForDap
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: dapId
          in: path
          description: ID of the Access Policy
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: name
          in: query
          description: Name of the backup
          required: false
          style: form
          schema:
            type: string
            minLength: 1
            maxLength: 128
        - name: statuses
          in: query
          description: statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DbBackupStatus'
        - name: skip-statuses
          in: query
          description: skip-statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DbBackupStatus'
        - name: load-subscriptions
          in: query
          description: load-subscriptions
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - name: types
          in: query
          description: types
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/BackupType'
        - name: skip-types
          in: query
          description: skip-types
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/BackupType'
        - $ref: '#/components/parameters/db-backup-type-in-query'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetBackupsApiResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/availability-machines/{id}/access-policies':
    get:
      tags:
        - dap
      summary: Get list of Access Policies (DAP) that are associated with an Availability Machine
      operationId: getDmmAvailabilityPoliciesServiceView
      parameters:
        - name: id
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: name
          in: query
          description: Filter the result based on Access Policy name
          required: false
          style: form
          schema:
            type: string
        - name: types
          in: query
          description: Filter the result based on Access Policy type
          required: false
          style: form
          schema:
            type: array
            items:
              type: string
        - $ref: '#/components/parameters/dap-statuses-in-query'
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetDmmAvailabilityPoliciesServiceView'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - dap
      summary: Create a new Access Policy for an Availability Machine
      operationId: createDmmAvailabilityPolicy
      parameters:
        - name: id
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDapPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDapServiceDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/tessell-ops/dmms/{dmmId}/access-policies/{dapId}/callback/create':
    post:
      tags:
        - dap
      summary: Create DAP callback
      operationId: createDapCallback
      parameters:
        - $ref: '#/components/parameters/dmm-id-in-path-reqd'
        - $ref: '#/components/parameters/dap-id-in-path-reqd'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDapCallbackPayload'
      responses:
        '200':
          description: OK
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/ApiErrorOps'
  '/tessell-ops/dmms/{dmmId}/availability-policies':
    get:
      tags:
        - dap
      summary: Request to get availability policies for Data Management Machines
      operationId: getDmmAvailabilityPolicies
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: name
          in: query
          description: DAP name
          required: false
          style: form
          schema:
            type: string
        - name: types
          in: query
          description: Dap Content Types
          required: false
          style: form
          schema:
            type: array
            items:
              type: string
        - $ref: '#/components/parameters/dap-statuses-in-query'
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetDapsApiResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/availability-machines/{availabilityMachineId}/access-policies/{accessPolicyId}':
    get:
      tags:
        - dap
      summary: Get details about an Access Policy
      operationId: getDmmAvailabilityPolicyServiceView
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: accessPolicyId
          in: path
          description: ID of the Access Policy
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDapServiceDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - dap
      summary: Delete an Access Policy
      operationId: deleteDmmAvailabilityPolicy
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: accessPolicyId
          in: path
          description: ID of the Data Access Policy
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    patch:
      tags:
        - dap
      summary: Update an Access Policy
      operationId: updateDmmAvailabilityPolicyServiceView
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: accessPolicyId
          in: path
          description: ID of the Access Policy
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDapPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDapServiceDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/tessell-ops/dmms/{dmmId}/availability-policies/{dapId}':
    get:
      tags:
        - dap
      summary: Request to get an availability policy for Data Management Machines
      operationId: getDmmAvailabilityPolicy
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: dapId
          in: path
          description: dapId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDapDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - dap
      summary: Request to update an availability policy for Availability machine
      operationId: updateDmmAvailabilityPolicy
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: dapId
          in: path
          description: dapId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellDapDTO'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDapDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/availability-machines/{availabilityMachineId}/access-policies/{accessPolicyId}/catalog':
    get:
      tags:
        - dap
      summary: View details about a Tessell Dap Catalog
      operationId: getDapCatalogServiceView
      parameters:
        - name: availabilityMachineId
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: accessPolicyId
          in: path
          description: Id of the Data Access Policy
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: continuous
          in: query
          description: continuous
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: discrete
          in: query
          description: discrete
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: manual
          in: query
          description: manual
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: automated
          in: query
          description: automated
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDapCatalogServiceView'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/tessell-ops/dmms/{dmmId}/availability-policies/{dapId}/catalog':
    get:
      tags:
        - dap
      summary: View details about a Tessell DAP Catalog
      operationId: getDapCatalog
      parameters:
        - name: dmmId
          in: path
          description: ID of Availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: dapId
          in: path
          description: dapId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: continuous
          in: query
          description: continuous
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: discrete
          in: query
          description: discrete
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: manual
          in: query
          description: manual
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - name: automated
          in: query
          description: automated
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellDapCatalog'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/availability-machines/{id}/sanitization-schedules':
    get:
      tags:
        - data-sanitization
      summary: Get list of Sanitization Schedules that are associated with an Availability Machine
      operationId: getAmSanitizationSchedulesServiceView
      parameters:
        - name: id
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: name
          in: query
          description: Filter the result based on Sanitization Schedule name
          required: false
          style: form
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetSanitizationSchedulesServiceApiResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - data-sanitization
      summary: Create a new Sanitization Schedule for an Availability Machine
      operationId: createAmSanitizationSchedulesServiceView
      parameters:
        - name: id
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellSanitizationScheduleCreatePayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellSanitizationScheduleServiceDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/availability-machines/{availabilityMachineId}/sanitization-schedules/{sanitizationScheduleId}':
    get:
      tags:
        - data-sanitization
      summary: Get details about a Sanitization Schedule
      operationId: getAmSanitizationScheduleServiceView
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: sanitizationScheduleId
          in: path
          description: ID of the Sanitization Schedule
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellSanitizationScheduleServiceDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - data-sanitization
      summary: Submit a request to delete the Sanitization Schedule
      operationId: deleteAmSanitizationScheduleServiceView
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: sanitizationScheduleId
          in: path
          description: ID of the Sanitization Schedule
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    patch:
      tags:
        - data-sanitization
      summary: Update a Sanitization Schedule
      operationId: updateAmSanitizationScheduleServiceView
      parameters:
        - name: availabilityMachineId
          in: path
          description: ID of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: sanitizationScheduleId
          in: path
          description: ID of the Sanitization Schedule
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellSanitizationScheduleUpdatePayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellSanitizationScheduleServiceDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/tessell-ops/dmms/{availabilityMachineId}/sanitization-schedules':
    get:
      tags:
        - data-sanitization
      summary: Request to get Sanitization Schedules
      operationId: getAmSanitizationSchedules
      parameters:
        - name: availabilityMachineId
          in: path
          description: availabilityMachineId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: name
          in: query
          description: Sanitization Schedule name
          required: false
          style: form
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetSanitizationSchedulesApiResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{availabilityMachineId}/sanitization-schedules/{sanitizationScheduleId}':
    get:
      tags:
        - data-sanitization
      summary: Request to get a Sanitization Schedule
      operationId: getAmSanitizationSchedule
      parameters:
        - name: availabilityMachineId
          in: path
          description: availabilityMachineId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: sanitizationScheduleId
          in: path
          description: sanitizationScheduleId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellSanitizationScheduleDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - data-sanitization
      summary: Request to update a Sanitization Schedule
      operationId: updateAmSanitizationSchedule
      parameters:
        - name: availabilityMachineId
          in: path
          description: availabilityMachineId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: sanitizationScheduleId
          in: path
          description: sanitizationScheduleId
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellSanitizationScheduleDTO'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellSanitizationScheduleDTO'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - data-sanitization
      summary: Request to delete a sanitization schedule
      operationId: deleteAmSanitizationSchedule
      parameters:
        - name: availabilityMachineId
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: sanitizationScheduleId
          in: path
          description: Id of the Sanitization Schedule
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: soft-delete
          in: query
          description: soft-delete
          required: false
          style: form
          schema:
            type: boolean
            format: true
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/native-backup/{native-backup-id}/callback':
    post:
      tags:
        - db-backup
      summary: Callback for native backup database service
      operationId: createNativeBackupCallback
      parameters:
        - name: native-backup-id
          in: path
          description: ID of backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NativeBackupCallbackPayload'
      responses:
        '200':
          description: OK
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{id}/pre-auth-urls/callback':
    post:
      tags:
        - db-backup
      summary: Callback for bulk pre auth urls creation
      operationId: preAuthUrlsCallback
      parameters:
        - name: id
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PreAuthUrlsCallbackPayload'
      responses:
        '200':
          description: OK
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{id}/callback/backups/{backup-id}':
    post:
      tags:
        - db-backup
      summary: Callback for backup database service
      operationId: backupCallback
      parameters:
        - name: id
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: backup-id
          in: path
          description: Id of the backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BackupCallbackPayload'
      responses:
        '200':
          description: OK
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{id}/callback/replicate-backups':
    post:
      tags:
        - db-backup
      summary: Callback for snapshot database service
      operationId: replicateBackupsCallback
      parameters:
        - name: id
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReplicateBackupsCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/callback/delete-backups-logs':
    post:
      tags:
        - db-backup
      summary: Callback for snapshot database service
      operationId: deleteBackupsLogsCallback
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteBackupsLogsCallbackPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{id}/callback/data-management/clone':
    post:
      tags:
        - db-clone
      summary: Callback for clone database service
      operationId: cloneDatabaseCallback
      parameters:
        - name: id
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProvisionDatabaseCallbackResponse'
      responses:
        '200':
          description: OK
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{availabilityMachineId}/callback/data-management/{cloneId}/refresh':
    post:
      tags:
        - db-clone
      summary: Callback for refresh database service
      operationId: refreshDatabaseCallback
      parameters:
        - name: availabilityMachineId
          in: path
          description: Id of the Availability Machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: cloneId
          in: path
          description: Id of the Clone
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshDatabaseCallbackResponse'
      responses:
        '200':
          description: OK
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/am/generic-properties:
    post:
      tags:
        - tessell-properties-controller
      summary: Create a property
      operationId: createAmGenericProperties
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: 'common-specification.yaml#/components/schemas/GenericProperty'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: 'common-specification.yaml#/components/schemas/GenericProperty'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    get:
      tags:
        - tessell-properties-controller
      summary: getAmGenericProperties
      operationId: getAmGenericProperties
      parameters:
        - name: names
          in: query
          description: property names
          required: false
          style: form
          schema:
            type: array
            items:
              type: string
        - $ref: common-specification.yaml#/components/parameters/pageSize
        - $ref: common-specification.yaml#/components/parameters/pageOffset
        - $ref: common-specification.yaml#/components/parameters/timeZone
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: 'common-specification.yaml#/components/schemas/GenericProperty'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-properties-controller
      summary: Delete properties
      operationId: deleteAmGenericProperties
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: 'common-specification.yaml#/components/schemas/DeleteGenericPropertyPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /availability-machines/slas:
    get:
      tags:
        - sla
      summary: Get a list of Availability Machine SLAs
      operationId: getSlasConsumptionView
      parameters:
        - name: pitr-enabled
          in: query
          description: If true, it will return all of the SLAs where PITR is non-zero. If false, it will return all SLAs where PITR is zero. If not specified, it will return all of the SLAs irrespective of PITR retention.
          required: false
          style: form
          schema:
            type: boolean
            nullable: true
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetSlasConsumptionView'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /availability-machines/slas/{name}:
    get:
      tags:
        - sla
      summary: Get details about an Availability Machine SLA
      operationId: getSlaConsumptionView
      parameters:
        - name: name
          in: path
          description: Name of the SLA
          required: true
          style: simple
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TamSlaConsumptionView'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /availability-machines/governance/slas:
    get:
      tags:
        - sla
      summary: Get a list of Availability Machine SLAs, for Governance activities
      operationId: getSlasServiceView
      parameters:
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetSlasServiceView'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - sla
      summary: Create a new Availability Machine SLA
      operationId: createSla
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TamSlaCreateUpdatePayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TamSlaServiceView'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /availability-machines/governance/slas/{name}:
    get:
      tags:
        - sla
      summary: Get details of an Availability Machine SLA, for Governance activities
      operationId: getSlaServiceView
      parameters:
        - name: name
          in: path
          description: name
          required: true
          style: simple
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TamSlaServiceView'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    put:
      tags:
        - sla
      summary: Updates an Availability Machine SLA
      operationId: updateSlaServiceView
      parameters:
        - name: name
          in: path
          description: Name of the SLA
          required: true
          style: simple
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TamSlaCreateUpdatePayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TamSlaServiceView'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - sla
      summary: Deletes an Availability Machine SLA
      operationId: deleteSlaServiceView
      parameters:
        - name: name
          in: path
          description: Name of the SLA
          required: true
          style: simple
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /availability-machines/governance/slas/{name}/usage:
    get:
      tags:
        - sla
      summary: Get details of Availability Machines which are using the SLA
      operationId: getSlaUsage
      parameters:
        - name: name
          in: path
          description: name
          required: true
          style: simple
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetSlaUsageView'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/dmms/slas:
    get:
      tags:
        - sla
      summary: View a list of available Tessell Availability Machine SLAs
      operationId: getSlasOps
      parameters:
        - name: name
          in: query
          description: name
          required: false
          style: form
          schema:
            type: string
        - name: tenant-id
          in: query
          description: tenant-id
          required: false
          style: form
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetSlasOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - sla
      summary: Creates a new Availability Machine SLA
      operationId: createSlaOps
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TamSlaCreateUpdatePayloadOps'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TamSla'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/dmms/slas/{id}:
    get:
      tags:
        - sla
      summary: View a Tessell Availability Machine SLA by id
      operationId: getSlaOps
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: tenant-id
          in: query
          description: tenant-id
          required: false
          style: form
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TamSla'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /availability-machines/governance/slas/{name}/acls:
    patch:
      tags:
        - sla
      summary: Create or update ACLs for an Availability Machine SLA
      operationId: createSlaAcls
      parameters:
        - name: name
          in: path
          description: Name of the Availability Machine SLA
          required: true
          style: simple
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: 'common-specification.yaml#/components/schemas/AclPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/AclPayload'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - sla
      summary: Revoke ACLs for an Availability Machine SLA
      operationId: revokeSlaAcls
      parameters:
        - name: name
          in: path
          description: Name of the SLA
          required: true
          style: simple
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: 'common-specification.yaml#/components/schemas/AclRevokePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /availability-machines/governance/slas/{name}/acls/eligible-users:
    get:
      tags:
        - sla
      summary: Get list of users which are eligible to grant access for the SLAs
      operationId: getEligibleUsersForSla
      parameters:
        - name: name
          in: path
          description: Name of the SLA
          required: true
          style: simple
          schema:
            type: string
        - name: roles
          in: query
          description: Filter the result based of the specified roles
          required: false
          style: form
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: 'common-specification.yaml#/components/schemas/AclEligibleUser'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /availability-machines/governance/slas/{name}/{action}:
    patch:
      tags:
        - sla
      summary: Update the SLA maturity status
      operationId: updateSlaMaturityStatus
      parameters:
        - name: name
          in: path
          description: Name of the SLA
          required: true
          style: simple
          schema:
            type: string
        - name: action
          in: path
          description: Update maturity status as per the action, allowed actions are - DRAFT, PUBLISH, or UNPUBLISH
          required: true
          style: simple
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/tessell-ops/dmms/schedules':
    get:
      tags:
        - sla
      summary: View a list of available Tessell Availability Machine Schedules
      operationId: getSchedulesOps
      parameters:
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetSchedulesOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/schedules/{id}':
    put:
      tags:
        - sla
      summary: Update a Tessell Availability Machine Schedule
      operationId: updateScheduleOps
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TamSchedule"
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: "#/components/schemas/TamSchedule"
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/scripts':
    get:
      tags:
        - tessell-script
      summary: View a list of available Tessell Scripts
      operationId: getScripts
      parameters:
        - name: name
          in: query
          description: name
          required: false
          style: form
          schema:
            type: string
            default: ""
        - name: status
          in: query
          description: status
          required: false
          style: form
          schema:
            type: string
        - name: engine-type
          in: query
          description: engine-type
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        - name: script-type
          in: query
          description: script type
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: "#/components/schemas/ScriptType"
        - name: load-versions
          in: query
          description: load script versions
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetScriptsApiResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - tessell-script
      summary: Create a new Tessell Script
      operationId: createScriptOpsRequest
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateScriptOpsPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellScriptDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/scripts/{id}':
    get:
      tags:
        - tessell-script
      summary: View Tessell Scripts by id
      operationId: getScript
      parameters:
        - name: id
          in: path
          description: Script id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: load-versions
          in: query
          description: load versions
          required: false
          style: form
          schema:
            type: boolean
            default: false
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellScriptDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - tessell-script
      summary: Update a new Tessell Script
      operationId: updateScript
      parameters:
        - name: id
          in: path
          description: Script id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellScriptDTO'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellScriptDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-script
      summary: Delete a Tessell Script
      operationId: deleteScript
      parameters:
        - name: id
          in: path
          description: id
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: softDelete
          in: query
          description: softDelete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/scripts':
    get:
      tags:
        - tessell-script
      summary: Get a list of Scripts
      operationId: getScriptsServiceView
      parameters:
        - name: name
          in: query
          description: Filter result based on the specified name
          required: false
          style: form
          schema:
            type: string
        - name: engine-type
          in: query
          description: Filter result based on the specified database engine type
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        - name: script-type
          in: query
          description: Filter result based on the specified script types
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: "#/components/schemas/ScriptType"
        - name: load-versions
          in: query
          description: Specify if the versions are to be fetched for the script
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
        - $ref: 'common-specification.yaml#/components/parameters/owners'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetScriptsServiceApiResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - tessell-script
      summary: Request to create a new Script
      operationId: createScriptServiceView
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateScriptPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellScriptServiceViewDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/scripts/{id}':
    get:
      tags:
        - tessell-script
      summary: Get information about a Script
      operationId: getScriptServiceView
      parameters:
        - name: id
          in: path
          description: ID of the Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: load-versions
          in: query
          description: Specify if the versions are to be fetched for the script
          required: false
          style: form
          schema:
            type: boolean
            default: true
        - $ref: 'common-specification.yaml#/components/parameters/loadAcls'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellScriptServiceViewDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    patch:
      tags:
        - tessell-script
      summary: Update the specified Script
      operationId: updateScriptServiceView
      parameters:
        - name: id
          in: path
          description: ID of the Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTessellScriptServicePayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellScriptServiceViewDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-script
      summary: Delete the specified Script
      operationId: deleteScriptServiceView
      parameters:
        - name: id
          in: path
          description: ID of the Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/scripts/{id}/{action}':
    patch:
      tags:
        - tessell-script
      summary: Update the Script's maturity status
      operationId: updateScriptMaturity
      parameters:
        - name: id
          in: path
          description: ID of the Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: action
          in: path
          description: Maturity status for the Script, which could be any of - DRAFT, PUBLISH, or UNPUBLISH
          required: true
          style: simple
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/tessell-ops/scripts/{id}/versions':
    get:
      tags:
        - tessell-script
      summary: Get a list of available versions for the Script Ops
      operationId: getScriptVersions
      parameters:
        - name: id
          in: path
          description: Id of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: version
          in: query
          description: Script version
          required: false
          style: form
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetScriptVersionsApiResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/scripts/{id}/versions/{version}':
    get:
      tags:
        - tessell-script
      summary: Get Tessell Script version Ops
      operationId: getScriptVersion
      parameters:
        - name: id
          in: path
          description: Id of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: version
          in: path
          description: Version of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellScriptVersionDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - tessell-script
      summary: Update a Tessell Script Version
      operationId: updateScriptVersion
      parameters:
        - name: id
          in: path
          description: Id of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: version
          in: path
          description: Version of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TessellScriptVersionDTO'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellScriptVersionDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-script
      summary: Delete a new Tessell Script Version
      operationId: deleteScriptVersion
      parameters:
        - name: id
          in: path
          description: Id of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: version
          in: path
          description: Version of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
        - name: soft-delete
          in: query
          description: Soft delete
          required: false
          style: form
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/scripts/{id}/versions/{version}/content':
    get:
      tags:
        - tessell-script
      summary: Download Tessell Script Content
      operationId: downloadScriptContent
      parameters:
        - name: id
          in: path
          description: Id of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: version
          in: path
          description: Version of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
      responses:
        200:
          description: OK
          content:
            application/octet-stream:
              schema:
                type: string
                format: byte
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    post:
      tags:
        - tessell-script
      summary: Upload Tessell Script Version blob
      operationId: uploadScriptContentOpsRequest
      parameters:
        - name: id
          in: path
          description: Id of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: version
          in: path
          description: Version of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateScriptVersionOpsPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellScriptVersionDTO'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/backups/pre-auth-urls':
    get:
      tags:
        - dmm
      summary: get pre auth urls based on query params
      operationId: getPreAuthUrls
      parameters:
        - name: dmmId
          in: path
          description: Id of the availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: backupId
          in: query
          description: ID of backup
          style: form
          schema:
            type: string
            format: uuid
        - name: source-backup-identifier
          in: query
          description: source backup id
          style: form
          schema:
            type: string
            format: uuid
        - name: user
          in: query
          description: user email id
          style: form
          schema:
            type: string
        - name: statuses
          in: query
          description: statuses of pre auth urls
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/PreAuthUrlStatusOps'
        - name: skip-statuses
          in: query
          description: skip-statuses
          required: false
          style: form
          schema:
            type: array
            items:
              $ref: '#/components/schemas/PreAuthUrlStatusOps'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PreAuthUrlDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmmId}/backups/{backupId}/pre-auth-urls':
    get:
      tags:
        - dmm
      summary: get pre auth urls for native backup
      operationId: getAllPreAuthUrlForBackupId
      parameters:
        - name: dmmId
          in: path
          description: Id of the availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: backupId
          in: path
          description: ID of backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PreAuthUrlDTO'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/tessell-ops/dmms/{dmm-id}/backups/{backup-id}/pre-auth-urls/{id}':
    get:
      tags:
        - dmm
      summary: get pre auth urls by id
      operationId: getPreAuthUrl
      parameters:
        - name: dmm-id
          in: path
          description: Id of the availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: backup-id
          in: path
          description: ID of Backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: id of pre auth url
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/PreAuthUrlDTO'

        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - dmm
      summary: patch pre auth url by id
      operationId: updatePreAuthUrl
      parameters:
        - name: dmm-id
          in: path
          description: Id of the availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: backup-id
          in: path
          description: ID of Backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: id of pre auth url
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PreAuthUrlDTO'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'

        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - dmm
      summary: mark pre auth url delete
      operationId: deletePreAuthUrl
      parameters:
        - name: dmm-id
          in: path
          description: Id of the availability machine
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: backup-id
          in: path
          description: ID of Backup
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: id
          in: path
          description: id of pre auth url
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'

        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  '/scripts/{id}/versions':
    get:
      tags:
        - tessell-script
      summary: Get Tessell Script versions
      operationId: getScriptVersionsServiceView
      parameters:
        - name: id
          in: path
          description: Id of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: version
          in: query
          description: Script version
          required: false
          style: form
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/GetScriptVersionsServiceApiResponse'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - tessell-script
      summary: Create a new Tessell Script Version
      operationId: createScriptVersionServiceView
      parameters:
        - name: id
          in: path
          description: Id of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateScriptVersionPayload'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellScriptVersionServiceView'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/scripts/{id}/versions/{version}':
    get:
      tags:
        - tessell-script
      summary: Get Tessell Script versions
      operationId: getScriptVersionServiceView
      parameters:
        - name: id
          in: path
          description: Id of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: version
          in: path
          description: Version of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
        - $ref: 'common-specification.yaml#/components/parameters/timeZone'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellScriptVersionServiceView'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-script
      summary: Delete a new Tessell Script Version
      operationId: deleteScriptVersionServiceView
      parameters:
        - name: id
          in: path
          description: Id of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: version
          in: path
          description: Version of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  '/scripts/{id}/versions/{version}/content':
    get:
      tags:
        - tessell-script
      summary: Download Tessell Script Content
      operationId: downloadScriptContentServiceView
      parameters:
        - name: id
          in: path
          description: Id of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: version
          in: path
          description: Version of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
      responses:
        200:
          description: OK
          content:
            application/octet-stream:
              schema:
                type: string
                format: byte
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    post:
      tags:
        - tessell-script
      summary: Upload Tessell Script Version blob
      operationId: uploadScriptContentServiceView
      parameters:
        - name: id
          in: path
          description: Id of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: version
          in: path
          description: Version of the Tessell Script
          required: true
          style: simple
          schema:
            type: string
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CreateTessellScriptVersionServicePayloadDTO'
      responses:
        '200':
          description: OK
          content:
            'application/json':
              schema:
                $ref: '#/components/schemas/TessellScriptVersionServiceView'
        '201':
          description: Created
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /scripts/{id}/acls:
    get:
      tags:
        - tessell-script
      summary: Get list of ACLs for the Script
      operationId: getScriptAcls
      parameters:
        - name: id
          in: path
          description: Id of the Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingInfo'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    patch:
      tags:
        - tessell-script
      summary: Create/update the Script ACLs
      operationId: createScriptAcls
      parameters:
        - name: id
          in: path
          description: Id of the Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: 'common-specification.yaml#/components/schemas/AclPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/AclPayload'
        '204':
          description: No Content
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
    delete:
      tags:
        - tessell-script
      summary: Revoke Script ACLs
      operationId: revokeScriptAcls
      parameters:
        - name: id
          in: path
          description: Id of the Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: 'common-specification.yaml#/components/schemas/AclRevokePayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /scripts/{id}/acls/eligible-users:
    get:
      tags:
        - tessell-script
      summary: Get list of all the users by privileges
      operationId: getEligibleUsersForScript
      parameters:
        - name: id
          in: path
          description: Id of the Script
          required: true
          style: simple
          schema:
            type: string
            format: uuid
        - name: roles
          in: query
          description: roles
          required: false
          style: form
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: 'common-specification.yaml#/components/schemas/AclEligibleUser'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiError
  /tessell-ops/storages/{storage-id}/snapshots:
    post:
      tags:
        - tessell-storage-snapshot
      summary: Creates a metadata entry for Snapshot of a Storage
      operationId: createStorageSnapshotOps
      parameters:
        - $ref: '#/components/parameters/storage-id-in-path-required'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StorageSnapshotOps'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: '#/components/schemas/StorageSnapshotOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/storages/{storage-id}/snapshots/{snapshot-id}:
    patch:
      tags:
        - tessell-storage-snapshot
      summary: Updates a metadata entry for Snapshot of a Storage
      operationId: updateStorageSnapshotOps
      parameters:
        - $ref: '#/components/parameters/storage-id-in-path-required'
        - $ref: '#/components/parameters/snapshot-id-in-path-required'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StorageSnapshotOps'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: '#/components/schemas/StorageSnapshotOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    get:
      tags:
        - tessell-storage-snapshot
      summary: Returns the snapshot of a storage details
      operationId: getStorageSnapshotOps
      parameters:
        - $ref: '#/components/parameters/storage-id-in-path-required'
        - $ref: '#/components/parameters/snapshot-id-in-path-required'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: '#/components/schemas/StorageSnapshotOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    delete:
      tags:
        - tessell-storage-snapshot
      summary: Delete the snapshot of a storage
      operationId: deleteStorageSnapshotOps
      parameters:
        - $ref: '#/components/parameters/storage-id-in-path-required'
        - $ref: '#/components/parameters/snapshot-id-in-path-required'
        - $ref: '#/components/parameters/soft-delete-in-query'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: 'common-specification.yaml#/components/schemas/apiStatus'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/storages/snapshots:
    post:
      tags:
        - tessell-storage-snapshot
      summary: Creates metadata entries for given storage snapshots
      operationId: createStorageSnapshotsOps
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/StorageSnapshotOps'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/StorageSnapshotOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    patch:
      tags:
        - tessell-storage-snapshot
      summary: Updates multiple metadata storage-snapshot entries.
      operationId: updateStorageSnapshotsOps
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/StorageSnapshotOps'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/StorageSnapshotOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
    get:
      tags:
        - tessell-storage-snapshot
      summary: Returns all the storage-snapshot entities per the filter parameters
      operationId: getStorageSnapshotsOps
      parameters:
        - $ref: '#/components/parameters/storage-id-in-query'
        - $ref: '#/components/parameters/database-backup-id-in-query'
        - $ref: '#/components/parameters/storage-statuses-in-query'
        - $ref: '#/components/parameters/storage-skip-statuses-in-query'
        - $ref: '#/components/parameters/storage-types-in-query'
        - $ref: 'common-specification.yaml#/components/parameters/pageOffset'
        - $ref: 'common-specification.yaml#/components/parameters/pageSize'
      responses:
        '200':
          description: OK
          content:
            "application/json":
              schema:
                $ref: '#/components/schemas/StorageSnapshotsResponseOps'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
  /tessell-ops/leaks/backups:
    get:
      tags:
        - tessell-leak-evaluation
      summary: Detects the snapshot leaks
      operationId: getLeakEvaluationForBackups
      parameters:
        - $ref: 'common-specification.yaml#/components/parameters/tenant-id-in-header-required'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/LeakEvaluationBackupPayload'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/LeakEvaluationForBackup'
        default:
          description: API error response
          content:
            application/json:
              schema:
                $ref: common-specification.yaml#/components/schemas/ApiErrorOps
components:
  schemas:
    SetupPitrDapTaskPayload:
      type: object
      properties:
        dmmId:
          type: string
          format: uuid
        dapId:
          type: string
          format: uuid
        cloudAccountId:
          type: string
          format: uuid
        tenantId:
          type: string
          format: uuid
        oneTimeReplication:
          $ref: '#/components/schemas/SetupPitrDapOneTimeRepl'
        replicationConfigToAdd:
          type: array
          items:
            $ref: '#/components/schemas/SetupPitrDapReplPerSub'
        replicationConfigToDelete:
          type: array
          items:
            $ref: '#/components/schemas/SetupPitrDapReplPerSub'
    SetupPitrDapOneTimeRepl:
      type: object
      properties:
        fromTime:
          type: string
          format: date-time
        toTime:
          type: string
          format: date-time
    SetupPitrDapReplPerSub:
      type: object
      properties:
        subscriptionId:
          type: string
          format: uuid
        cloudAndRegions:
          type: array
          items:
            $ref: '#/components/schemas/SetupPitrDapReplCloudAndRegions'
    SetupPitrDapReplCloudAndRegions:
      type: object
      properties:
        cloudAccountId:
          type: string
          format: uuid
        cloudLocations:
          type: array
          items:
            type: string
    UpdateDapReplStatusPayload:
      type: object
      properties:
        dmmIds:
          type: array
          items:
            type: string
            format: uuid
    UpdateDapReplStatusTaskPayload:
      type: object
      properties:
        dmmInfo:
          type: array
          items:
            $ref: '#/components/schemas/UpdateDapReplStatusPerDmmTaskPayload'
    UpdateDapReplStatusPerDmmTaskPayload:
      type: object
      properties:
        dmmId:
          type: string
          format: uuid
        tenantId:
          type: string
          format: uuid
    LeakEvaluationBackupPayload:
      type: object
      properties:
        cloudResourceId:
          type: string
    LeakEvaluationForBackup:
      type: object
      properties:
        tenantId:
          type: string
          format: uuid
        tenantName:
          type: string
        backupId:
          type: string
          format: uuid
        dbBackupType:
          $ref: '#/components/schemas/DbBackupType'
        backupType:
          $ref: '#/components/schemas/BackupType'
        isLeak:
          $ref: 'common-specification.yaml#/components/schemas/LeakStatus'
        cloudResourceId:
          type: string
          description: Cloud Resource Id of the storage
        name:
          type: string
          description: Name of the backup
        status:
          $ref: '#/components/schemas/DbBackupStatus'
        associatedWithAM:
          $ref: '#/components/schemas/AssociatedWithAMForLeaks'
    AssociatedWithAMForLeaks:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        status:
          $ref: '#/components/schemas/DmmStatus'
    CloneDatabaseConfigurationPayload:
      title: CloneDatabaseConfigurationPayload
      type: object
      properties:
        autoMinorVersionUpdate:
          type: boolean
        enableDeletionProtection:
          type: boolean
        licenseType:
          type: string
        optionsProfile:
          type: string
        parameterProfileId:
          type: string
          format: uuid
        softwareImageVersion:
          type: string
    CloneDatabaseInfrastructurePayload:
      title: CloneDatabaseInfrastructurePayload
      type: object
      properties:
        availabilityZone:
          type: string
        cloud:
          type: string
        computeType:
          type: string
        vpcName:
          type: string
        region:
          type: string
        databasePort:
          type: integer
        enablePublicAccess:
          type: boolean
        allowedIpAddresses:
          type: array
          items:
            type: string
        additionalStorage:
          type: integer
    CreateBackupInternalTaskPayload:
      title: CreateBackupInternalTaskPayload
      type: object
      properties:
        backupId:
          type: string
          format: uuid
          description: To be provided if backup entry is already present in the db
        backupName:
          type: string
        description:
          type: string
        computeResourceId:
          type: string
          format: uuid
          description: The compute resource on which this snapshot would be taken
        forPitr:
          type: boolean
          default: false
        fullBackup:
          type: boolean
          default: false
        extra:
          type: boolean
          default: false
        internal:
          type: boolean
          default: false
        retentionType:
          $ref: '#/components/schemas/DbBackupRetentionType'
        applicableRetentionTypes:
          type: array
          items:
            $ref: '#/components/schemas/DbBackupRetentionType'
        expiryTime:
          type: string
          format: date-time
        dapBackupReplicationInfo:
          type: array
          items:
            $ref: '#/components/schemas/ReplicateDapBackupInfo'
        sanitizationInfo:
          type: array
          items:
            $ref: '#/components/schemas/SanitizationTriggerInfo'
    CloneBackupValidationPayload:
      title: CloneBackupValidationPayload
      type: object
      properties:
        backupId:
          type: string
          format: uuid
        pitr:
          type: string
        maximumRecoverability:
          type: boolean
          default: false
        cloudType:
          type: string
        cloudAccountId:
          type: string
          format: uuid
        region:
          type: string
        availabilityZone:
          type: string
        subscriptionId:
          type: string
          format: uuid
        subscription:
          type: string
        ownerId:
          type: string
        owner:
          type: boolean
          default: false
    CloneBackupValidationResponse:
      title: CloneBackupValidationResponse
      type: object
      properties:
        status:
          type: string
        userMessage:
          type: string
        message:
          type: string
        errorCode:
          type: string
        tessellServiceId:
          type: string
          format: uuid
        availabilityMachineId:
          type: string
          format: uuid
        backupId:
          type: string
          format: uuid
        pitr:
          type: string
        maximumRecoverability:
          type: boolean
          default: false
        cloudType:
          type: string
        region:
          type: string
        availabilityZone:
          type: string
        subscriptionId:
          type: string
          format: uuid
        subscription:
          type: string
        ownerId:
          type: string
        rpoBased:
          type: boolean
          default: true
        manualBackup:
          type: boolean
          default: true
        dapId:
          type: string
          format: uuid
        dapName:
          type: string
        availabilityMachineName:
          type: string
        backupName:
          type: string
        backupType:
          $ref: '#/components/schemas/BackupType'
        backup:
          $ref: '#/components/schemas/DatabaseBackupOps'
    SanitizationTriggerInfo:
      title: SanitizationTriggerInfo
      type: object
      properties:
        sanitizationScheduleId:
          type: string
          format: uuid
        retentionType:
          $ref: '#/components/schemas/DbBackupRetentionType'
        applicableRetentionTypes:
          type: array
          items:
            $ref: '#/components/schemas/DbBackupRetentionType'
        dapBackupReplicationInfo:
          type: array
          items:
            $ref: '#/components/schemas/ReplicateDapBackupInfo'
    ReplicateDapBackupInfo:
      title: ReplicateDapBackupInfo
      type: object
      properties:
        dapId:
          type: string
          format: uuid
        retentionType:
          $ref: '#/components/schemas/DbBackupRetentionType'
        forPitr:
          type: boolean
          default: false
        applicableRetentionTypes:
          type: array
          items:
            $ref: '#/components/schemas/DbBackupRetentionType'
        replicationDispatched:
          type: boolean
          default: false
    CreateDatabaseSnapshotTaskPayload:
      title: CreateDatabaseSnapshotTaskPayload
      type: object
      description: Payload to create an as-is snapshot for the DB Service
      required:
        - name
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: Name for the snapshot
        description:
          type: string
          minLength: 0
          maxLength: 512
          nullable: true
          description: Description for the snapshot
    CreateBackupTaskPayload:
      title: CreateBackupTaskPayload
      type: object
      description: Payload to create a backup
      required:
        - name
      properties:
        snapshotId:
          format: uuid
          type: string
          nullable: true
          description: ID of the snapshot from which the backup is to be derived
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: Name for the backup
    CreateSanitizedDatabaseSnapshotTaskPayload:
      title: CreateSanitizedDatabaseSnapshotTaskPayload
      type: object
      description: Payload to create a sanitized snapshot
      required:
        - name
        - snapshotId
        - scriptId
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: Name for the sanitized snapshot, which is to be created
        description:
          type: string
          minLength: 0
          maxLength: 512
          nullable: true
          description: Description for the sanitized snapshot
        snapshotId:
          type: string
          format: uuid
          description: ID of the source snapshot (which is to be sanitized)
        scriptId:
          type: string
          format: uuid
          description: ID of the Sanitization Script, which is to be used for data sanitization
        scriptVersion:
          type: string
          minLength: 0
          maxLength: 128
          description: Version of the Sanitization Script
    TessellDeleteDbCallbackPayload:
      title: TessellDeleteDbCallbackPayload
      type: object
      properties:
        retainAvailabilityMachine:
          type: boolean
          default: false
    TessellDatabaseBackupsInternalResponse:
      title: TessellDatabaseBackupsInternalResponse
      type: object
      properties:
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    SnapshotSizeRefreshMetadata:
      title: SnapshotSizeRefreshMetadata
      type: object
      properties:
        perTenantAmInfo:
          type: array
          items:
            $ref: '#/components/schemas/PerTenantAmRefreshSizeInfo'
    UpdateSnapshotSizePayload:
      title: UpdateSnapshotSizePayload
      type: object
      properties:
        tenantId:
          type: string
        amId:
          type: string
          format: uuid
        backups:
          type: array
          items:
            $ref: '#/components/schemas/UpdateSnapshotSizeInfo'
        secondaryBackups:
          type: array
          items:
            $ref: '#/components/schemas/UpdateSnapshotSizeInfo'
    UpdateSnapshotSizeInfo:
      type: object
      title: UpdateSnapshotSizeInfo
      required:
        - backupId
        - sizeInfo
      properties:
        backupId:
          type: string
          format: uuid
        sizeInfo:
          $ref: '#/components/schemas/DbBackupSizeInfo'
    PerTenantAmRefreshSizeInfo:
      type: object
      title: PerTenantAmRefreshSizeInfo
      required:
        - tenantId
      properties:
        tenantId:
          type: string
        amIds:
          type: array
          uniqueItems: true
          items:
            type: string
            format: uuid
    RefreshSnapshotSizeTaskPayload:
      title: RefreshSnapshotSizeTaskPayload
      type: object
      properties:
        onDemandRequest:
          type: boolean
          default: false
        perTenantAmInfo:
          type: array
          items:
            $ref: '#/components/schemas/PerTenantAmRefreshSizeInfo'
    DeleteAmEntitiesTaskPayload:
      title: DeleteAmEntitiesTaskPayload
      type: object
      properties:
        ams:
          type: array
          items:
            type: object
            properties:
              amId:
                type: string
                format: uuid
    DeleteBackupDbLogTaskPayload:
      title: DeleteBackupDbLogTaskPayload
      type: object
      properties:
        amDeleteInfo:
          type: object
          additionalProperties:
            type: object
            $ref: '#/components/schemas/DeleteBackupDbLogForAmPayload'
        amIdsToBeDeleted:
          type: array
          items:
            type: string
            format: uuid
        dapIdsToBeDeleted:
          type: array
          items:
            type: string
            format: uuid
        sanitizationScheduleIdsToBeDeleted:
          type: array
          items:
            type: string
            format: uuid
    DeleteBackupDbLogForAmPayload:
      title: DeleteBackupDbLogForAmPayload
      type: object
      properties:
        amName:
          type: string
        databaseId:
          type: string
          format: uuid
        databaseName:
          type: string
        backupIds:
          type: array
          items:
            type: string
            format: uuid
        dbLogIds:
          type: array
          items:
            type: string
            format: uuid
        dapDeleteInfo:
          type: object
          additionalProperties:
            type: object
            $ref: '#/components/schemas/DeleteBackupDbLogForDapPayload'
        nonDapSecondaryBackupIds:
          type: array
          items:
            type: string
            format: uuid
    DeleteBackupDbLogForDapPayload:
      title: DeleteBackupDbLogForDapPayload
      type: object
      properties:
        dapName:
          type: string
        secondaryBackupIds:
          type: array
          items:
            type: string
            format: uuid
        dbLogIds:
          type: array
          items:
            type: string
            format: uuid
    CreateDapPayload:
      title: CreateDapPayload
      type: object
      description: Payload to create an Access Policy (DAP) and the associated configuration
      required:
        - name
        - contentType
        - targetCloudLocations
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: Name of the Access Policy
        contentType:
          $ref: '#/components/schemas/DapContentType'
          description: Type of data content (as-is, sanitized, backup) that this Access Policy is entitled to manage
        contentInfo:
          $ref: '#/components/schemas/CreateDapContentInfoPayload'
          description: Information about the data content that is being managed by this Access Policy
        dataAccessConfig:
          $ref: '#/components/schemas/DapRetentionInfo'
          description: Configuration for retention and expiration of data that is being managed by this Access Policy
        targetCloudLocations:
          type: object
          additionalProperties:
            type: array
            items:
              type: string
          description: The cloud and region information where the data is being managed by this Access Policy
        users:
          type: array
          items:
            type: string
          description: List of users who have access to the data/content managed by this Access Policy
    UpdateDapPayload:
      title: UpdateDapPayload
      type: object
      description: Payload to update an Access Policy (DAP) and the associated configuration
      required:
        - name
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: Name of the Access Policy
        contentInfo:
          $ref: '#/components/schemas/UpdateDapContentInfoPayload'
          description: Information about the data content that is being managed by this Access Policy
        dataAccessConfig:
          $ref: '#/components/schemas/DapRetentionInfo'
          description: Configuration for retention and expiration of data that is being managed by this Access Policy
        users:
          type: array
          items:
            type: string
          description: List of users who have access to the data/content managed by this Access Policy
    CreateUpdateDmmAvailabilityPayload:
      title: CreateUpdateDmmAvailabilityPayload
      description: This is a definition for Tessell Data Management Machine's Availability details
      type: object
      properties:
        sla:
          type: string
          description: Associated SLA
        schedule:
          $ref: '#/components/schemas/ScheduleInfo'
    DailyCatalog:
      title: DailyCatalog
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    DailyCatalogServiceView:
      title: DailyCatalogServiceView
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/OldDatabaseBackup'
    DapDailyCatalogServiceView:
      title: DapDailyCatalogServiceView
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/OldDatabaseBackup'
    DapDailyCatalog:
      title: DapDailyCatalog
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    DapDatabaseAvailabilityCatalog:
      title: DapDatabaseAvailabilityCatalog
      type: object
      properties:
        daily:
          $ref: '#/components/schemas/DapDailyCatalog'
        databaseId:
          type: string
          format: uuid
        databaseName:
          type: string
        databaseStatus:
          type: string
        manual:
          $ref: '#/components/schemas/DapManualCatalog'
        monthly:
          $ref: '#/components/schemas/DapMonthlyCatalog'
        pitr:
          $ref: '#/components/schemas/DapPitrCatalog'
        quarterly:
          $ref: '#/components/schemas/DapQuarterlyCatalog'
        weekly:
          $ref: '#/components/schemas/DapWeeklyCatalog'
        yearly:
          $ref: '#/components/schemas/DapYearlyCatalog'
    DapDatabaseAvailabilityCatalogServiceView:
      title: DapDatabaseAvailabilityCatalogServiceView
      type: object
      properties:
        database:
          type: string
        manual:
          $ref: '#/components/schemas/DapManualCatalogServiceView'
        pitr:
          $ref: '#/components/schemas/DapPitrCatalogServiceView'
        daily:
          $ref: '#/components/schemas/DapDailyCatalogServiceView'
        weekly:
          $ref: '#/components/schemas/DapWeeklyCatalogServiceView'
        monthly:
          $ref: '#/components/schemas/DapMonthlyCatalogServiceView'
        quarterly:
          $ref: '#/components/schemas/DapQuarterlyCatalogServiceView'
        yearly:
          $ref: '#/components/schemas/DapYearlyCatalogServiceView'
    FromToDateTuple:
      title: FromToDateTuple
      type: object
      properties:
        fromTime:
          type: string
          format: date-time
        toTime:
          type: string
          format: date-time
    DapFromToDate:
      title: DapFromToDate
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/OldDatabaseBackup'
        fromTime:
          type: string
          format: date-time
        toTime:
          type: string
          format: date-time
    DapManualCatalog:
      title: DapManualCatalog
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    DapManualCatalogServiceView:
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/OldDatabaseBackup'
    DapMonthlyCatalog:
      title: DapMonthlyCatalog
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    DapMonthlyCatalogServiceView:
      title: DapMonthlyCatalogServiceView
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/OldDatabaseBackup'
    DapPitrCatalog:
      title: DapPitrCatalog
      type: object
      properties:
        residueTimeRange:
          type: array
          items:
            $ref: '#/components/schemas/FromToDate'
        timeRanges:
          type: array
          items:
            $ref: '#/components/schemas/FromToDate'
    DapPitrCatalogServiceView:
      title: DapPitrCatalogServiceView
      type: object
      properties:
        timeRanges:
          type: array
          items:
            $ref: '#/components/schemas/DapFromToDate'
    DapQuarterlyCatalogServiceView:
      title: DapQuarterlyCatalogServiceView
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/OldDatabaseBackup'
    DapQuarterlyCatalog:
      title: DapQuarterlyCatalog
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    DapWeeklyCatalogServiceView:
      title: DapWeeklyCatalogServiceView
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/OldDatabaseBackup'
    DapWeeklyCatalog:
      title: DapWeeklyCatalog
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    DapYearlyCatalogServiceView:
      title: DapYearlyCatalogServiceView
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/OldDatabaseBackup'
    DapYearlyCatalog:
      title: DapYearlyCatalog
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    DatabaseAvailabilityCatalog:
      title: DatabaseAvailabilityCatalog
      type: object
      properties:
        cloudLocationTillRegion:
          type: string
        tessellServiceId:
          type: string
          format: uuid
        tessellServiceName:
          type: string
        tessellServiceStatus:
          type: string
        manual:
          $ref: '#/components/schemas/ManualCatalog'
        pitr:
          $ref: '#/components/schemas/PitrCatalog'
        daily:
          $ref: '#/components/schemas/DailyCatalog'
        weekly:
          $ref: '#/components/schemas/WeeklyCatalog'
        monthly:
          $ref: '#/components/schemas/MonthlyCatalog'
        quarterly:
          $ref: '#/components/schemas/QuarterlyCatalog'
        yearly:
          $ref: '#/components/schemas/YearlyCatalog'
    DatabaseAvailabilityCatalogServiceView:
      title: DatabaseAvailabilityCatalogServiceView
      type: object
      properties:
        cloudLocationTillRegion:
          type: string
        tessellService:
          type: string
        tessellServiceStatus:
          type: string
        manual:
          $ref: '#/components/schemas/ManualCatalogServiceView'
        pitr:
          $ref: '#/components/schemas/PitrCatalogServiceView'
        daily:
          $ref: '#/components/schemas/DailyCatalogServiceView'
        weekly:
          $ref: '#/components/schemas/WeeklyCatalogServiceView'
        monthly:
          $ref: '#/components/schemas/MonthlyCatalogServiceView'
        quarterly:
          $ref: '#/components/schemas/QuarterlyCatalogServiceView'
        yearly:
          $ref: '#/components/schemas/YearlyCatalogServiceView'
    DbBackupLineageInfo:
      title: DbBackupLineageInfo
      type: object
      properties:
        backupId:
          type: string
          format: uuid
        dmmId:
          type: string
          format: uuid
        status:
          type: string
        message:
          type: string
        initPrimaryBackupId:
          type: string
          format: uuid
          description: The initial primary backup which was captured by plugin. This backup would get replicated to other source or DAP regions.
        primaryBackups:
          type: object
          additionalProperties:
            type: array
            items:
              $ref: '#/components/schemas/DatabaseBackupOps'
        secondaryBackups:
          type: object
          additionalProperties:
            type: array
            items:
              $ref: '#/components/schemas/DatabaseBackupOps'
    DbBackupCloudResourceSharingInfo:
      title: DbBackupCloudResourceSharingInfo
      type: object
      properties:
        dmmId:
          type: string
          format: uuid
        cloudResourceId:
          type: string
        cloudType:
          type: string
        cloudAccountIds:
          uniqueItems: true
          type: array
          items:
            type: string
            format: uuid
        status:
          type: string
        message:
          type: string
        leakageEvaluationReport:
          type: object
          properties:
            associatedWithAm:
              type: boolean
              default: false
            detectedAsLeak:
              type: boolean
              default: false
            leakDetectionSummary:
              type: string
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    DbBackupLockingInfo:
      title: DbBackupLockingInfo
      type: object
      description: Backup locking information
      properties:
        acquireTime:
          type: string
          format: date-time
          description: Time when the lock is acquired
        releaseTime:
          type: string
          format: date-time
          description: Time when the lock should be released
        subscribers:
          type: object
          description: Subscribers who have requested the lock
          additionalProperties:
            type: string
    DbBackupSizeInfo:
      title: DbBackupSizeInfo
      type: object
      description: Backup size information
      properties:
        backupPhysicalSize:
          type: integer
          format: int64
          description: Physical size (in bytes) of the backup in underlying cloud
        backupLogicalSize:
          type: integer
          format: int64
          description: Restorable size of the backup
    DbBackupDriverInfo:
      title: DbBackupDriverInfo
      type: object
      description: Backup metadata information for driver use
      properties:
        data:
          type: object
        databaseSoftwareImageId:
          type: string
          format: uuid
          description: Software Image Id of parent database at the time capturing the backup
        databaseVersion:
          type: string
          description: Version of parent database at the time capturing the backup
        databaseComputeId:
          type: string
          format: uuid
          description: Compute Id of parent database at the time capturing the backup
        databaseNetworkProfileId:
          type: string
          format: uuid
          description: Network Profile Id of parent database at the time capturing the backup
        databaseOptionProfileId:
          type: string
          format: uuid
          description: Option Profile Id of parent database at the time capturing the backup
        databaseParameterProfileId:
          type: string
          format: uuid
          description: Parameter Profile Id of parent database at the time capturing the backup
        characterSet:
          type: string
          description: Character set of parent database at the time capturing the backup
    TaskProgressEstimate:
      type: object
      properties:
        referenceTime:
          type: string
          format: date-time
        expectedTimeInMins:
          type: integer
          format: int32
    DbBackupMetadata:
      title: DbBackupMetadata
      type: object
      description: Database Backup's metadata information
      properties:
        taskProgressEstimate:
          $ref: '#/components/schemas/TaskProgressEstimate'
        markedForDeletionAt:
          type: string
          format: date-time
        forPitr:
          type: boolean
          default: false
        extra:
          type: boolean
          default: false
        isRetrying:
          type: boolean
        applicableRetentionTypes:
          type: array
          items:
            $ref: '#/components/schemas/DbBackupRetentionType'
        lastRetentionType:
          $ref: '#/components/schemas/DbBackupRetentionType'
        data:
          type: object
        databaseIds:
          type: array
          items:
            type: string
            format: uuid
        copyOfBackupId:
          type: string
          format: uuid
        sanitizationInfo:
          $ref: '#/components/schemas/BackupSanitizationInfo'
        backupBasedSnapshot:
          type: boolean
          default: false
          description: Specify whether the snapshot is created on top of native backup
    BackupSanitizationInfo:
      title: BackupSanitizationInfo
      type: object
      properties:
        sanitizationScheduleId:
          type: string
          format: uuid
        sanitizedFromBackupDapBased:
          type: boolean
          default: false
        scriptVersion:
          type: string
        scriptInternalVersion:
          type: integer
          format: int32
    DbBackupStatInfo:
      title: DbBackupStatInfo
      type: object
      description: Database Backup stats information
      properties:
        databases:
          type: array
          items:
            $ref: '#/components/schemas/BackupDatabaseInfoOps'
        data:
          type: object
    BackupDatabaseInfoOps:
      title: BackupDatabaseInfoOps
      type: object
      properties:
        databaseId:
          type: string
          format: uuid
        databaseName:
          type: string
        databaseStatus:
          type: string
    DbLogDriverInfo:
      title: DbLogDriverInfo
      type: object
      properties:
        data:
          type: object
        logs:
          type: array
          items:
            $ref: '#/components/schemas/DbLogFileInfo'
    DbLogFileInfo:
      title: DbLogFileInfo
      type: object
      properties:
        fileName:
          type: string
        info:
          type: object
        storageFileId:
          type: string
    DbLogMetadata:
      title: DbLogMetadata
      type: object
      properties:
        data:
          type: object
    DbPitrChainInfo:
      title: DbPitrChainInfo
      type: object
      properties:
        backupChain:
          $ref: '#/components/schemas/DbBackupChainInfo'
        cloudAccountId:
          type: string
          format: uuid
        cloudLocation:
          type: string
        dbLogs:
          type: array
          items:
            $ref: '#/components/schemas/TessellDbLogDTO'
        dbLogsCount:
          type: integer
          format: int32
        dmmId:
          type: string
          format: uuid
        message:
          type: string
        status:
          type: string
        timeStamp:
          type: string
        timeZone:
          type: string

    DbBackupChainInfo:
      title: DbBackupChainInfo
      type: object
      properties:
        backupId:
          type: string
          format: uuid
        dapId:
          type: string
          format: uuid
        dmmId:
          type: string
          format: uuid
        message:
          type: string
        status:
          type: string
        backupCount:
          type: integer
          format: int32
        backup:
          $ref: '#/components/schemas/DatabaseBackupOps'
        backupChain:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    DmmAvailabilityDriverInfo:
      title: DmmAvailabilityDriverInfo
      type: object
      description: Metadata for driver use
      properties:
        data:
          type: object
    DBServiceTopology:
      title: DBServiceTopology
      type: object
      properties:
        type:
          $ref: 'database-system-api.yaml#/components/schemas/TessellServiceInstanceType'
        cloudType:
          $ref: 'common-specification.yaml#/components/schemas/cloudType'
        region:
          type: string
        availabilityZones:
          type: array
          items:
            type: string
    DBServiceTopologyOps:
      title: DBServiceTopologyOps
      type: object
      properties:
        type:
          $ref: 'database-system-api.yaml#/components/schemas/TessellServiceInstanceType'
        cloudType:
          $ref: 'common-specification.yaml#/components/schemas/cloudType'
        cloudAccountId:
          type: string
          format: uuid
        instanceGroupId:
          type: string
          format: uuid
        availability:
          type: array
          items:
            type: object
            properties:
              instanceId:
                type: string
                format: uuid
              role:
                $ref: 'database-system-api.yaml#/components/schemas/TessellServiceInstanceRole'
              deleted:
                type: boolean
                default: false
              region:
                type: string
              availabilityZone:
                type: string
              cloudLocation:
                type: string
    DmmAvailabilityMetadata:
      title: DmmAvailabilityMetadata
      type: object
      description: Metadata for backend use
      properties:
        topologyLastRefreshTime:
          type: string
          format: date-time
        topology:
          type: array
          items:
            $ref: '#/components/schemas/DBServiceTopologyOps'
        lastAutoBackupTaskSubmissionTime:
          type: string
          format: date-time
        lastAutoBackupTriggerTime:
          type: string
          format: date-time
        lastSlaExecutionTime:
          type: string
          format: date-time
        dispatchAutoBackupImmediately:
          type: boolean
        dispatchAutoBackupReason:
          type: string
        dispatchAutoBackupForPitr:
          type: boolean
        irrespectiveOfSla:
          type: boolean
        fullBackup:
          type: boolean
        useNameAsIs:
          type: boolean
        makeVisibleToUser:
          type: boolean
        markAsManual:
          description: If the snapshot should be marked as a manual snapshot.
          type: boolean
        data:
          type: object
        cloudType:
          type: string
        cloudAccountId:
          type: string
          format: uuid
          description: >-
            The cloud account Id, where the database backups should be
            made available to
        cloudLocations:
          type: array
          items:
            type: string
        computeResourceId:
          type: string
          format: uuid
          description: The compute resource on which this snapshot would be or is taken
    DmmDispatchOnDemandAutoBackupTaskPayload:
      title: DmmDispatchOnDemandAutoBackupTaskPayload
      type: object
      properties:
        reason:
          type: string
        useNameAsIs:
          type: boolean
          default: true
        irrespectiveOfSla:
          type: boolean
          default: true
        makeVisibleToUser:
          type: boolean
        fullBackup:
          type: boolean
          default: false
        computeResourceId:
          type: string
          format: uuid
          description: The compute resource on which this snapshot would be taken
        markAsManual:
          type: boolean
          description: Whether the snapshot should be marked as manual or not. This will only take impact if irrespectiveOfSla is set to true.
          default: false
    DmmDriverInfo:
      title: DmmDriverInfo
      type: object
      description: DMM metadata for driver use
      properties:
        data:
          type: object
    DmmMetadata:
      title: DmmMetadata
      type: object
      description: DMM Metadata information
      properties:
        databaseName:
          type: string
        databaseId:
          type: string
          format: uuid
        expectedExpiryTime:
          type: string
          format: date-time
        tsm:
          type: boolean
          default: false
          description: Specify whether the associated DB Service is created using TSM compute type
        backupConfiguration:
          $ref: '#/components/schemas/InitialBackupConfiguration'
        data:
          type: object
    FromToDate:
      title: FromToDate
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
        fromTime:
          type: string
          format: date-time
        logs:
          type: array
          items:
            $ref: '#/components/schemas/TessellDbLogDTO'
        toTime:
          type: string
          format: date-time
    FromToDateServiceView:
      title: FromToDateServiceView
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/OldDatabaseBackup'
        fromTime:
          type: string
          format: date-time
        toTime:
          type: string
          format: date-time
    InitialBackupConfiguration:
      title: InitialBackupConfiguration
      description: This stores the initial snapshot/backup configuration at the provision
      type: object
      properties:
        backupSla:
          type: string
        backupSlaId:
          type: string
          format: uuid
        retentionInfo:
          $ref: '#/components/schemas/TamRetentionInfo'
        schedule:
          $ref: '#/components/schemas/ScheduleInfo'
        fullBackupSchedule:
          $ref: '#/components/schemas/FullBackupSchedule'
        backupWindow:
          type: object
          description: deprecated, please use the schedule. Keeping it for backward compatibility.
          properties:
            duration:
              type: integer
              format: int32
            time:
              type: string
        autoBackup:
          type: boolean
          description: deprecated, keeping it for backward compatibility.
    ManualCatalogServiceView:
      title: ManualCatalogServiceView
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/OldDatabaseBackup'
    ManualCatalog:
      title: ManualCatalog
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    MonthlyCatalogServiceView:
      title: MonthlyCatalogServiceView
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/OldDatabaseBackup'
    MonthlyCatalog:
      title: MonthlyCatalog
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    PitrCatalogServiceView:
      title: PitrCatalogServiceView
      type: object
      properties:
        timeRanges:
          type: array
          items:
            $ref: '#/components/schemas/FromToDateServiceView'
    PitrCatalog:
      title: PitrCatalog
      type: object
      properties:
        residueTimeRange:
          type: array
          items:
            $ref: '#/components/schemas/FromToDate'
        timeRanges:
          type: array
          items:
            $ref: '#/components/schemas/FromToDate'
    ProvisionDatabaseCallbackResponse:
      title: ProvisionDatabaseCallbackResponse
      type: object
      properties:
        attributes:
          type: object
          additionalProperties:
            type: string
        payload:
          type: object
          additionalProperties:
            type: object
        status:
          $ref: '#/components/schemas/WorkflowStatus'
        workflowId:
          type: string
    QuarterlyCatalogServiceView:
      title: QuarterlyCatalogServiceView
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/OldDatabaseBackup'
    QuarterlyCatalog:
      title: QuarterlyCatalog
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    RefreshCloneDatabaseUserPayload:
      title: RefreshCloneDatabaseUserPayload
      type: object
      properties:
        snapshot:
          type: string
    RefreshDatabaseCallbackResponse:
      title: RefreshDatabaseCallbackResponse
      type: object
      properties:
        attributes:
          type: object
          additionalProperties:
            type: string
        payload:
          type: object
          additionalProperties:
            type: object
        status:
          $ref: '#/components/schemas/WorkflowStatus'
        workflowId:
          type: string
    ScheduleInfoOps:
      title: ScheduleInfoOps
      type: object
      properties:
        backupStartTime:
          $ref: '#/components/schemas/TimeFormat'
        dailySchedule:
          $ref: '#/components/schemas/DailyScheduleOps'
        weeklySchedule:
          $ref: '#/components/schemas/WeeklyScheduleOps'
        monthlySchedule:
          $ref: '#/components/schemas/MonthlyScheduleOps'
        yearlySchedule:
          $ref: '#/components/schemas/YearlySchedule'
    ScheduleInfo:
      title: ScheduleInfo
      description: Schedule Information
      type: object
      properties:
        backupStartTime:
          $ref: '#/components/schemas/TimeFormat'
        dailySchedule:
          $ref: '#/components/schemas/DailySchedule'
        weeklySchedule:
          $ref: '#/components/schemas/WeeklySchedule'
        monthlySchedule:
          $ref: '#/components/schemas/MonthlySchedule'
        yearlySchedule:
          $ref: '#/components/schemas/YearlySchedule'
    DailyScheduleOps:
      title: DailyScheduleOps
      type: object
      properties:
        backupsPerDay:
          type: integer
          format: int32
          description: The number of backups to be captured per day, this is exclusive with 'backupStartTimes'
          minimum: 0
        backupStartTimes:
          type: array
          description: List of times when backup(s) has to be captured at. If this is specified, the 'backupStartTime' (at top level) value would be overridden by the first entry in this list
          uniqueItems: true
          items:
            $ref: '#/components/schemas/TimeFormat'
    DailySchedule:
      title: DailySchedule
      type: object
      properties:
        backupsPerDay:
          type: integer
          format: int32
          description: The number of backups to be captured per day.
          minimum: 0
    WeeklyScheduleOps:
      title: WeeklyScheduleOps
      type: object
      properties:
        weekDays:
          description: Days in a week to retain weekly backups for
          uniqueItems: true
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/WeekDay'
    WeeklySchedule:
      title: WeeklySchedule
      type: object
      properties:
        days:
          description: Days in a week to retain weekly backups for
          uniqueItems: true
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/WeekDay'
            x-enum: true
    MonthlyScheduleOps:
      title: MonthlyScheduleOps
      type: object
      properties:
        commonSchedule:
          $ref: '#/components/schemas/DatesForEachMonth'
        monthSpecificSchedule:
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/MonthWiseDates'
    MonthlySchedule:
      title: MonthlySchedule
      description: Definition for taking month specific schedule.
      type: object
      properties:
        commonSchedule:
          $ref: '#/components/schemas/DatesForEachMonth'
    YearlySchedule:
      title: YearlySchedule
      type: object
      properties:
        commonSchedule:
          $ref: '#/components/schemas/commonYearlySchedule'
        monthSpecificSchedule:
          type: array
          uniqueItems: true
          required:
            - months
          items:
            $ref: '#/components/schemas/MonthWiseDates'
    commonYearlySchedule:
      title: commonYearlySchedule
      allOf:
        - $ref: '#/components/schemas/DatesForEachMonth'
        - type: object
          properties:
            months:
              type: array
              uniqueItems: true
              items:
                $ref: 'common-specification.yaml#/components/schemas/Month'
                x-enum: true
    MonthWiseDates:
      type: object
      required:
        - month
        - dates
      properties:
        month:
          $ref: 'common-specification.yaml#/components/schemas/Month'
          x-enum: true
        dates:
          uniqueItems: true
          type: array
          items:
            type: integer
            format: int32
            minimum: 1
            maximum: 31
    DatesForEachMonth:
      type: object
      properties:
        dates:
          description: Dates in a month to retain monthly backups
          uniqueItems: true
          type: array
          items:
            type: integer
            format: int32
            minimum: 1
            maximum: 31
        lastDayOfMonth:
          type: boolean
          default: false
    DapRetentionInfoOps:
      type: object
      properties:
        pitrBackups:
          description: Retention time (in days) for Point-In-Time recoverability
          type: integer
          format: int32
          default: 0
          minimum: 0
        dailyBackups:
          description: Retention time (in days) to retain daily snapshots
          type: integer
          format: int32
          default: 0
          minimum: 0
        weeklyBackups:
          description: Number of weekly backups to replicate
          type: integer
          format: int32
          default: 0
          minimum: 0
        monthlyBackups:
          description: Number of monthly backups to replicate
          type: integer
          format: int32
          default: 0
          minimum: 0
        yearlyBackups:
          description: Number of yearly backups to replicate
          type: integer
          format: int32
          default: 0
          minimum: 0
    DapRetentionInfo:
      type: object
      properties:
        pitr:
          description: Retention time (in days) for Point-In-Time recoverability
          type: integer
          format: int32
          default: 0
          minimum: 0
          maximum: 35
        dailyBackups:
          description: Retention time (in days) to retain daily snapshots
          type: integer
          format: int32
          default: 0
          minimum: 0
          maximum: 730
    TimeFormat:
      title: TimeFormat
      description: Clock time format value in hour and minute.
      type: object
      properties:
        hour:
          type: integer
          format: int32
          minimum: 0
          maximum: 23
          default: 1
        minute:
          type: integer
          format: int32
          minimum: 0
          maximum: 59
          default: 0
    ReplicateBackupsTaskPayload:
      type: object
      properties:
        dmmId:
          type: string
          format: uuid
        cloudAccountId:
          type: string
          format: uuid
        replicationInfo:
          type: array
          items:
            $ref: '#/components/schemas/BackupReplicationInfoForTaskPayload'
        sourceSubscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
    BackupReplicationInfoForTaskPayload:
      type: object
      properties:
        backupId:
          type: string
          format: uuid
        primaryBackup:
          type: boolean
        asPartOfBackupChain:
          type: boolean
        secondaryBackupInfo:
          type: array
          items:
            $ref: '#/components/schemas/SecondaryBackupReplicationInfoForTaskPayload'
    SecondaryBackupReplicationInfoForTaskPayload:
      type: object
      properties:
        secondaryBackupId:
          type: string
          format: uuid
        targetCloudAccountId:
          type: string
          format: uuid
        targetCloudLocation:
          type: string
        dapId:
          type: string
          format: uuid
        duplicateOfSecondaryBackupId:
          type: string
          format: uuid
        encryptionKeyId:
          type: string
          format: uuid
        subscriptionIds:
          type: array
          items:
            type: string
            format: uuid
    BulkDeleteTessellAmsStatusPayload:
      $ref: 'common-specification.yaml#/components/schemas/ResourceBulkDeleteResponseOps'
    BulkDeleteTessellAmsPayload:
      $ref: 'common-specification.yaml#/components/schemas/ResourceBulkDeletePayloadOps'
    BulkDeleteTessellAmContext:
      title: BulkDeleteTessellAmContext
      type: object
      properties:
        dmmId:
          type: string
          format: uuid
          description: ID of Availability machine
        AmStatus:
          $ref: '#/components/schemas/DmmStatus'
        deletionStatus:
          $ref: 'common-specification.yaml#/components/schemas/ResourceBulkDeleteStatusOps'
    CreateNativeBackupPreAuthTaskPayload:
      type: object
      properties:
        nativeBackup:
          type: boolean
        tessellServiceId:
          type: string
          format: uuid
        dbserverSystemId:
          type: string
          format: uuid
        availabilityMachineId:
          type: string
          format: uuid
        snapshotId:
          type: string
          format: uuid
        snapshotName:
          type: string
        cloudAccountId:
          type: string
          format: uuid
        taskId:
          type: string
          format: uuid
        ownerId:
          type: string
          format: uuid
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
        clone:
          type: boolean
        nativeBackupPayload:
          $ref: '#/components/schemas/NativeBackupPreAuthUrlsOpsPayload'
    PreAuthUrlsCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    BackupCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    NativeBackupCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    ReplicateBackupsCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    DeleteBackupsLogsCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    CreateDapCallbackPayload:
      $ref: 'common-specification.yaml#/components/schemas/WorkflowCallbackPayload'
    TamRetentionInfoOps:
      title: TamRetentionInfoOps
      type: object
      properties:
        pitr:
          type: integer
          format: int32
          default: 0
          minimum: 0
        daily:
          type: integer
          format: int32
          default: 0
          minimum: 0
        weekly:
          type: integer
          format: int32
          default: 0
          minimum: 0
        monthly:
          type: integer
          format: int32
          default: 0
          minimum: 0
        quarterly:
          type: integer
          format: int32
          default: 0
          minimum: 0
        yearly:
          type: integer
          format: int32
          default: 0
          minimum: 0
    TamRetentionInfo:
      title: TamRetentionInfo
      description: Retention details of the data that is being governed by the SLA
      type: object
      properties:
        pitr:
          type: integer
          format: int32
          description: Retention time (in days) for Point-In-Time recoverability
          default: 0
          minimum: 0
          maximum: 35
        daily:
          type: integer
          format: int32
          description: Retention time (in days) to retain daily snapshots
          default: 0
          minimum: 0
          maximum: 730
        weekly:
          type: integer
          format: int32
          description: Retention time (number of weeks) to retain weekly snapshots
          default: 0
          minimum: 0
          maximum: 104
        monthly:
          type: integer
          format: int32
          description: Retention time (number of months) to retain monthly snapshots
          default: 0
          minimum: 0
          maximum: 60
        yearly:
          type: integer
          format: int32
          description: Retention time (number of years) to retain yearly snapshots
          default: 0
          minimum: 0
          maximum: 30
    TessellApiResponse:
      title: TessellApiResponse
      type: object
      properties:
        metadata:
          $ref: 'common-specification.yaml#/components/schemas/apiMetadata'
        response:
          type: object
    TessellDapRetentionPolicyDTO:
      title: TessellDapRetentionPolicyDTO
      type: object
      properties:
        id:
          type: string
          format: uuid
        retentionConfig:
          $ref: '#/components/schemas/DapRetentionInfoOps'
        dateCreated:
          type: string
          format: date-time
        dateModified:
          type: string
          format: date-time
    TamSchedule:
      title: TamSchedule
      type: object
      properties:
        dateCreated:
          type: string
          format: date-time
        dateModified:
          type: string
          format: date-time
        id:
          type: string
          format: uuid
        scheduleInfo:
          $ref: '#/components/schemas/ScheduleInfoOps'
        userId:
          type: string
          format: uuid
    TamSla:
      title: TamSla
      description: This is a definition for Tessell Availability Machine SLA Object
      required:
        - name
      type: object
      properties:
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the entity was last modified
          format: date-time
        description:
          type: string
          description: Tessell Availability Machine SLA's description
        internal:
          type: boolean
          description: Flag for sla which is not user visible
        id:
          type: string
          format: uuid
          description: UUID of the SLA
        name:
          type: string
          description: Name of the entity
          example: sample_entity
        oob:
          type: boolean
          description: Specify if Tessell Availability Machine SLA is out-of-the-box
          example: false
        retentionInfo:
          $ref: '#/components/schemas/TamRetentionInfoOps'
        scope:
          $ref: '#/components/schemas/TamSlaScope'
        userId:
          type: string
          description: Tessell Availability Machine SLA's user id
          format: uuid
        maturityStatus:
          $ref: '#/components/schemas/TessellSlaMaturityStatus'
        status:
          $ref: '#/components/schemas/TessellSlaStatus'
        owner:
          type: string
        tenantId:
          type: string
        loggedInUserRole:
          type: string
          description: The role of the logged in user for accessing the Availability Machine
        sharedWith:
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingInfo'
    TamSlaServiceView:
      title: TamSlaServiceView
      type: object
      description: Information about the Availability Machine's Data Protection SLA
      properties:
        name:
          type: string
          description: Name of the SLA
        description:
          type: string
          description: Description of the SLA
        oob:
          type: boolean
          description: Specify if the SLA is out-of-the-box
          example: false
        maturityStatus:
          $ref: '#/components/schemas/TessellSlaMaturityStatus'
        retentionInfo:
          $ref: '#/components/schemas/TamRetentionInfo'
        scope:
          type: string
          description: Scope of this SLA
        user:
          type: string
          description: Owner of this SLA
          format: uuid
        owner:
          type: string
          description: Email id of SLA owner
        tenantId:
          type: string
          description: ID of this tenant under which this SLA is effective
        loggedInUserRole:
          type: string
          description: The role of the logged in user for accessing this SLA
        sharedWith:
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingInfo'
        dateModified:
          type: string
          description: Timestamp when the entity was last modified
          format: date-time
    TamSlaConsumptionView:
      title: TamSlaConsumptionView
      type: object
      properties:
        name:
          type: string
          description: Name for the SLA
        description:
          type: string
          description: Description for the SLA
        maturityStatus:
          $ref: '#/components/schemas/TessellSlaMaturityStatus'
        retentionInfo:
          $ref: '#/components/schemas/TamRetentionInfo'
    TamSlaUsageView:
      title: TamSlaUsageView
      type: object
      properties:
        amName:
          type: string
          description: Name of the availability machine
        amId:
          type: string
          format: uuid
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        owner:
          type: string
          description: Email id of the AM owner
        status:
          $ref: '#/components/schemas/DmmStatus'
    TamSlaCreateUpdatePayload:
      title: TamSlaCreateUpdatePayload
      type: object
      properties:
        description:
          type: string
          description: SLA's description
        name:
          type: string
          description: SLA's name.
          minLength: 3
          maxLength: 50
        retentionInfo:
          $ref: '#/components/schemas/TamRetentionInfo'
        scope:
          $ref: '#/components/schemas/TamSlaScope'
    TamSlaCreateUpdatePayloadOps:
      title: TamSlaCreateUpdatePayloadOps
      allOf:
        - $ref: '#/components/schemas/TamSlaCreateUpdatePayload'
        - type: object
          properties:
            internal:
              type: boolean
              default: false
    TessellDapCatalog:
      title: TessellDapCatalog
      type: object
      properties:
        cloudAvailabilityCatalog:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/TessellDapCloudCatalog'
        dapId:
          type: string
          format: uuid
        dapName:
          type: string
        dmmId:
          type: string
          format: uuid
        dmmName:
          type: string
        dmmStatus:
          $ref: '#/components/schemas/DmmStatus'
        timeZone:
          type: string
    TessellDapCatalogServiceView:
      title: TessellDapCatalogServiceView
      type: object
      properties:
        availabilityCatalog:
          type: array
          items:
            $ref: '#/components/schemas/DapDatabaseAvailabilityCatalogServiceView'
        cloudAvailability:
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/CloudRegionInfo'
        dataAccessPolicy:
          type: string
        dmm:
          type: string
        timeZone:
          type: string
    TessellDapCloudCatalog:
      title: TessellDapCloudCatalog
      type: object
      properties:
        availabilityCatalog:
          type: object
          additionalProperties:
            type: array
            items:
              $ref: '#/components/schemas/DapDatabaseAvailabilityCatalog'
        cloudAccountId:
          type: string
          format: uuid
        cloudAccountName:
          type: string
        cloudType:
          type: string
        regions:
          type: array
          items:
            type: string
    TessellDapCloudLocationInfo:
      title: TessellDapCloudLocationInfo
      type: object
      properties:
        subscriptionId:
          type: string
          format: uuid
        cloudAndRegions:
          type: object
          additionalProperties:
            type: array
            items:
              type: string
    TessellDapDTO:
      title: TessellDapDTO
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        availabilityMachineId:
          type: string
          format: uuid
        availabilityMachineName:
          type: string
        purpose:
          $ref: '#/components/schemas/DapPurpose'
        contentType:
          $ref: '#/components/schemas/DapContentType'
        contentInfo:
          $ref: '#/components/schemas/DapContentInfoOps'
        status:
          $ref: '#/components/schemas/DapStatus'
        retentionPolicyId:
          type: string
          format: uuid
        targetCloudLocations:
          type: array
          items:
            $ref: '#/components/schemas/TessellDapCloudLocationInfo'
        cloudAvailability:
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/CloudRegionInfo'
        driverInfo:
          $ref: '#/components/schemas/TessellDapDriverInfo'
        metadata:
          $ref: '#/components/schemas/TessellDapMetadata'
        dataAccessConfig:
          $ref: '#/components/schemas/TessellDapRetentionPolicyDTO'
        owner:
          type: string
        loggedInUserRole:
          type: string
          description: The role of the logged in user for accessing the Availability Machine
        sharedWith:
          description: Users having shared access to the Database Backup
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingInfo'
        dateCreated:
          type: string
          format: date-time
        dateModified:
          type: string
          format: date-time
    CreateDapContentInfoPayload:
      title: CreateDapContentInfoPayload
      type: object
      properties:
        asIsContent:
          $ref: '#/components/schemas/CreateDapAsIsContentPayload'
        sanitizedContent:
          $ref: '#/components/schemas/CreateDapSanitizationContentPayload'
        backupContent:
          $ref: '#/components/schemas/CreateDapBackupContentPayload'

    CreateDapAsIsContentPayload:
      title: CreateDapAsIsContentPayload
      type: object
      properties:
        automated:
          type: boolean
          description: Share the automated as-is snapshots. This is exclusive with manual specification.
        manual:
          description: The list of snapshots that are to be shared as part of this access policy
          type: array
          items:
            $ref: '#/components/schemas/DapManualContentPayload'
    CreateDapSanitizationContentPayload:
      title: CreateDapSanitizationContentPayload
      type: object
      properties:
        automated:
          type: object
          required:
            - sanitizationScheduleId
          properties:
            sanitizationScheduleId:
              type: string
              format: uuid
              description: Id of the sanitization schedule to process automated backups, required only if contentType = Sanitized.
        manual:
          description: The list of sanitized snapshots that are to be shared as part of this access policy
          type: array
          items:
            $ref: '#/components/schemas/DapManualContentPayload'
    CreateDapBackupContentPayload:
      title: CreateDapBackupContentPayload
      type: object
      properties:
        automated:
          type: boolean
          description: Share the automated backups. This is exclusive with manual specification.
        manual:
          description: The list of backups that are to be shared as part of this access policy
          type: array
          items:
            $ref: '#/components/schemas/DapManualContentPayload'
    CreateSanitizedSnapshotInternalPayload:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        dmmId:
          type: string
          format: uuid
        dapId:
          type: string
          format: uuid
        type:
          $ref: '#/components/schemas/BackupType'
        derivedFromBackupId:
          type: string
          format: uuid
        backupIdentifier:
          type: string
          format: uuid
        sanitizedFromBackupId:
          type: string
          format: uuid
        dapBased:
          type: boolean
        scriptId:
          type: string
          format: uuid
        sanitizationScheduleId:
          type: string
          format: uuid
        subscriptions:
          type: array
          items:
            type: string
        subscriptionInfo:
          $ref: '#/components/schemas/DatabaseBackupOpsSubscriptionInfo'
        status:
          $ref: '#/components/schemas/DbBackupStatus'
        manual:
          type: boolean
        internal:
          type: boolean
        incremental:
          type: boolean
        backupTime:
          type: string
          format: date-time
        expiryTime:
          type: string
          format: date-time
        retentionType:
          $ref: '#/components/schemas/DbBackupRetentionType'
        cloudType:
          type: string
        cloudAccountId:
          type: string
          format: uuid
        cloudLocation:
          type: string
        owner:
          type: string
        backupType:
          $ref: '#/components/schemas/DbBackupType'
        storageTier:
          $ref: '#/components/schemas/DbStorageTier'
        cloudResourceId:
          type: string
        computeResourceId:
          type: string
          format: uuid
        logicalSequenceNumber:
          type: string
        parentSecondaryBackupId:
          type: string
          format: uuid
        replicatedFromSecondaryBackupId:
          type: string
          format: uuid
        dateCreated:
          type: string
          format: date-time
        dateModified:
          type: string
          format: date-time
        databaseStats:
          $ref: '#/components/schemas/DbBackupStatInfo'
        metadata:
          $ref: '#/components/schemas/DbBackupMetadata'
        driverInfo:
          $ref: '#/components/schemas/DbBackupDriverInfo'
        sizeInfo:
          $ref: '#/components/schemas/DbBackupSizeInfo'
        replicationInfo:
          $ref: '#/components/schemas/BackupReplicationInfo'
        lockingInfo:
          $ref: '#/components/schemas/DbBackupLockingInfo'
    UpdateDapContentInfoPayload:
      title: UpdateDapContentInfoPayload
      type: object
      properties:
        asIsContent:
          $ref: '#/components/schemas/UpdateDapAsIsContentPayload'
        sanitizedContent:
          $ref: '#/components/schemas/UpdateDapSanitizationContentPayload'
        backupContent:
          $ref: '#/components/schemas/UpdateDapBackupContentPayload'
    UpdateDapAsIsContentPayload:
      title: UpdateDapAsIsContentPayload
      type: object
      properties:
        manual:
          description: The list of snapshots that are to be shared as part of this access policy
          type: array
          items:
            $ref: '#/components/schemas/DapManualContentPayload'
    UpdateDapBackupContentPayload:
      title: UpdateDapBackupContentPayload
      type: object
      properties:
        manual:
          description: The list of backup that are to be shared as part of this access policy
          type: array
          items:
            $ref: '#/components/schemas/DapManualContentPayload'
    UpdateDapSanitizationContentPayload:
      title: UpdateDapSanitizationContentPayload
      type: object
      properties:
        manual:
          description: The list of sanitized snapshots that are to be shared as part of this access policy
          type: array
          items:
            $ref: '#/components/schemas/DapManualContentPayload'
    DapContentInfoOps:
      title: DapContentInfoOps
      type: object
      properties:
        asIsContent:
          $ref: '#/components/schemas/AsIsDapContentOps'
        sanitizedContent:
          $ref: '#/components/schemas/SanitizationDapContentOps'
        backupContent:
          $ref: '#/components/schemas/BackupDapContentOps'
    AsIsDapContentOps:
      title: AsIsDapContentOps
      type: object
      properties:
        automated:
          type: boolean
          description: Share the automated as-is snapshots. This is exclusive with manual specification.
        manual:
          description: The list of snapshots that are to be shared as part of this access policy
          type: array
          items:
            $ref: '#/components/schemas/DapManualInfoOps'
    BackupDapContentOps:
      title: BackupDapContentOps
      type: object
      properties:
        automated:
          type: boolean
          description: Share the automated database backups. This is exclusive with manual specification.
        manual:
          description: The list of backups that are to be shared as part of this access policy
          type: array
          items:
            $ref: '#/components/schemas/DapManualInfoOps'
    SanitizationDapContentOps:
      title: SanitizationDapContentOps
      type: object
      properties:
        automated:
          type: object
          required:
            - sanitizationScheduleId
          properties:
            sanitizationScheduleId:
              type: string
              format: uuid
              description: Id of the sanitization schedule to process automated backups, required only if contentType = Sanitized.
        manual:
          description: The list of sanitized snapshots that are to be shared as part of this access policy
          type: array
          items:
            $ref: '#/components/schemas/DapManualInfoOps'
    DapContentInfo:
      title: DapContentInfo
      type: object
      properties:
        asIsContent:
          $ref: '#/components/schemas/AsIsDapContent'
        sanitizedContent:
          $ref: '#/components/schemas/SanitizationDapContent'
        backupContent:
          $ref: '#/components/schemas/BackupDapContent'


    AsIsDapContent:
      title: AsIsDapContent
      type: object
      properties:
        automated:
          type: boolean
          description: Share the automated as-is snapshots. This is exclusive with manual specification.
        manual:
          description: The list of snapshots that are to be shared as part of this access policy
          type: array
          items:
            $ref: '#/components/schemas/DapManualInfo'
    BackupDapContent:
      title: BackupDapContent
      type: object
      properties:
        automated:
          type: boolean
          description: Share the automated backups. This is exclusive with manual specification.
        manual:
          description: The list of backups that are to be shared as part of this access policy
          type: array
          items:
            $ref: '#/components/schemas/DapManualInfo'
    SanitizationDapContent:
      title: SanitizationDapContent
      type: object
      properties:
        automated:
          type: object
          required:
            - sanitizationScheduleId
          properties:
            sanitizationScheduleId:
              type: string
              format: uuid
              description: Id of the sanitization schedule to process automated backups, required only if contentType = Sanitized.
        manual:
          description: The list of sanitized snapshots that are to be shared as part of this access policy
          type: array
          items:
            $ref: '#/components/schemas/DapManualInfo'
    DapManualContentPayload:
      title: DapManualContentPayload
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: content id
    DapBackupInfoPayload:
      title: DapBackupInfoPayload
      type: object
      properties:
        backupId:
          type: string
          format: uuid
          description: The snapshot id
    DapManualInfo:
      title: DapManualInfo
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: The DB Service snapshot id
        name:
          type: string
          description: The DB Service snapshot name
          x-computed: true
        creationTime:
          type: string
          description: DB Service snapshot capture time
          format: date-time
          x-computed: true
        sharedAt:
          type: string
          description: The timestamp when the snapshot was added to DAP for sharing
          format: date-time
          x-computed: true
    DapManualInfoOps:
      title: DapManualInfoOps
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: The DB Service snapshot id
        name:
          type: string
          description: The DB Service snapshot name
          x-computed: true
        dapBased:
          type: boolean
          default: false
        snapshotTime:
          type: string
          description: DB Service snapshot capture time
          format: date-time
          x-computed: true
        sharedAt:
          type: string
          description: The timestamp when the snapshot was added to DAP for sharing
          format: date-time
          x-computed: true
    DbExportDapContent:
      title: DbExportDapContent
      type: object
      properties:
        automatic:
          type: object
          properties:
            scheduleId:
              type: string
              format: uuid
              description: Id of the schedule to be process automated backups, required only if contentType = Sanitized.
        manual:
          type: object
          description: Make the specified list of backups accessible as part of this Access Policy
          properties:
            backupIds:
              type: array
              description: List of backup Ids
              items:
                type: string
                format: uuid
    TessellDapDriverInfo:
      title: TessellDapDriverInfo
      type: object
      properties:
        data:
          type: object
    TessellDapMetadata:
      title: TessellDapMetadata
      type: object
      properties:
        encryptionInfo:
          type: object
          title: DapEncryptionInfoOps
          properties:
            enableEncryption:
              type: boolean
              default: false
            clouds:
              type: array
              items:
                type: object
                title: DapCloudEncryptionInfoOps
                properties:
                  subscriptionId:
                    type: string
                    format: uuid
                  cloudType:
                    $ref: 'common-specification.yaml#/components/schemas/cloudType'
                  regions:
                    type: array
                    items:
                      type: object
                      title: DapCloudRegionEncryptionInfoOps
                      properties:
                        region:
                          type: string
                        encryptionKeyId:
                          type: string
                          format: uuid
        data:
          type: object
    TessellDapServiceDTO:
      title: TessellDapServiceDTO
      type: object
      description: Access Policy (DAP) and the associated configuration
      properties:
        id:
          type: string
          format: uuid
          description: ID of the Access Policy
        name:
          type: string
          description: Name of the Access Policy
        availabilityMachineId:
          type: string
          format: uuid
          description: ID of the Availability Machine
        tessellServiceId:
          type: string
          format: uuid
          description: ID of the associated DB Service
        serviceName:
          type: string
          description: Name of the associated DB Service
        engineType:
          type: string
          description: Database engine type of the associated DB Service
        contentType:
          x-enum: true
          $ref: '#/components/schemas/DapContentType'
          description: Type of data content (as-is, sanitized, backup) that this Access Policy is entitled to manage
        status:
          x-enum: true
          $ref: '#/components/schemas/DapStatus'
          description: Status of the Access Policy
        contentInfo:
          $ref: '#/components/schemas/DapContentInfo'
          description: Information about the data content that is being managed by this Access Policy
        cloudAvailability:
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/CloudRegionInfo'
          description: The cloud and region information where the data is being managed by this Access Policy
        dataAccessConfig:
          $ref: '#/components/schemas/DapRetentionInfo'
          description: Configuration for retention and expiration of data that is being managed by this Access Policy
        owner:
          type: string
          description: Owner of the Access Policy
        loggedInUserRole:
          type: string
          description: The role of the logged in user for accessing the Availability Machine
        sharedWith:
          description: List of users who have access to the data/content managed by this Access Policy
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingInfo'
        dateCreated:
          type: string
          format: date-time
          description: Timestamp when this Access Policy was created at
        dateModified:
          type: string
          format: date-time
          description: Timestamp when this Access Policy was last updated at
    TessellLockBackupPayload:
      title: TessellLockBackupPayload
      type: object
      description: This is a definition for locking/releasing a backup
      properties:
        subscriberId:
          type: string
          format: uuid
          description: Identifier for backup lock/unlock request
        lock:
          type: boolean
          default: false
          description: Exclusive with 'release'
        release:
          type: boolean
          default: false
          description: Exclusive with 'lock'
        lockForMinutes:
          type: integer
          format: int32
          description: Lock the backup for specified minutes, required only if 'lock' is true
        lockPurpose:
          type: string
    DatabaseBackupOps:
      title: DatabaseBackupOps
      description: This is a definition for Tessell Database Backup Object
      required:
        - name
      type: object
      properties:
        id:
          type: UUID
          description: Tessell generated UUID for the entity
          example: 123e4567-e89b-12d3-a456-426614174000
        name:
          type: string
          description: Name of the entity
          example: sample_entity
        description:
          type: string
          description: Database Backup's description
        dmmId:
          type: string
          description: ID of Availability machine
          format: uuid
        isAppConsistent:
          type: boolean
          description: If the backup is app consistent and could be used for restore/clone
          default: true
        dapId:
          type: string
          description: Associated Data Access Policy Id
          format: uuid
        type:
          $ref: '#/components/schemas/BackupType'
        derivedFromBackupId:
          type: string
          description: The source backup from which this backup is derived
          format: uuid
        backupIdentifier:
          type: string
          description: Backup identifier
          format: uuid
        sanitizedFromBackupId:
          type: string
          format: uuid
          description: The source backup from which this backup is sanitized
        dapBased:
          type: boolean
          description: Whether the sanitizedFromBackupId is DAP based
          example: false
        scriptId:
          type: string
          format: uuid
          description: Data Processing Script that is used to create this backup
        sanitizationScheduleId:
          type: string
          format: uuid
          description: Sanitization Schedule Id which governed generation of the sanitized backup
        subscriptions:
          description: The subscriptions in which the backup is available
          type: array
          items:
            type: string
        subscriptionInfo:
          description: The subscription info in which the backup is available
          type: object
          properties:
            encryptionKeyId:
              type: string
              format: uuid
              description: The encryption key-id for the region where the snapshot has been made available at
            subscriptionIds:
              type: array
              items:
                type: string
                format: uuid
        status:
          $ref: '#/components/schemas/DbBackupStatus'
        manual:
          type: boolean
          description: >-
            Specifies if Database Backup's is manually created on a
            user request
          example: false
        internal:
          type: boolean
          description: Specifies if Database Backup's is for internal use
          example: false
        incremental:
          type: boolean
          description: Specifies if Database Backup's is incremental
          example: false
        backupTime:
          type: string
          description: Database Backup capture time
          format: date-time
        expiryTime:
          description: Database Backup expiry time
          type: string
          format: date-time
        deletedForUserTime:
          type: string
          description: Timestamp when the database backup was deleted for user
          format: date-time
        retentionType:
          $ref: '#/components/schemas/DbBackupRetentionType'
        cloudType:
          type: string
          description: Cloud Type
        cloudAccountId:
          type: string
          description: Database Backup's Tessell cloud account identifier
          format: uuid
        cloudLocation:
          maxLength: 2147483647
          minLength: 3
          type: string
          description: Database Backup's location in the cloud
        userId:
          type: string
          description: Database Backup user id
          format: uuid
        owner:
          type: string
          description: Database Backup owner email address
        backupType:
          $ref: '#/components/schemas/DbBackupType'
        storageTier:
          $ref: '#/components/schemas/DbStorageTier'
        cloudResourceId:
          type: string
          description: The cloud resource identifier for underlying backup
          example: aws ebs snapshot id
        computeResourceId:
          type: string
          format: uuid
          description: Associated Service Instance id
        instanceRole:
          $ref: 'database-system-api.yaml#/components/schemas/TessellServiceInstanceRole'
          description: The role of the instance for which snapshot is taken
        triggerId:
          type: string
          format: uuid
          description: For TSM multi node service, snapshots are take for all nodes. These snapshots are bound together by single trigger uniquely identified by triggerId
        logicalSequenceNumber:
          type: string
          description: Database Backup's logical sequence number
        parentSecondaryBackupId:
          type: string
          description: The Database Backup to which this backup is referring
          format: uuid
        replicatedFromSecondaryBackupId:
          type: string
          description: The Database Backup from which this backup is replicated
          format: uuid
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the entity was last modified
          format: date-time
        databaseStats:
          $ref: '#/components/schemas/DbBackupStatInfo'
        metadata:
          $ref: '#/components/schemas/DbBackupMetadata'
        driverInfo:
          $ref: '#/components/schemas/DbBackupDriverInfo'
        sizeInfo:
          $ref: '#/components/schemas/DbBackupSizeInfo'
        replicationInfo:
          $ref: '#/components/schemas/BackupReplicationInfo'
        lockingInfo:
          $ref: '#/components/schemas/DbBackupLockingInfo'
        storageSnapshots:
          type: array
          items:
            $ref: '#/components/schemas/StorageSnapshotOps'
    BackupReplicationInfo:
      type: object
      properties:
        dapReplicationProcessedTime:
          type: string
          format: date-time
        sanitizationProcessedTime:
          type: string
          format: date-time
        dapReplicationInfo:
          type: array
          items:
            $ref: '#/components/schemas/ReplicateDapBackupInfo'
        sanitizationInfo:
          type: array
          items:
            $ref: '#/components/schemas/SanitizationTriggerInfo'
    DatabaseSnapshotTaskPayload:
      type: object
      properties:
        nativeBackup:
          type: boolean
        tessellServiceId:
          type: string
          format: uuid
        dbserverSystemId:
          type: string
          format: uuid
        dmmId:
          type: string
          format: uuid
        snapshotId:
          type: string
          format: uuid
        snapshotName:
          type: string
        recommendedForFullBackup:
          type: boolean
        cloudAccountId:
          type: string
          format: uuid
        taskId:
          type: string
          format: uuid
        userId:
          type: string
          format: uuid
        subTaskInfo:
          type: object
          additionalProperties:
            type: string
        subscriptionId:
          type: string
          format: uuid
        tenantId:
          type: string
        metadata:
          type: string
          additionalProperties:
            type: string
    TessellDatabaseSnapshotServiceConsumerDTO:
      title: TessellDatabaseSnapshotServiceConsumerDTO
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: Database Backup Id
        name:
          type: string
          description: Database Snapshot name
        status:
          type: string
          description: Database Backup status
        backupTime:
          type: string
          description: Database Backup capture time
          format: date-time
        retentionType:
          type: string
          description: Database Backup's retention type
        manual:
          type: boolean
          description: Specifies if Database Backup's is manually created on a user request
          example: false
        backupType:
          type: string
          description: Database Backup's type
        cloudLocation:
          maxLength: 2147483647
          minLength: 3
          type: string
          description: Database Backup's location in the cloud
        size:
          type: integer
          format: int64
          description: Database Backup size in bytes
      description: >-
        This is a definition for Tessell Database Snapshot Service Consumer
        Object
    DatabaseSnapshot:
      title: DatabaseSnapshot
      type: object
      description: Information about a snapshot
      x-terraform-resource: DBSnapshot
      x-terraform:
        add-properties-from: [TerraformResourceDBSnapshotExtra]
        plural-name: DBSnapshots
        render:
          - resource
          - data_source
          - data_source_list
      properties:
        id:
          type: string
          format: uuid
          description: ID of the snapshot
          x-computed: true
        name:
          type: string
          description: Name of the snapshot
        description:
          type: string
          description: Description of the snapshot
        snapshotTime:
          type: string
          format: date-time
          description: Capture time of the snapshot
          x-computed: true
        status:
          x-enum: true
          $ref: '#/components/schemas/DatabaseBackupStatus'
          description: Current status of this snapshot
          x-computed: true
        size:
          type: integer
          format: int64
          description: Size of this snapshot (in bytes)
          x-computed: true
        manual:
          type: boolean
          description: Specifies whether this snapshot is captured as per manual user request or per automated schedule
          x-computed: true
        cloudAvailability:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseSnapshotCloudRegionInfo'
          description: The cloud and region information where this snapshot has been made available at
          x-computed: true
        availabilityConfig:
          type: array
          items:
            $ref: '#/components/schemas/SnapshotAvailabilityConfig'
          x-computed: true
          description: The config information for cloud and region availability for this snapshot
        databases:
          description: The databases that are captured as part of this snapshot
          type: array
          items:
            $ref: '#/components/schemas/BackupDatabaseInfo'
          x-computed: true
        sharedWith:
          description: List of users who have access to this snapshot
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingSummaryInfo'
          x-computed: true
        backupStatus:
          description: Associated backup status (deprecated)
          $ref: '#/components/schemas/PreAuthUrlStatus'

    DataflixDownloadUrlInfo:
      title: DataflixDownloadUrlInfo
      description: Tessell Backup's Dataflix view
      type: object
      properties:
        backupId:
          type: string
          format: uuid
          description: ID of the snapshot from which backup is derived
        backupName:
          type: string
          description: Name of the backup
          minLength: 1
          maxLength: 128
        backupStatus:
          x-enum: true
          $ref: '#/components/schemas/DbBackupStatus'
          description: DB Service snapshot status
          x-computed: true
        size:
          type: integer
          format: int64
          description: Backup size in bytes
        status:
          $ref: '#/components/schemas/PreAuthUrlStatus'
          description: Status of Pre Auth Url
        manual:
          type: boolean
          description: Specifies whether the backup is captured manually
        userid:
          description: User having access to the backup
          type: string
        downloadUrlExpiryTime:
          $ref: '#/components/schemas/ExpiryConfig'
          description: Expiry Config for the backup Pre auth url
        downloadUrl:
          type: string
          description: Pre auth url from which backup can be downloaded
        dateCreated:
          type: string
          description: Pre auth url creation time
          format: date-time

    DataflixSnapshot:
      title: DataflixSnapshot
      description: Information about a snapshot
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID of the snapshot
          x-computed: true
        name:
          type: string
          description: Name of the snapshot
        description:
          type: string
          description: Description for the snapshot
        snapshotTime:
          type: string
          format: date-time
          description: Capture time of the snapshot
          x-computed: true
        status:
          x-enum: true
          $ref: '#/components/schemas/DatabaseBackupStatus'
          description: Current status of this snapshot
          x-computed: true
        size:
          type: integer
          format: int64
          description: Size of this snapshot (in bytes)
          x-computed: true
        manual:
          type: boolean
          description: Specifies whether the backup is captured as per manual user request or as per the automated schedule
          x-computed: true
        cloudAvailability:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseSnapshotCloudRegionInfo'
          x-computed: true
          description: The cloud and region information where this snapshot has been made available at
        databases:
          description: The databases that are captured as part of this snapshot
          type: array
          items:
            $ref: '#/components/schemas/BackupDatabaseInfo'
          x-computed: true
        sharedWith:
          description: List of users who have access to this snapshot
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingSummaryInfo'
          x-computed: true
        backupStatus:
          description: The associated native backup status (deprecated)
          $ref: '#/components/schemas/PreAuthUrlStatus'
    ExpiryConfig:
      type: object
      title: ExpiryConfig
      description: The backup expiry config
      properties:
        expireAt:
          type: string
          format: date-time
          description: time-to-live for the Pre auth url
    PreAuthUrlMetadata:
      type: object
      title: PreAuthUrlMetadata
      description: PreAuthUrl metadata
      properties:
        createdByAccountOwner:
          type: boolean
          default: false
    SnapshotAvailabilityConfig:
      type: object
      title: SnapshotAvailabilityConfig
      description: The snapshot availability config
      properties:
        availabilityConfiguredManually:
          type: boolean
          default: false
        dapId:
          type: string
          format: uuid
          x-computed: true
        cloudAvailabilityConfig:
          type: array
          items:
            $ref: '#/components/schemas/SnapshotCloudAvailabilityInfo'
          x-computed: true
    SnapshotCloudAvailabilityInfo:
      title: SnapshotCloudAvailabilityInfo
      description: Snapshot's cloud availability details
      required:
        - cloud
      properties:
        cloud:
          $ref: 'common-specification.yaml#/components/schemas/cloudType'
          description: The cloud type
        regions:
          description: The list of regions and respective availability status
          type: array
          items:
            $ref: '#/components/schemas/SnapshotRegionAvailability'
    SnapshotRegionAvailability:
      type: object
      title: SnapshotRegionAvailability
      required:
        - region
        - status
      properties:
        region:
          type: string
        status:
          x-enum: true
          $ref: '#/components/schemas/DatabaseBackupStatus'
          x-computed: true
    BackupDatabaseInfo:
      type: object
      description: The databases that are captured as part of the snapshot
      properties:
        id:
          type: string
          format: uuid
          description: ID of the database
        name:
          type: string
          description: Name of the database
        status:
          type: string
          description: Status of the database as of capture of this snapshot
    SanitizedDatabaseSnapshot:
      title: SanitizedDatabaseSnapshot
      description: Information about a Sanitized Snapshot
      type: object
      x-terraform-resource: SanitizedDBSnapshot
      x-terraform:
        add-properties-from: [TerraformResourceDBSnapshotExtra]
        plural-name: SanitizedDBSnapshots
        render:
          - data_source_list
      properties:
        id:
          type: string
          format: uuid
          description: ID of the sanitized snapshot
        name:
          type: string
          description: Name of the sanitized snapshot
        snapshotTime:
          type: string
          format: date-time
          description: Capture time of the source snapshot from which this sanitized snapshot is created
        status:
          x-enum: true
          $ref: '#/components/schemas/DatabaseBackupStatus'
          description: Status of this snapshot
        size:
          type: integer
          format: int64
          description: Size of this snapshot (in bytes)
        manual:
          type: boolean
          description: Specifies whether this snapshot is created based on a manual user request or through an automated schedule
        cloudAvailability:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseSnapshotCloudRegionInfo'
          description: The cloud and region information where this snapshot has been made available at
        availabilityConfig:
          type: array
          items:
            $ref: '#/components/schemas/SnapshotAvailabilityConfig'
          x-computed: true
          description: The config information for cloud and region availability for this snapshot
        sanitizationInfo:
          type: object
          properties:
            sourceSnapshotId:
              type: string
              format: uuid
              description: ID of the as-is snapshot from which it was sanitized
            sanitizationScheduleId:
              type: string
              format: uuid
              description: ID of the Sanitization Schedule which has created this snapshot
            sanitizationSchedule:
              type: string
              description: Name of the Sanitization Schedule which has created this snapshot
            sanitizationScriptId:
              type: string
              format: uuid
              description: ID of the script which was used to create this snapshot
            sanitizationScript:
              type: string
              description: Name of the script which was used to create this snapshot
            scriptVersion:
              type: string
              description: Version of the script which was used to create this snapshot
        databases:
          description: The databases that are captured as part of the snapshot
          type: array
          items:
            $ref: '#/components/schemas/BackupDatabaseInfo'
        sharedWith:
          description: List of users having access to this snapshot
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingSummaryInfo'
        backupStatus:
          $ref: '#/components/schemas/PreAuthUrlStatus'
          description: Status of the associated native backup (deprecated)
    DatabaseBackup:
      title: DatabaseBackup
      description: Information about the native backup
      type: object
      x-terraform-resource: DBBackup
      x-terraform:
        add-properties-from: [TerraformResourceDBSnapshotExtra]
        plural-name: DBBackups
        render:
          - data_source_list
      properties:
        id:
          type: string
          format: uuid
          description: ID of the backup
        name:
          type: string
          description: Name of the backup
          minLength: 1
          maxLength: 128
        backupTime:
          type: string
          description: Backup capture time
          format: date-time
        status:
          x-enum: true
          $ref: '#/components/schemas/DatabaseBackupStatus'
          description: Current status of this backup
        size:
          type: integer
          format: int64
          description: Size of this backup (in bytes)
        manual:
          type: boolean
          description: Specifies whether the backup is captured as per manual user request or per automated schedule
        cloudAvailability:
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/CloudRegionInfo'
          description: The cloud and region information where this backup has been made available at
        availabilityConfig:
          type: array
          items:
            $ref: '#/components/schemas/SnapshotAvailabilityConfig'
          x-computed: true
          description: The config information for cloud and region availability for this backup
        databases:
          description: The databases that are captured as part of this backup
          type: array
          items:
            $ref: '#/components/schemas/BackupDatabaseInfo'
        backupInfo:
          $ref: '#/components/schemas/BackupSourceInfo'
          description: Information about the source snapshot if this backup if derived from an existing snapshot
        sharedWith:
          description: List of users who have access to this backup
          type: object
          properties:
            users:
              type: array
              items:
                $ref: '#/components/schemas/BackupUserInfo'
        downloadUrlStatus:
          $ref: '#/components/schemas/PreAuthUrlStatus'
          description: Information about the pre-auth download URL

    BackupSourceInfo:
      title: BackupSourceInfo
      type: object
      properties:
        sourceSnapshotId:
          type: string
          format: uuid
          description: ID of snapshot from which this backup was created
        snapshotName:
          type: string
          description: Name of snapshot from which this backup was created
        snapshotTime:
          type: string
          format: date-time
          description: Capture time of snapshot from which this backup was created

    BackupUserInfo:
      title: BackupUserInfo
      description: DB Service user info
      type: object
      properties:
        userEmail:
          type: string
          description: email of the user
        downloadUrlStatus:
          $ref: '#/components/schemas/PreAuthUrlStatus'
        expiryConfig:
          $ref: '#/components/schemas/ExpiryConfig'

    DataflixSanitizedSnapshot:
      title: DataflixSanitizedSnapshot
      type: object
      description: Information about a Sanitized Snapshot
      properties:
        id:
          type: string
          format: uuid
          description: ID of the sanitized snapshot
        name:
          type: string
          description: Name of the sanitized snapshot
        snapshotTime:
          type: string
          format: date-time
          description: Capture time of the source snapshot from which this sanitized snapshot is created
        status:
          x-enum: true
          $ref: '#/components/schemas/DatabaseBackupStatus'
          description: Status of this snapshot
        size:
          type: integer
          format: int64
          description: Size of this snapshot (in bytes)
        manual:
          type: boolean
          description: Specifies whether this snapshot is created based on a manual user request or through an automated schedule
        cloudAvailability:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseSnapshotCloudRegionInfo'
          description: The cloud and region information where this snapshot has been made available at
        databases:
          description: The databases that are captured as part of the source snapshot
          type: array
          items:
            $ref: '#/components/schemas/BackupDatabaseInfo'
        sharedWith:
          description: List of users having access to this snapshot
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingSummaryInfo'

    DataflixBackup:
      title: DataflixBackup
      type: object
      description: Information about the native backup
      properties:
        id:
          type: string
          format: uuid
          description: ID of the backup
        name:
          type: string
          description: Name of the backup
          minLength: 1
          maxLength: 128
        backupTime:
          type: string
          format: date-time
          description: Backup capture time
        status:
          x-enum: true
          $ref: '#/components/schemas/DatabaseBackupStatus'
          description: Current status of this backup
        size:
          type: integer
          format: int64
          description: Size of this backup (in bytes)
        manual:
          type: boolean
          description: Specifies whether the backup is captured as per manual user request or per automated schedule
        cloudAvailability:
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/CloudRegionInfo'
          description: The cloud and region information where this backup has been made available at
        databases:
          description: The databases that are captured as part of this backup
          type: array
          items:
            $ref: '#/components/schemas/BackupDatabaseInfo'
        sharedWith:
          description: List of users who have access to this backup
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingSummaryInfo'
        downloadUrlStatus:
          $ref: '#/components/schemas/PreAuthUrlStatus'
          description: Information about the pre-auth download URL
        backupSourceInfo:
          $ref: '#/components/schemas/BackupSourceInfo'
          description: Information about the source snapshot if this backup if derived from an existing snapshot

    DbBackupRestoreInfo:
      title: DbBackupRestoreInfo
      type: object
      properties:
        availabilityMachineId:
          type: string
          format: uuid
          description: Id of the Availability Machine
        tessellServiceId:
          type: string
          format: uuid
          description: Id of the Tessell Service
        serviceName:
          type: string
          description: Name of the Availability Machine
        snapshotId:
          type: string
          format: uuid
          description: Id of the DB Service snapshot
        recoveryTime:
          type: string
          format: date-time
          description: Recovery time of the database backup and/or pitr logs
        backupName:
          type: string
          description: Name of the database backup
        engineType:
          x-enum: true
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        contentType:
          x-enum: true
          $ref: '#/components/schemas/DapContentType'
        timeZone:
          type: string
        availability:
          description: 'The availability details across subscription, clouds'
          type: array
          items:
            $ref: '#/components/schemas/SubscriptionCloudAvailability'
        restoreSize:
          type: integer
          format: int64
          description: Restorable size of the backup (in MegaBytes)
        edition:
          type: string
        softwareImage:
          type: string
          description: Software Image of parent database at the time capturing the backup
        softwareImageVersion:
          type: string
          description: Software Image Version of parent database at the time capturing the backup
        softwareImageVersionFamily:
          type: string
          description: Software Image Versiona Family of parent database
        infrastructure:
          description: Tessell Service's infrastructure information
          $ref: 'database-system-api.yaml#/components/schemas/TessellServiceInfrastructureInfo'
        engineConfiguration:
          description: Tessell Service's engine configuration
          $ref: 'database-system-api.yaml#/components/schemas/TessellServiceEngineInfo'
        databases:
          description: The databases that are captured as part of the snapshot
          type: array
          items:
            $ref: '#/components/schemas/BackupDatabaseInfo'
        info:
          type: object
          additionalProperties:
            type: string
    SubscriptionCloudAvailability:
      type: object
      properties:
        subscription:
          type: string
          description: The subscription name
        cloudAvailability:
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/CloudRegionInfo'
    TessellDataflixPitrInfo:
      type: object
      description: Availability Machine's Point-In-Time recoverability information within a cloud
      properties:
        cloud:
          $ref: 'common-specification.yaml#/components/schemas/cloudType'
          description: Cloud type
        regions:
          type: array
          items:
            $ref: '#/components/schemas/TessellDataflixPitrInfoForRegion'
    TessellDataflixPitrInfoForRegion:
      type: object
      title: TessellDataflixPitrInfoForRegion
      description: Availability Machine's Point-In-Time recoverability information within a region
      properties:
        region:
          type: string
          description: Region name
        timeRanges:
          type: array
          items:
            $ref: '#/components/schemas/TessellDataflixFromTimeInfo'
    TessellDataflixPitrInfoForCloud:
      type: object
      description: Availability Machine's Point-In-Time recoverability information
      additionalProperties:
        type: object
        items:
          $ref: '#/components/schemas/TessellDataflixFromTimeInfo'
    TessellDataflixFromTimeInfo:
      title: TessellDataflixFromTimeInfo
      description: Availability Machine's Point-In-Time recoverability timeline
      type: object
      properties:
        fromTime:
          type: string
          format: date-time
          description: Recoverability start timestamp
        toTime:
          type: string
          format: date-time
          description: Recoverability end timestamp
        sharedWith:
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingSummaryInfo'
          description: List of users having access to the recoverability timeline
    TessellDbLogDTO:
      title: TessellDbLogDTO
      type: object
      description: This is a definition for Tessell Database Log Object
      properties:
        id:
          type: string
          description: Database Log's Id
          format: uuid
        dmmId:
          type: string
          description: ID of Availability machine
          format: uuid
        databaseId:
          type: string
          description: Associated Database Id
          format: uuid
        status:
          $ref: '#/components/schemas/DbLogStatus'
        fromTime:
          type: string
          description: The fromTime of the logs
          format: date-time
        toTime:
          type: string
          description: The toTime of the logs
          format: date-time
        deletedForUserTime:
          type: string
          description: Timestamp when the log was deleted for user
          format: date-time
        size:
          type: integer
          format: int64
          description: Physical size of the DB Log in underlying cloud
        cloudAccountId:
          type: string
          description: The cloud account Id where the log is available
          format: uuid
        cloudLocation:
          type: string
          description: The cloud location where the log is available
        computeResourceId:
          type: string
          description: The computeResourceId from where the logs were collected
          format: uuid
        tessellStorageId:
          type: string
          description: The tessellStorageId where the logs are stored
          format: uuid
        dapId:
          type: string
          description: Id of Data Access policy (DAP)
          format: uuid
        replicatedFromLogId:
          type: string
          format: uuid
        metadata:
          $ref: '#/components/schemas/DbLogMetadata'
        driverInfo:
          $ref: '#/components/schemas/DbLogDriverInfo'
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the entity was last modified
          format: date-time
    OldDatabaseBackup:
      title: OldDatabaseBackup
      type: object
      properties:
        backupTime:
          type: string
          description: Database Backup capture time
          format: date-time
        backupType:
          type: string
          description: Database Backup's type
        name:
          type: string
          description: Database Snapshot name
        retentionType:
          type: string
          description: Database Backup's retention type
        status:
          type: string
          description: Database Backup status
      description: >-
        This is a definition for Tessell Database Snapshot Service Consumer
        Object
    AmCatalogHealthPerRegion:
      title: AmCatalogHealthPerRegion
      type: object
      properties:
        cloud:
          type: string
        region:
          type: string
        cloudLocation:
          type: string
        lastUploadedAt:
          type: string
          format: date-time
        timeRanges:
          type: array
          items:
            $ref: '#/components/schemas/FromToDateTuple'
        gapTimeRanges:
          type: array
          items:
            $ref: '#/components/schemas/FromToDateTuple'
    AvailabilityMachineCatalogHealth:
      title: AvailabilityMachineCatalogHealth
      type: object
      properties:
        amId:
          type: string
          format: uuid
        amName:
          type: string
        tsm:
          type: boolean
          default: false
        healthy:
          type: boolean
          default: true
        message:
          type: string
        healthComputedAt:
          type: string
          format: date-time
        amActive:
          type: boolean
          default: true
        amlastStartedAt:
          type: string
          format: date-time
        amActiveForMins:
          type: integer
          format: int64
        amBootupTimedOut:
          type: boolean
          default: true
        amBootupTimeoutMins:
          type: integer
          format: int64
        dbLogHealth:
          type: object
          title: DbLogHealth
          properties:
            healthy:
              type: boolean
              default: true
            message:
              type: string
            lastUploadAt:
              type: string
              format: date-time
            lastUploadedBeforeMins:
              type: integer
              format: int64
            timeRangesPerRegion:
              type: array
              items:
                $ref: '#/components/schemas/AmCatalogHealthPerRegion'
    TessellDmmAvailabilityCatalog:
      title: TessellDmmAvailabilityCatalog
      type: object
      properties:
        availabilityCatalog:
          type: object
          additionalProperties:
            type: array
            items:
              $ref: '#/components/schemas/DatabaseAvailabilityCatalog'
        cloudAccountId:
          type: string
          format: uuid
        cloudAccountName:
          type: string
        cloudType:
          type: string
        dmmId:
          type: string
          format: uuid
        dmmName:
          type: string
        dmmStatus:
          $ref: '#/components/schemas/DmmStatus'
        regions:
          type: array
          items:
            type: string
        timeZone:
          type: string
    TessellDmmAvailabilityCatalogServiceView:
      title: TessellDmmAvailabilityCatalogServiceView
      type: object
      properties:
        availabilityCatalog:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseAvailabilityCatalogServiceView'
        cloudAccount:
          type: string
        dmm:
          type: string
        dataIngestionStatus:
          x-enum: true
          $ref: '#/components/schemas/AmDataIngestionStatus'
        regions:
          type: array
          items:
            type: string
        timeZone:
          type: string
    GetDataflixCatalogResponse:
      title: GetDataflixCatalogResponse
      type: object
      description: The Dataflix catalog details for as-is contents
      x-terraform-resource: DataflixCatalog
      x-terraform:
        render:
          - data_source
        resourceIdFromSchema: availabilityMachineId
      properties:
        availabilityMachineId:
          type: string
          format: uuid
          description: ID of the Availability Machine
        tessellServiceId:
          type: string
          format: uuid
          description: ID of the associated DB Service
        serviceName:
          type: string
          description: Name of the associated DB Service
        engineType:
          x-enum: true
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
          description: Database engine type of the associated DB Service
        timeZone:
          type: string
          description: Timezone applicable for timestamps that are returned in this response
        owner:
          type: string
          description: Owner of the Availability Machine
        pitrCatalog:
          type: array
          items:
            $ref: '#/components/schemas/TessellDataflixPitrInfo'
          description: Catalog information for the point-in-time recoverability
        snapshotCatalog:
          type: array
          items:
            $ref: '#/components/schemas/DataflixSnapshot'
          description: Catalog information for the available snapshots
    GetSanitizedDatabaseSnapshotsResponse:
      title: GetSanitizedDatabaseSnapshotsResponse
      type: object
      description: Information about the available Sanitized Snapshots
      properties:
        availabilityMachineId:
          type: string
          format: uuid
          description: ID of the Availability Machine
        tessellServiceId:
          type: string
          format: uuid
          description: ID of the associated DB Service
        serviceName:
          type: string
          description: Name of the associated DB Service
        engineType:
          x-enum: true
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
          description: Database engine type of the associated DB Service
        timeZone:
          type: string
          description: Timezone applicable for timestamps that are returned in this response
        owner:
          type: string
          description: Owner of the Availability Machine
        snapshots:
          type: array
          items:
            $ref: '#/components/schemas/SanitizedDatabaseSnapshot'
          description: Catalog information for the available Sanitized Snapshots
    GetDatabaseBackupsResponse:
      title: GetDatabaseBackupsResponse
      type: object
      description: Information about the available native-backups
      properties:
        availabilityMachineId:
          type: string
          format: uuid
          description: ID of the Availability Machine
        tessellServiceId:
          type: string
          format: uuid
          description: ID of the associated DB Service
        serviceName:
          type: string
          description: Name of the associated DB Service
        engineType:
          x-enum: true
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
          description: Database engine type of the associated DB Service
        timeZone:
          type: string
          description: Timezone applicable for timestamps that are returned in this response
        owner:
          type: string
          description: Owner of the Availability Machine
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackup'
          description: Catalog information for the available backups
    GetDataflixSanitizedCatalogResponse:
      title: GetDataflixSanitizedCatalogResponse
      type: object
      description: The Dataflix catalog details for sanitized contents
      properties:
        availabilityMachineId:
          type: string
          format: uuid
          description: ID of the Availability Machine
        tessellServiceId:
          type: string
          format: uuid
          description: ID of the associated DB Service
        serviceName:
          type: string
          description: Name of the associated DB Service
        engineType:
          x-enum: true
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
          description: Database engine type of the associated DB Service
        timeZone:
          type: string
          description: Timezone applicable for timestamps that are returned in this response
        owner:
          type: string
          description: Owner of the Availability Machine
        snapshotCatalog:
          type: array
          items:
            $ref: '#/components/schemas/DataflixSanitizedSnapshot'
          description: Catalog information for the available Sanitized Snapshots
    GetDataflixBackupCatalogResponse:
      title: GetDataflixBackupCatalogResponse
      type: object
      description: The Dataflix catalog details for native backup contents
      properties:
        availabilityMachineId:
          type: string
          format: uuid
          description: ID of the Availability Machine
        tessellServiceId:
          type: string
          format: uuid
          description: ID of the associated DB Service
        serviceName:
          type: string
          description: Name of the associated DB Service
        engineType:
          x-enum: true
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
          description: Database engine type of the associated DB Service
        timeZone:
          type: string
          description: Timezone applicable for timestamps that are returned in this response
        owner:
          type: string
          description: Owner of the Availability Machine
        backupCatalog:
          type: array
          items:
            $ref: '#/components/schemas/DataflixBackup'
          description: Catalog information for the available native backups

    GetDatabaseSnapshotsResponse:
      title: GetDatabaseSnapshotsResponse
      type: object
      description: Information about the available snapshots
      properties:
        availabilityMachineId:
          type: string
          format: uuid
          description: ID of the Availability Machine
        tessellServiceId:
          type: string
          format: uuid
          description: ID of the associated DB Service
        serviceName:
          type: string
          description: Name of the associated DB Service
        engineType:
          x-enum: true
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
          description: Database engine type of the associated DB Service
        timeZone:
          type: string
          description: Timezone applicable for timestamps that are returned in this response
        owner:
          type: string
          description: Owner of the Availability Machine
        pitrCatalog:
          type: array
          items:
            $ref: '#/components/schemas/TessellDataflixPitrInfo'
          description: Catalog information for the point-in-time recoverability
        snapshots:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseSnapshot'
          description: Catalog information for the available snapshots
    TessellDmmAvailabilityDTO:
      title: TessellDmmAvailabilityDTO
      description: This is a definition for Tessell Availability Machine's cloud/region availability details
      type: object
      properties:
        availabilityMachineId:
          type: string
          description: Associated Availability Machine Id
          format: uuid
        slaId:
          type: string
          description: Associated SLA
          format: uuid
        scheduleId:
          type: string
          description: Associated schedule
          format: uuid
        status:
          $ref: '#/components/schemas/DmmAvailabilityStatus'
        slaDto:
          $ref: '#/components/schemas/TamSla'
        scheduleDto:
          $ref: '#/components/schemas/TamSchedule'
        metadata:
          $ref: '#/components/schemas/DmmAvailabilityMetadata'
        driverInfo:
          $ref: '#/components/schemas/DmmAvailabilityDriverInfo'
        dateCreated:
          type: string
          description: Timestamp when the entity created
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the entity was last modified
          format: date-time
    TessellDmmAvailabilityServiceView:
      title: TessellDmmAvailabilityServiceView
      type: object
      description: This is a definition for Tessell Availability Machine's sla and schedule details
      properties:
        availabilityMachineId:
          type: string
          format: uuid
        availabilityMachine:
          type: string
          description: Associated Availability Machine Name
        topology:
          description: 'The availability location details: cloudAccount to region'
          type: array
          items:
            $ref: '#/components/schemas/DBServiceTopology'
        rpoSlaStatus:
          type: string
          description: The availability status
        sla:
          type: string
          description: Associated SLA
        slaRetentionInfo:
          $ref: '#/components/schemas/TamRetentionInfo'
        schedule:
          $ref: '#/components/schemas/ScheduleInfo'
    TessellDmmDTO:
      title: TessellDmmDTO
      description: The Availability Machine is an abstraction provided by Tessell that takes care of all of the data-management and data-protection aspects for a DB Service, like capturing snapshots, backups, providing PITR recoverability, and processing the data for sanitization.
      required:
        - name
      type: object
      properties:
        id:
          type: UUID
          description: ID of the Availability Machine
        name:
          type: string
          description: Name of the Availability Machine
        description:
          type: string
          description: Description of the Availability Machine
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        status:
          $ref: '#/components/schemas/DmmStatus'
        clone:
          type: boolean
          description: Specifies if this Availability Machine is for a cloned database
        internal:
          type: boolean
          description: If this DMM is for internal use
        tenantId:
          type: string
        subscriptionId:
          type: string
          format: uuid
        subscription:
          type: string
          description: Dmm's subscription name
        databaseSystemId:
          type: string
          description: Data Management Machine's associated Database System Id
          format: uuid
        owner:
          type: string
          description: Data Management Machine's user
        loggedInUserRole:
          type: string
          description: The role of the logged in user for accessing the Availability Machine
        sharedWith:
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingInfo'
        sharedWithUserGroups:
          type: array
          items:
            type: string
        lastStartedAt:
          type: string
          description: Timestamp when the Availability Machine was last started at
          format: date-time
        lastStoppedAt:
          type: string
          description: Timestamp when the Availability Machine was last paused/stopped at
          format: date-time
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
        dateModified:
          type: string
          description: Timestamp when the entity was last modified
          format: date-time
        driverInfo:
          $ref: '#/components/schemas/DmmDriverInfo'
        metadata:
          $ref: '#/components/schemas/DmmMetadata'
        rpoSla:
          $ref: '#/components/schemas/TessellDmmAvailabilityDTO'
        daps:
          type: array
          items:
            $ref: '#/components/schemas/TessellDapDTO'
        clones:
          description: Clone databases that are created from this Availability Machine
          type: array
          items:
            $ref: 'database-system-api.yaml#/components/schemas/TessellServiceOpsDTO'
        backupDownloadConfig:
          description: backup download config for the service
          $ref: '#/components/schemas/BackupDownloadConfig'
    PreAuthUrlDTO:
      title: PreAuthUrlDTO
      description: This is a definition for Tessell Pre auth url Object
      required:
        - name
      type: object
      properties:
        id:
          type: UUID
          description: Tessell generated UUID for the url
          example: 123e4567-e89b-12d3-a456-426614174000
        nativeBackupId:
          type: UUID
          description: Native backup uuid
          example: 123e4567-e89b-12d3-a456-426614174000
        dmmId:
          type: UUID
          description: ID of the Availability Machine of the url
          example: 123e4567-e89b-12d3-a456-426614174000
        sourceBackupIdentifier:
          type: UUID
          description: source backup id
          example: 123e4567-e89b-12d3-a456-426614174000
        user:
          type: string
          description: email of the user
        preAuthUrl:
          description: pre auth url
          type: string
        status:
          description: pre auth url status
          $ref: '#/components/schemas/PreAuthUrlStatusOps'
        createdAt:
          type: string
          description: time of request of preauth url
          format: date-time
        expiryConfig:
          $ref: '#/components/schemas/ExpiryConfig'
          description: expiry config of the url
        dateCreated:
          type: string
          description: time of creation
          format: date-time
        dateModified:
          type: string
          description: time of modification
          format: date-time
        metadata:
          $ref: '#/components/schemas/PreAuthUrlMetadata'
    BackupDownloadConfig:
      title: BackupDownloadConfig
      description: This is a definition for backup download config
      type: object
      properties:
        allowBackupDownloadsForAllUsers:
          type: boolean
          description: Allow all users to download the backup, if false only owner/co-owner(s) will be allowed
          default: false
        allowBackupDownloads:
          type: boolean
          description: Allow download of the backup for owner/co-owner of the AM
          default: false
    TessellCloneSummaryInfo:
      title: TessellCloneSummaryInfo
      description: This is a definition for Database Clone's summary
      required:
        - name
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          description: Name of the clone database
        subscription:
          type: string
          description: Clone's subscription name
        computeType:
          type: string
          description: Clone's compute type
        status:
          type: string
          description: Status of the clone database
        cloudAvailability:
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/CloudRegionInfo'
        cloneInfo:
          type: object
          description: Miscellaneous information
          additionalProperties:
            type: string
        owner:
          type: string
          description: The user who created database clone
        dateCreated:
          type: string
          description: Timestamp when the entity was created
          format: date-time
    PauseTessellDmmPayload:
      title: PauseTessellDmmPayload
      type: object
      description: This is a definition for pausing a Tessell Data Management Machine
      properties:
        pauseAtTime:
          type: string
          format: date-time
          description: Timestamp (in UTC) when the Availability Machine should be paused. If not specified, the Availability Machine would be paused immediately
    UpdateBackupDownloadConfigPayload:
      title: AllowBackupDownloadTessellDmmPayload
      type: object
      description: This is a definition for updating backup download config.
      properties:
        allowBackupDownloadsForAllUsers:
          type: boolean
          description: Allow all users to download the backup, if false only owner(s) will be allowed
          default: true
        allowBackupDownloads:
          type: boolean
          description: Allow download of the backup for am service
          default: true
    PreAuthUrlConfig:
      title: PreAuthUrlConfig
      type: object
      properties:
        id:
          type: string
          format: uuid
        user:
          description: user id of the requester
          type: string
        expiryConfig:
          $ref: '#/components/schemas/ExpiryConfig'
          description: expiry config of the url
        preAuthUrl:
          description: pre auth url generated
          type: string
    ResumeTessellDmmPayload:
      title: ResumeTessellDmmPayload
      type: object
      description: This is a definition for resuming a Tessell Data Management Machine
      properties:
        resumeAtTime:
          type: string
          format: date-time
          description: Timestamp (in UTC) when the Availability Machine should be resumed. If not specified, the Availability Machine would be resumed immediately
    TessellDmmSizeDTO:
      title: TessellDmmSizeDTO
      type: object
      properties:
        dmm:
          type: string
          description: Availability Machine Name
        aggregatedTotalSize:
          type: integer
          format: int64
          description: Aggregated total size
        aggregatedBackupSize:
          type: integer
          format: int64
          description: Aggregated backup size
        aggregatedLogSize:
          type: integer
          format: int64
          description: Aggregated log size
        rpoSlaSize:
          $ref: '#/components/schemas/DmmSizeInfoDTO'
        dapSize:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/DmmSizeInfoDTO'
    DmmSizeInfoDTO:
      title: DmmSizeInfoDTO
      type: object
      properties:
        totalSize:
          type: integer
          format: int64
          description: Total size
        backupSize:
          type: integer
          format: int64
          description: Backup size
        logSize:
          type: integer
          format: int64
          description: Log size
    TessellDmmSizeOpsDTO:
      title: TessellDmmSizeOpsDTO
      type: object
      properties:
        dmmId:
          type: string
          format: uuid
          description: ID of Availability machine
        dmmName:
          type: string
          description: Data Management Machine name
        aggregatedTotalPhysicalSize:
          type: integer
          format: int64
          description: Aggregated total physical size
        aggregatedTotalLogicalSize:
          type: integer
          format: int64
          description: Aggregated total logical size
        aggregatedBackupPhysicalSize:
          type: integer
          format: int64
          description: Aggregated backup physical size
        aggregatedBackupLogicalSize:
          type: integer
          format: int64
          description: Aggregated backup logical size
        aggregatedLogSize:
          type: integer
          format: int64
          description: Aggregated log size
        aggregatedTemporarySize:
          type: integer
          format: int64
          description: Aggregated temporary size
        rpoSlaSize:
          $ref: '#/components/schemas/DmmSizeInfoOpsDTO'
        sanitizatizedBackups:
          $ref: '#/components/schemas/DmmSizeInfoOpsDTO'
        dapSize:
          description: Size associated as per RPO SLA
          type: object
          additionalProperties:
            $ref: '#/components/schemas/DmmSizeInfoOpsDTO'
    DmmSizeInfoOpsDTO:
      title: DmmSizeInfoOpsDTO
      type: object
      properties:
        policyName:
          type: string
          description: Associated policy/sla name
        contentType:
          $ref: '#/components/schemas/DapContentType'
        totalPhysicalSize:
          type: integer
          format: int64
          description: Total physical size
        totalLogicalSize:
          type: integer
          format: int64
          description: Total logical size
        backupPhysicalSize:
          type: integer
          format: int64
          description: Backup physical size
        backupLogicalSize:
          type: integer
          format: int64
          description: Backup logical size
        logSize:
          type: integer
          format: int64
          description: Log size
        temporarySize:
          type: integer
          format: int64
          description: Temporary size
        info:
          type: object
          description: Miscellaneous information
          additionalProperties:
            type: array
            items:
              type: string
        cloudSizeInfo:
          type: object
          description: 'The size information per cloud account'
          additionalProperties:
            $ref: '#/components/schemas/CloudAccountSizeOpsDTO'
    CloudAccountSizeOpsDTO:
      title: CloudAccountSizeOpsDTO
      type: object
      properties:
        cloudType:
          type: string
        physicalSize:
          type: integer
          format: int64
          description: Physical size
        logicalSize:
          type: integer
          format: int64
          description: Logical size
        backupPhysicalSize:
          type: integer
          format: int64
          description: Backup physical size
        backupLogicalSize:
          type: integer
          format: int64
          description: Backup logical size
        logSize:
          type: integer
          format: int64
          description: Log size
        temporarySize:
          type: integer
          format: int64
          description: Temporary size
    TessellDmmServiceConsumerDTO:
      title: TessellDmmServiceConsumerDTO
      type: object
      description: The Availability Machine is an abstraction provided by Tessell that takes care of all of the data-management and data-protection aspects for a DB Service, like capturing snapshots, backups, providing PITR recoverability, and processing the data for sanitization.
      x-terraform-resource: AvailabilityMachine
      x-terraform:
        plural-name: AvailabilityMachines
        render:
          - data_source
          - data_source_list
      properties:
        id:
          type: string
          format: uuid
          description: ID of the Availability Machine
        tessellServiceId:
          type: string
          format: uuid
          description: ID of the DB Service that is associated with the Availability Machine
        serviceName:
          type: string
          description: Name of the DB Service that is associated with the Availability Machine
        tenant:
          type: string
          description: ID of the tenant under which this Availability Machine is effective
        subscription:
          type: string
          description: Name of the subscription under which the associated DB Service is hosted
        engineType:
          x-enum: true
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
          description: Engine type for the associated DB Service
        dataIngestionStatus:
          x-enum: true
          $ref: '#/components/schemas/AmDataIngestionStatus'
          description: Status for the associated DB Service
        userId:
          type: string
          description: User details representing the owner for the Availability Machine
        owner:
          type: string
          description: User details representing the owner for the Availability Machine
        loggedInUserRole:
          type: string
          description: The role of the logged in user for accessing this Availability Machine
        sharedWith:
          description: List of users having access to the Availability Machine
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingInfo'
        cloudAvailability:
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/CloudRegionInfo'
          description: Availability Machine manages data across multiple regions within a cloud. This sections provides information about the cloud and regions where this Availability Machine is managing the data.
        rpoSla:
          $ref: '#/components/schemas/TessellDmmAvailabilityServiceView'
          description: Information about the SLA that is associated with the Availability Machine
        daps:
          type: array
          items:
            $ref: '#/components/schemas/TessellDapServiceDTO'
          description: The Access Policies (DAP) that have configured for this Availability Machine
        clones:
          type: array
          items:
            $ref: '#/components/schemas/TessellCloneSummaryInfo'
          description: The clone DB Services that have been created using contents (snapshots, Sanitized Snapshots, PITR, backups) from this Availability Machine
        dateCreated:
          type: string
          format: date-time
          description: The timestamp when the Availability Machine was incarnated
        dateModified:
          type: string
          format: date-time
          description: The timestamp when the Availability Machine was last updated
        tsm:
          type: boolean
          default: false
          description: Specify whether the associated DB Service is created using TSM compute type
        backupDownloadConfig:
          $ref: '#/components/schemas/BackupDownloadConfig'
          description: Backup download config for the service (deprecated)

    TessellAmDataflixDTO:
      title: TessellAmDataflixDTO
      type: object
      description: The Dataflix summary details
      x-terraform-resource: Dataflix
      x-terraform:
        plural-name: Dataflixes
        render:
          - data_source
          - data_source_list
        resourceIdFromSchema: availabilityMachineId
      properties:
        availabilityMachineId:
          type: string
          format: uuid
          description: ID of the Availability Machine
        tessellServiceId:
          type: string
          format: uuid
          description: ID of the associated DB Service
        serviceName:
          type: string
          description: Name of the associated DB Service
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
          description: Engine type of the associated DB Service
        cloudAvailability:
          type: array
          items:
            $ref: 'common-specification.yaml#/components/schemas/CloudRegionInfo'
          description: The cloud and region information where the data is available for access
        owner:
          type: string
          description: Owner of the Availability Machine
        tsm:
          type: boolean
          default: false
          description: Specify whether the associated DB Service is created using TSM compute type
        sharedWith:
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingSummaryInfo'
          description: List of users who have access to data provided by this Dataflix
    WeeklyCatalog:
      title: WeeklyCatalog
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    WeeklyCatalogServiceView:
      title: WeeklyCatalogServiceView
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/OldDatabaseBackup'
    YearlyCatalog:
      title: YearlyCatalog
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/DatabaseBackupOps'
    YearlyCatalogServiceView:
      title: YearlyCatalogServiceView
      type: object
      properties:
        backupCount:
          type: integer
          format: int32
        backups:
          type: array
          items:
            $ref: '#/components/schemas/OldDatabaseBackup'
    GetDmmsServiceView:
      title: GetDmmsServiceView
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TessellDmmServiceConsumerDTO"
    TessellDataflixResponse:
      title: TessellDataflixResponse
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TessellAmDataflixDTO"
    GetDmmsApiResponse:
      title: GetDmmsApiResponse
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TessellDmmDTO"
    GetDmmAvailabilityPoliciesServiceView:
      title: GetDmmAvailabilityPoliciesServiceView
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TessellDapServiceDTO"
    GetDbLogsApiResponse:
      title: GetDbLogsApiResponse
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TessellDbLogDTO"
    GetBackupsApiResponse:
      title: GetBackupsApiResponse
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/DatabaseBackupOps"
    GetDapsApiResponse:
      title: GetDapsApiResponse
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TessellDapDTO"
    GetSlasServiceView:
      title: GetSlasServiceView
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TamSlaServiceView"
    GetSlasConsumptionView:
      title: GetSlasConsumptionView
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TamSlaConsumptionView"
    GetSlaUsageView:
      title: GetSlaUsageView
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TamSlaUsageView"
    GetSlasOps:
      title: GetSlasOps
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TamSla"
    GetSchedulesOps:
      title: GetSchedulesOps
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TamSchedule"
    BackupRetentionType:
      description: Database Backup Retention Type
      type: string
      enum:
        - manual
        - daily
        - weekly
        - monthly
        - quarterly
        - yearly
      x-enum-varnames:
        - manual
        - daily
        - weekly
        - monthly
        - quarterly
        - yearly
    DbBackupRetentionType:
      description: Database Backup Retention Type for ops use
      type: string
      enum:
        - internal
        - out_of_band
        - for_db_start
        - manual
        - pitr
        - daily
        - weekly
        - monthly
        - quarterly
        - yearly
        - replica
      x-enum-varnames:
        - internal
        - out_of_band
        - for_db_start
        - manual
        - pitr
        - daily
        - weekly
        - monthly
        - quarterly
        - yearly
        - replica
    DapStatus:
      description: Database Access Policy Status
      type: string
      enum:
        - CREATING
        - ACTIVE
        - CREATION_FAILED
        - TO_BE_DELETED
        - DELETED
    DapPurpose:
      description: Purpose for the Data Access Policy
      type: string
      enum:
        - UAT
        - QA
        - Dev
        - Custom
    DapContentType:
      description: Content Type for the Data Access Policy
      type: string
      enum:
        - As-Is
        - Sanitized
        - Backup

    PreAuthUrlStatusOps:
      description: PreAuthUrl Status
      type: string
      enum:
        - TO_BE_CREATED
        - CREATING
        - CREATION_FAILED
        - AVAILABLE
        - DELETED
    PreAuthUrlStatus:
      description: PreAuthUrl Status
      type: string
      enum:
        - NOT_REQUESTED
        - CREATING
        - AVAILABLE
        - DELETING
        - EXPIRED
    DbLogStatus:
      description: Database Log Status
      type: string
      enum:
        - AVAILABLE
        - REPLICATING
        - DELETING
        - DELETED
        - DELETION_FAILED
        - REPLICATION_FAILED
    DmmAvailabilityStatus:
      description: DMM Availability Status
      type: string
      enum:
        - ACTIVE
        - DELETED
        - DELETING
        - FROZEN
        - PAUSED
    DmmStatus:
      description: DMM Status
      type: string
      enum:
        - CREATING
        - DELETED
        - DELETING
        - TO_BE_DELETED
        - DELETION_FAILED
        - DISABLED
        - PAUSED
        - RUNNING
        - FROZEN
    AmDataIngestionStatus:
      description: Availability Machine's data ingestion status
      type: string
      enum:
        - ACTIVE
        - PAUSED
        - STOPPED
    TamSlaScope:
      description: Specifies the scope for Tessell Availability Machine SLA
      type: string
      enum:
        - 'global'
        - 'inline'
        - 'user'
      x-enum-varnames:
        - 'global'
        - 'inline'
        - 'user'
    DbBackupStatus:
      description: DB Backup Status
      type: string
      enum:
        - AVAILABLE
        - CREATING
        - SOFT_DELETED
        - DELETED
        - DELETING
        - QUEUED
        - SCHEDULED
        - REPLICATING
        - DELETED_FOR_USER
        - DELETED_FOR_SLA
        - DELETION_FAILED
        - FAILED
        - PREPARING
        - REPLICATION_FAILED
    DatabaseBackupStatus:
      description: Database Backup Status
      type: string
      enum:
        - AVAILABLE
        - CREATING
        - FAILED
        - PREPARING
        - COPYING
    DbBackupType:
      description: Database Backup Type
      type: string
      enum:
        - dbNativeBackup
        - snapshotBackup
      x-enum-varnames:
        - dbNativeBackup
        - snapshotBackup
    BackupType:
      description: Backup Type
      type: string
      enum:
        - AS_IS
        - SANITIZED
    DbStorageTier:
      description: Database Storage Tier
      type: string
      enum:
        - s3
        - ebsVolumeSnapshot
      x-enum-varnames:
        - s3
        - ebsVolumeSnapshot
    WorkflowStatus:
      description: Workflow status
      type: string
      enum:
        - SUCCESS
        - FAILURE
    TessellSlaMaturityStatus:
      description: Maturity status for the SLA
      type: string
      enum:
        - DRAFT
        - PUBLISHED
        - UNPUBLISHED
    TessellSlaStatus:
      description: TessellSlaStatus
      type: string
      enum:
        - ACTIVE
        - DELETED
    UpdateTessellScriptServicePayload:
      title: UpdateTessellScriptServicePayload
      description: Tessell Update Script Service payload
      type: object
      properties:
        name:
          type: string
          maxLength: 128
          description: Name of the script.
        description:
          type: string
          maxLength: 512
          description: Description for the script.
        activeVersion:
          type: string
          description: version of the script
    CreateTessellScriptServicePayloadDTO:
      description: Create Script payload
      type: object
      properties:
        info:
          $ref: '#/components/schemas/CreateScriptPayload'
        content:
          type: string
          format: binary
          description: Script content
    CreateTessellScriptVersionServicePayloadDTO:
      description: Create Script Version payload
      type: object
      properties:
        blob:
          type: string
          format: binary
          description: File content
    CreateScriptVersionOpsPayload:
      description: Create Script Version payload
      type: object
      required:
        - base64EncodedFile
        - fileName
      properties:
        base64EncodedFile:
          type: string
          description: Base64 encoded File content
        fileName:
          type: string
          description: Filename (since base64 encoding won't have the filename)
    NativeBackupPreAuthUrlsOpsPayload:
      title: nativeBackupPreAuthUrlsPayload
      type: object
      properties:
        actionType:
          type: string
          description: action type for the workflow
        nativeBackupId:
          type: string
          format: uuid
          description: native backup Id
        sourceBackupId:
          type: string
          format: uuid
          description: Snapshot Id
        manual:
          type: boolean
          default: false
          description: Specifies if the backup-sanitization request is submitted by user
        nativeBackupName:
          type: string
          description: Name of the native backup
        preAuthUrlConfigs:
          type: array
          items:
            $ref: '#/components/schemas/PreAuthUrlConfig'
        backupLocation:
          type: string
          description: location of blob in cloud
    CreateScriptPayload:
      title: CreateScriptPayload
      type: object
      description: Payload to create a Script
      required:
        - name
        - engineType
        - scriptType
      properties:
        name:
          type: string
          maxLength: 128
          description: Name of the script
        description:
          type: string
          maxLength: 512
          description: Description for the script
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
          description: Associated database engine type for the script
        scriptType:
          $ref: "#/components/schemas/ScriptType"
          description: Type for the script
        version:
          $ref: "#/components/schemas/CreateScriptVersionPayload"
          description: Payload to create the script version
    CreateScriptOpsPayload:
      title: CreateScriptOpsPayload
      description: Tessell Create Script Service Ops payload
      allOf:
        - $ref: '#/components/schemas/CreateScriptPayload'
      type: object
      properties:
        oob:
          type: boolean
          default: true
          description: Whether the script is a oob(out-of-the-box) script
    CreateScriptVersionPayload:
      title: CreateScriptVersionPayload
      description: Payload to create a Script Version
      type: object
      properties:
        name:
          type: string
          maxLength: 128
          description: Name of version
    TessellScriptVersionServiceView:
      type: object
      description: Information about a Script Version
      properties:
        scriptId:
          type: string
          format: uuid
          description: ID of the associated script
        name:
          type: string
          maxLength: 128
          description: Version (identifier or name) of the script-version.
        version:
          type: integer
          format: int32
          description: System assigned version of the script.
        status:
          $ref: "#/components/schemas/ScriptStatus"
          description: Status of the version
        fileName:
          type: string
          description: Name of the associated version file
        fileType:
          $ref: "#/components/schemas/ScriptFileType"
          description: Type of the associated version file
        dateCreated:
          type: string
          format: date-time
          description: Timestamp when the version was created at
    TessellScriptVersionDTO:
      description: Tessell Script Version DTO definition
      type: object
      properties:
        scriptId:
          type: string
          format: uuid
        name:
          type: string
          maxLength: 128
          description: Version of the script.
        internalVersion:
          type: integer
          format: base32
          description: Internal version of the script.
        fileName:
          type: string
        fileType:
          $ref: "#/components/schemas/ScriptFileType"
        status:
          $ref: "#/components/schemas/ScriptStatus"
        maturityStatus:
          $ref: "#/components/schemas/ScriptMaturityStatus"
        locationInfo:
          $ref: '#/components/schemas/TessellScriptLocationInfo'
        metadata:
          $ref: '#/components/schemas/TessellScriptVersionMetadata'
        driverInfo:
          $ref: '#/components/schemas/TessellScriptVersionDriverInfo'
        blob:
          x-dto-annotations: |
            @ToString.Exclude
            @JsonBackReference
          type: string
          format: byte
          description: Script content
        dateCreated:
          type: string
          format: date-time
        dateModified:
          type: string
          format: date-time
    TessellScriptLocationInfo:
      title: TessellScriptLocationInfo
      type: object
      description: Script's location information
      properties:
        data:
          type: object
    TessellScriptVersionMetadata:
      title: TessellScriptVersionMetadata
      type: object
      description: Script version's metadata information
      properties:
        data:
          type: object
    TessellScriptVersionDriverInfo:
      title: TessellScriptVersionDriverInfo
      type: object
      description: Script version's driver metadata information
      properties:
        data:
          type: object
    TessellScriptServiceViewDTO:
      type: object
      description: Information about a Script
      properties:
        id:
          type: string
          format: uuid
          description: ID of the script
        name:
          type: string
          maxLength: 128
          description: Name of the script
        description:
          type: string
          maxLength: 512
          description: Description for the script
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
          description: Database engine type for the script
        scriptType:
          $ref: "#/components/schemas/ScriptType"
          description: Type of the script
        status:
          $ref: "#/components/schemas/ScriptStatus"
          description: Status of the script
        activeVersion:
          type: string
          description: Current active version for the script
        tenantId:
          type: string
          description: ID of the tenant under which the script is effective
        ownerId:
          type: string
          description: Owner of this script
        sharedWith:
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingInfo'
          description: List of users who have access to this script
        loggedInUserRole:
          type: string
          description: The role of the logged in user for accessing the Script
        oob:
          type: boolean
          default: false
          description: Whether the script is a out-of-the-box script or created by user explicitly
        dateCreated:
          type: string
          format: date-time
          description: Timestamp when this script was created at
        versions:
          type: array
          items:
            $ref: "#/components/schemas/TessellScriptVersionServiceView"
          description: The associated versions for this script
    TessellScriptDTO:
      description: Tessell Script DTO definition
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          maxLength: 128
          description: Name of the script.
        description:
          type: string
          maxLength: 512
          description: Description for the script.
        engineType:
          $ref: 'common-specification.yaml#/components/schemas/databaseEngineType'
        scriptType:
          $ref: "#/components/schemas/ScriptType"
        status:
          $ref: "#/components/schemas/ScriptStatus"
        maturityStatus:
          $ref: "#/components/schemas/ScriptMaturityStatus"
        activeVersion:
          type: string
          description: Current active version of the script
        tenantId:
          type: string
        ownerId:
          type: string
          description: Script's owner Id
        loggedInUserRole:
          type: string
          description: The role of the logged in user for accessing the Script
        metadata:
          $ref: '#/components/schemas/TessellScriptMetadata'
        driverInfo:
          $ref: '#/components/schemas/TessellScriptDriverInfo'
        oob:
          type: boolean
          default: false
          description: Whether the script is a out-of-the-box script or not.
        sharedWith:
          description: Users having shared access to the script
          $ref: 'common-specification.yaml#/components/schemas/EntityAclSharingInfo'
        dateCreated:
          type: string
          format: date-time
        dateModified:
          type: string
          format: date-time
        versions:
          type: array
          items:
            $ref: '#/components/schemas/TessellScriptVersionDTO'
    TessellScriptMetadata:
      title: TessellScriptMetadata
      type: object
      description: Script's metadata information
      properties:
        data:
          type: object
    TessellScriptDriverInfo:
      title: TessellScriptDriverInfo
      type: object
      description: Script's driver metadata information
      properties:
        data:
          type: object
    GetScriptsServiceApiResponse:
      title: GetScriptsServiceApiResponse
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TessellScriptServiceViewDTO"
    GetScriptsApiResponse:
      title: GetScriptsApiResponse
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TessellScriptDTO"
    GetScriptVersionsServiceApiResponse:
      title: GetScriptVersionsServiceApiResponse
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TessellScriptVersionServiceView"
    GetScriptVersionsApiResponse:
      title: GetScriptVersionsApiResponse
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TessellScriptVersionDTO"
    ScriptStatus:
      type: string
      description: Status of the script
      enum:
        - ENABLED
        - PENDING
        - DELETED
    ScriptMaturityStatus:
      type: string
      description: Maturity status of the script
      enum:
        - DRAFT
        - PUBLISHED
        - UNPUBLISHED
    ScriptType:
      type: string
      description: Purpose of the script
      enum:
        - MASKING
        - PRE
        - POST
    ScriptFileType:
      type: string
      description: File type of script e.g. shell, python, sql
      enum:
        - BASH_SHELL
        - PYTHON3
        - SQL
        - POWERSHELL
    TessellSanitizationScheduleCreatePayload:
      description: Tessell Sanitization Schedule create payload definition
      type: object
      required:
        - name
        - scriptId
        - scheduleInfo
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: Name of the sanitization schedule
        description:
          type: string
          minLength: 0
          maxLength: 512
          nullable: true
          description: Description for the sanitization schedule
        sanitizedBackupNamePrefix:
          type: string
          minLength: 1
          maxLength: 20
          description: Prefix to be prepended with sanitized backup names that are created as part of this schedule
        scriptId:
          type: string
          format: uuid
          description: Associated data processing script
        scriptVersionInfo:
          type: object
          description: Script Version details. If not specified, scriptVersionInfo.useActiveScriptVersion would be set to true
          properties:
            useActiveScriptVersion:
              type: boolean
              description: If true, use the version that is chosen as the Active Version for the script
            scriptVersion:
              type: string
              description: If useActiveVersion is false, use the specified version, else use the active version
        scheduleInfo:
          $ref: '#/components/schemas/SanitizationScheduleInfo'
    TessellSanitizationScheduleUpdatePayload:
      description: Tessell Sanitization Schedule update payload definition
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 128
          description: Name of the sanitization schedule
        description:
          type: string
          minLength: 0
          maxLength: 512
          nullable: true
          description: Description for the sanitization schedule
        sanitizedBackupNamePrefix:
          type: string
          minLength: 1
          maxLength: 20
          description: Prefix to be prepended with sanitized backup names that are created as part of this schedule
        scriptVersionInfo:
          type: object
          properties:
            useActiveScriptVersion:
              type: boolean
              description: If true, use the version that is chosen as the Active Version for the script
            scriptVersion:
              type: string
              description: If useActiveVersion is false, use the specified version, else use the active version
        scheduleInfo:
          $ref: '#/components/schemas/SanitizationScheduleInfo'
    TessellSanitizationScheduleServiceDTO:
      description: Tessell Sanitization Schedule Service View DTO definition
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          maxLength: 128
          description: Name of the sanitization schedule
        description:
          type: string
          maxLength: 512
          description: Description for the sanitization schedule
        availabilityMachineId:
          type: string
          format: uuid
          description: Associated Availability Machine
        scriptId:
          type: string
          format: uuid
          description: Associated data processing script
        scriptVersionInfo:
          type: object
          description: Associated Script Version
          properties:
            useActiveScriptVersion:
              type: boolean
              description: If true, use the version that is chosen as the Active Version for the script
            scriptVersion:
              type: string
              description: If useActiveVersion is false, use the specified version, else use the active version
        status:
          $ref: "#/components/schemas/SanitizationScheduleStatus"
        sanitizedBackupNamePrefix:
          type: string
          maxLength: 20
          description: Prefix to be prepended with sanitized backup names that are created as part of this schedule
        ownerId:
          type: string
        scheduleInfo:
          $ref: '#/components/schemas/SanitizationScheduleInfo'
        dateCreated:
          type: string
          format: date-time
    TessellSanitizationScheduleDTO:
      description: Tessell Sanitization Schedule DTO definition
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          maxLength: 128
          description: Name of the sanitization schedule
        description:
          type: string
          maxLength: 512
          description: Description for the sanitization schedule
        availabilityMachineId:
          type: string
          format: uuid
          description: Associated Availability Machine
        scriptId:
          type: string
          format: uuid
          description: Associated data processing script
        scriptInternalVersion:
          type: integer
          format: int32
          description: Associated Script Version
        useActiveScriptVersion:
          type: boolean
          description: If yes, use the current active version of the script
        status:
          $ref: "#/components/schemas/SanitizationScheduleStatusOps"
        sanitizedBackupNamePrefix:
          type: string
          minLength: 1
          maxLength: 20
          description: Prefix to be prepended with sanitized backup names that are created as part of this schedule
        ownerId:
          type: string
        scheduleInfo:
          $ref: '#/components/schemas/SanitizationScheduleInfo'
        metadata:
          $ref: '#/components/schemas/SanitizationScheduleMetadata'
        driverInfo:
          $ref: '#/components/schemas/SanitizationScheduleDriverInfo'
        dateCreated:
          type: string
          format: date-time
        dateModified:
          type: string
          format: date-time
    GetSanitizationSchedulesApiResponse:
      title: GetSanitizationSchedulesApiResponse
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TessellSanitizationScheduleDTO"
    GetSanitizationSchedulesServiceApiResponse:
      title: GetSanitizationSchedulesServiceApiResponse
      allOf:
        - $ref: '#/components/schemas/TessellApiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: "#/components/schemas/TessellSanitizationScheduleServiceDTO"
    SanitizationScheduleInfo:
      title: SanitizationScheduleInfo
      type: object
      properties:
        dailySchedule:
          type: object
          properties:
            retainForDays:
              type: integer
              format: int32
              description: Retention period for sanitized backups (in days)
        weeklySchedule:
          type: object
          properties:
            weekDays:
              description: Days in a week to retain weekly backups for
              uniqueItems: true
              type: array
              items:
                $ref: 'common-specification.yaml#/components/schemas/WeekDay'
            retainForWeeks:
              type: integer
              format: int32
              description: Retention period for sanitized backups (in weeks)
    SanitizationScheduleMetadata:
      title: SanitizationScheduleMetadata
      type: object
      description: Script's metadata information
      properties:
        scriptVersionName:
          type: string
        data:
          type: object
    SanitizationScheduleDriverInfo:
      title: SanitizationScheduleDriverInfo
      type: object
      description: Script's driver metadata information
      properties:
        data:
          type: object
    SanitizationScheduleStatusOps:
      type: string
      description: Status of the sanitization schedule
      enum:
        - ACTIVE
        - DISABLED
        - PAUSED
        - TO_BE_DELETED
        - DELETING
        - DELETED
        - DELETION_FAILED
    SanitizationScheduleStatus:
      type: string
      description: Status of the sanitization schedule
      enum:
        - ACTIVE
        - PAUSED
        - DELETING
    TerraformDataSourceListAvailabilityMachineExtra:
      title: TerraformDataSourceListAvailabilityMachineExtra
      type: object
      x-terraform-extra: true
      properties:
        name:
          description: Name of the Availability Machine
          type: string
        status:
          description: status
          type: string
          enum:
            - CREATING
            - FAILED
            - READY
            - STOPPING
            - STOPPED
            - DEGRADED
            - STARTING
            - DELETING
            - SWITCHOVER
            - REBUILDING
        engineType:
          description: Availaility Machine's engine-types
          type: string
          enum:
            - ORACLE
            - POSTGRESQL
            - SQLSERVER
            - MYSQL
            - APACHE_KAFKA
            - MONGODB
            - MILVUS
        owners:
          description: List of Email Addresses for entity or resource owners
          type: array
          items:
            type: string
        loadAcls:
          description: Load ACL information
          type: boolean
          default: false
    TerraformDataSourceListDataflixExtra:
      title: TerraformDataSourceListDataflixExtra
      type: object
      x-terraform-extra: true
      properties:
        name:
          description: Name of the Availability Machine (Dataflix)
          type: string
        owners:
          description: List of Email Addresses for entity or resource owners
          type: array
          items:
            type: string
        loadAcls:
          description: Load ACL information
          type: boolean
          default: false
    TerraformResourceDBSnapshotExtra:
      title: TerraformResourceDBSnapshotExtra
      type: object
      x-terraform-extra: true
      properties:
        availabilityMachineId:
          type: string
          format: uuid
          description: Id of the parent AvailabilityMachine, required when creating a clone
        blockUntilComplete:
          type: boolean
          description: For any operation on this resource, block the flow until the action has completed successfully
          default: true
          x-patchable: true
        timeout:
          type: integer
          description: If block_until_complete is true, how long it should block for. (In seconds)
          default: 1200
          x-patchable: true
    DatabaseSnapshotCloudRegionInfo:
      title: CloudRegionInfo
      description: Cloud and region details
      required:
        - cloud
      properties:
        cloud:
          $ref: 'common-specification.yaml#/components/schemas/cloudType'
          description: The cloud type
        regions:
          description: Region specific availability details for the snapshot
          type: array
          items:
            $ref: '#/components/schemas/DatabaseSnapshotRegionInfo'
    DatabaseSnapshotRegionInfo:
      title: RegionInfo
      description: Region availability details for a snapshot
      required:
        - region
      properties:
        region:
          type: string
          description: The region name
        status:
          description: The current status of the snapshot in the respective region
          type: string
          enum:
            - AVAILABLE
            - COPYING
            - NOT_AVAILABLE
    StorageSnapshotOps:
      title: StorageSnapshotOps
      description: Snapshot of the any Tessell Storage entity
      properties:
        id:
          type: string
          format: uuid
          description: Unique ID of the storage snapshot
        name:
          type: string
          description: Name of the storage snapshot
        storageId:
          type: string
          format: uuid
          description: ID of the Storage entity
        cloudResourceId:
          type: string
          description: The cloud resource id
        status:
          $ref: '#/components/schemas/StorageSnapshotStatusOps'
        storageType:
          $ref: 'common-specification.yaml#/components/schemas/StorageType'
        snapshotSize:
          type: integer
          format: int64
          description: Physical size of the snapshot in bytes
        databaseBackupId:
          type: string
          format: uuid
          description: ID of the DB Service snapshot/backup this snapshot belongs to
        copiedFromStorageSnapshotId:
          type: string
          format: uuid
          description: ID of the storage snapshot from which the current snapshot is copied. This is set for DAP replicated entries.
        dateCreated:
          type: string
          format: date-time
        dateModified:
          type: string
          format: date-time
        metadata:
          $ref: '#/components/schemas/StorageSnapshotMetadataOps'
        driverInfo:
          $ref: '#/components/schemas/StorageSnapshotDriverInfo'
    StorageSnapshotMetadataOps:
      title: StorageSnapshotMetadataOps
      type: object
      properties:
        additionalProperties:
          type: object
    StorageSnapshotDriverInfo:
      title: StorageSnapshotDriverInfo
      type: object
      properties:
        additionalProperties:
          type: object
    StorageSnapshotsResponseOps:
      title: StorageSnapshotsResponseOps
      allOf:
        - $ref: 'common-specification.yaml#/components/schemas/apiResponse'
        - type: object
          properties:
            response:
              type: array
              items:
                $ref: '#/components/schemas/StorageSnapshotOps'
    StorageSnapshotStatusOps:
      enum:
        - CREATING
        - CREATION_FAILED
        - AVAILABLE
        - REPLICATING
        - REPLICATION_FAILED
        - DELETING
        - DELETED_FOR_USER
        - DELETED
        - DELETION_FAILED
    FullBackupSchedule:
      title: FullBackupSchedule
      description: The schedule at which full backups would be triggered
      type: object
      properties:
        weeklySchedule:
          $ref: '#/components/schemas/WeeklySchedule'

  examples:
    AvailabilityMachine:
      summary: Tessell Availability Machine
      value:
        id: bd23bc2f-38e1-42d4-bd9e-f5dae62eeb85
        tessellServiceId: 4b705c41-5222-46d0-84de-cf805456afbd
        serviceName: finance-db-mysql-si
        tenant: admin@my-org.com
        subscription: default
        engineType: MYSQL
        status: RUNNING
        userId:
        owner: myself@my-org.com
        loggedInUserRole: OWNER
        sharedWith:
          users:
            - emailId: user1@my-org.com
              role: CO_OWNER
            - emailId: user2@my-org.com
              role: READ_ONLY
        cloudAvailability:
          - cloud: AWS
            regions:
              - region: ap-south-1
                availabilityZones:
                  - ap-south-1a
              - region: us-east-2
                availabilityZones:
        rpoSla:
          availabilityMachineId: bd23bc2f-38e1-42d4-bd9e-f5dae62eeb85
          availabilityMachine: finance-db-mysql-si
          cloudAvailability:
            - cloud: AWS
              regions:
                - region: ap-south-1
                  availabilityZones:
                    - ap-south-1a
          rpoSlaStatus: ACTIVE
          sla: 2-days-pitr
          schedule:
            backupStartTime:
              hour: 1
              minute: 0
            dailySchedule:
              backupsPerDay: 1
              backupStartTimes:
        daps:
          - id: 745115b2-5c0c-459f-8322-a29c8e5e2321
            name: Data Access Policy 1
            availabilityMachineId: bd23bc2f-38e1-42d4-bd9e-f5dae62eeb85
            tessellServiceId: 4b705c41-5222-46d0-84de-cf805456afbd
            serviceName: finance-db-mysql-si
            engineType: MYSQL
            contentType: As-Is
            status: ACTIVE
            contentInfo:
            cloudAvailability:
              - cloud: AWS
                regions:
                  - region: us-east-2
                    availabilityZones:
            dataAccessConfig:
              dailyBackups: 2
            owner: myself@my-org.com
            loggedInUserRole: OWNER
            sharedWith:
              users:
                - emailId: data.owner01@tessell.com
                  role: DATAFLIX
            dateCreated: '2022-08-12T10:46:04.390+00:00'
            dateModified: '2022-08-12T10:46:04.390+00:00'
        clones:
          - id: 4f32e10c-9d61-4a7c-a19d-ca121a2a0cf1
            name: finance-db-mysql-si-clone
            subscription: c5e714e9-a570-4c82-b913-abf692cea7aa
            status: READY
            cloudAvailability:
              - cloud: AWS
                regions:
                  - region: ap-south-1
                    availabilityZones:
                      - ap-south-1a
            cloneInfo:
              discreteRecovery: 'true'
              snapshotName: Auto Initial Snapshot
              type: As-Is
            owner: myself@my-org.com
            dateCreated: '2022-08-12T09:53:34.414+00:00'
        dateCreated: '2022-08-12T09:36:46.093+00:00'
        dateModified: '2022-08-12T09:47:52.353+00:00'
    GetAvailabilityMachines:
      summary: Get all Availability Machines
      value:
        metadata:
          timeZone: UTC
          records: 1
          pagination:
            pageSize: 100
            pageOffset: 0
        response:
          - id: bd23bc2f-38e1-42d4-bd9e-f5dae62eeb85
            tessellServiceId: 4b705c41-5222-46d0-84de-cf805456afbd
            serviceName: finance-db-mysql-si
            tenant: admin@my-org.com
            subscription: default
            engineType: MYSQL
            status: RUNNING
            userId:
            owner: myself@my-org.com
            loggedInUserRole: OWNER
            sharedWith:
              users:
                - emailId: user1@my-org.com
                  role: CO_OWNER
                - emailId: user2@my-org.com
                  role: READ_ONLY
            cloudAvailability:
              - cloud: AWS
                regions:
                  - region: ap-south-1
                    availabilityZones:
                      - ap-south-1a
                  - region: us-east-2
                    availabilityZones:
            rpoSla:
              availabilityMachineId: bd23bc2f-38e1-42d4-bd9e-f5dae62eeb85
              availabilityMachine: finance-db-mysql-si
              cloudAvailability:
                - cloud: AWS
                  regions:
                    - region: ap-south-1
                      availabilityZones:
                        - ap-south-1a
              rpoSlaStatus: ACTIVE
              sla: 2-days-pitr
              schedule:
                backupStartTime:
                  hour: 1
                  minute: 0
                dailySchedule:
                  backupsPerDay: 1
                  backupStartTimes:
            daps:
              - id: 745115b2-5c0c-459f-8322-a29c8e5e2321
                name: Data Access Policy 1
                availabilityMachineId: bd23bc2f-38e1-42d4-bd9e-f5dae62eeb85
                tessellServiceId: 4b705c41-5222-46d0-84de-cf805456afbd
                serviceName: finance-db-mysql-si
                engineType: MYSQL
                contentType: As-Is
                status: ACTIVE
                contentInfo:
                cloudAvailability:
                  - cloud: AWS
                    regions:
                      - region: us-east-2
                        availabilityZones:
                dataAccessConfig:
                  dailyBackups: 2
                owner: myself@my-org.com
                loggedInUserRole: OWNER
                sharedWith:
                  users:
                    - emailId: data.owner01@tessell.com
                      role: DATAFLIX
                dateCreated: '2022-08-12T10:46:04.390+00:00'
                dateModified: '2022-08-12T10:46:04.390+00:00'
            clones:
            dateCreated: '2022-08-12T09:36:46.093+00:00'
            dateModified: '2022-08-12T09:47:52.353+00:00'
    GetDataflixes:
      summary: Get all Dataflix
      value:
        metadata:
          timeZone: UTC
          records: 19
          pagination:
            pageSize: 100
            pageOffset: 0
        response:
          - availabilityMachineId: bd23bc2f-38e1-42d4-bd9e-f5dae62eeb85
            tessellServiceId: 4b705c41-5222-46d0-84de-cf805456afbd
            serviceName: finance-db-mysql-si
            engineType: MYSQL
            cloudAvailability:
              - cloud: AWS
                regions:
                  - region: ap-south-1
                    availabilityZones:
                      - ap-south-1a
            owner: myself@my-org.com
            sharedWith:
              users: []
    Dataflix:
      summary: Dataflix
      value:
        availabilityMachineId: bd23bc2f-38e1-42d4-bd9e-f5dae62eeb85
        tessellServiceId: 4b705c41-5222-46d0-84de-cf805456afbd
        serviceName: finance-db-mysql-si
        engineType: MYSQL
        cloudAvailability:
          - cloud: AWS
            regions:
              - region: ap-south-1
                availabilityZones:
                  - ap-south-1a
        owner: myself@my-org.com
        sharedWith:
          users: []
    DataflixCatalog:
      summary: Dataflix Catalog
      value:
        availabilityMachineId: bd23bc2f-38e1-42d4-bd9e-f5dae62eeb85
        tessellServiceId: 4b705c41-5222-46d0-84de-cf805456afbd
        serviceName: finance-db-mysql-si
        engineType: MYSQL
        timeZone: UTC
        owner: myself@my-org.com
        pitrCatalog:
          - cloud: AWS
            regions:
              - region: ap-south-1
                timeRanges:
                  - fromTime: '2022-08-12T09:50:01.411+00:00'
                    toTime: '2022-08-12T10:50:02.000+00:00'
                    sharedWith:
                      users:
                        - user1@my-org.com
        snapshotCatalog:
          - id: 3f8bb0b2-4dc2-4a07-98df-f610593f0bef
            name: Auto Initial Snapshot
            description: On demand snapshot for Auto Initial Snapshot
            snapshotTime: '2022-08-12T09:50:01.411+00:00'
            status: AVAILABLE
            size: 1023523
            manual: false
            cloudAvailability:
              - cloud: AWS
                regions:
                  - region: ap-south-1
                    availabilityZones:
            databases:
              - id: e4b734eb-7141-455d-b36c-80d3ba98ceb2
                name: db1
                status: READY
            sharedWith:
              users:
                - user1@my-org.com
          - id: bcb7c815-4c60-47e1-9ca6-f3665a8cbbe0
            name: manual-snapshot-1
            description:
            snapshotTime: '2022-08-12T10:42:14.906+00:00'
            status: AVAILABLE
            size: 1023523
            manual: true
            cloudAvailability:
              - cloud: AWS
                regions:
                  - region: ap-south-1
                    availabilityZones:
            databases:
              - id: e4b734eb-7141-455d-b36c-80d3ba98ceb2
                name: db1
                status: READY
            sharedWith:
              users:
                - user1@my-org.com
    CreateSnapshot:
      summary: Create a snapshot for DB Service
      value:
        name: manual-snapshot-1
        description: This is a manual snapshot taken as a bookmark for today
    DBSnapshot:
      summary: DB Service Snapshot
      value:
        id: bcb7c815-4c60-47e1-9ca6-f3665a8cbbe0
        name: manual-snapshot-1
        description: This is a manual snapshot taken as a bookmark for today
        snapshotTime: '2022-08-12T10:42:14.906+00:00'
        status: AVAILABLE
        size: 1023523
        manual: true
        cloudAvailability:
          - cloud: AWS
            regions:
              - region: ap-south-1
                availabilityZones:
        databases:
          - id: e4b734eb-7141-455d-b36c-80d3ba98ceb2
            name: db1
            status: READY
        sharedWith:
          users: []
    DeleteSnapshotPayload:
      summary: Delete DB Service Snapshot
      value:
    CreateSnapshotSummary:
      summary: Request summary for create DB Service snapshot
      value:
        taskId: 3745c8a0-cc28-46bb-8737-f83f981b9627
        taskType: createDatabaseSnapshot
        resourceId: 4725435e-1d59-4d88-b89e-303208c9924d
        details:
          databaseBackup: manual-snapshot-2
          tessellService: finance-db-mysql-si
    DeleteSnapshotSummary:
      summary: Request summary to delete DB Service snapshot
      value:
        status: success
        message: Database Backup '4725435e-1d59-4d88-b89e-303208c9924d' is scheduled for deletion and would be deleted soon.
  parameters:
    storage-id-in-query:
      name: storage-id
      in: query
      schema:
        type: string
        format: uuid
    database-backup-id-in-query:
      name: database-backup-id
      in: query
      schema:
        type: string
        format: uuid
    storage-statuses-in-query:
      name: statuses
      in: query
      schema:
        type: array
        items:
          $ref: '#/components/schemas/StorageSnapshotStatusOps'
    storage-skip-statuses-in-query:
      name: skip-statuses
      in: query
      schema:
        type: array
        items:
          $ref: '#/components/schemas/StorageSnapshotStatusOps'
    storage-types-in-query:
      name: storage-types
      in: query
      schema:
        type: array
        items:
          $ref: 'common-specification.yaml#/components/schemas/StorageType'
    db-backup-type-in-query:
      name: db-backup-type
      in: query
      schema:
        $ref: '#/components/schemas/DbBackupType'
    storage-id-in-path-required:
      name: storage-id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    snapshot-id-in-path-required:
      name: snapshot-id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    soft-delete-in-query:
      name: soft-delete
      in: query
      required: false
      schema:
        type: boolean
        default: true
    load-storage-snapshots-in-query:
      name: load-storage-snapshots
      in: query
      required: false
      schema:
        type: boolean
        default: false
    light-weight-in-query:
      name: light-weight
      in: query
      description: If set to true, plugin related fields like driverInfo/metadata won't be returned.
      required: false
      schema:
        type: boolean
    light-weight-in-query-def-true:
      name: light-weight
      in: query
      description: If set to true, plugin related fields like driverInfo/metadata won't be returned.
      required: false
      schema:
        type: boolean
        default: true
    dap-based-in-query:
      name: dap-based
      in: query
      description: |
        Whether to fetch resources associated with a data access policy (DAP). If null,
        both dap-based/not-dap-based resources would be null, if true/false, only 
        dap-based/non-dap-based would be returned.
      required: false
      schema:
        type: boolean
    dap-id-in-query:
      name: dap-id
      in: query
      description: Data access policy id to filter the results upon.
      required: false
      schema:
        type: string
        format: uuid
    dap-id-in-path-reqd:
      name: dapId
      in: path
      description: ID of the DAP
      required: true
      schema:
        type: string
        format: uuid
    dmm-id-in-path-reqd:
      name: dmmId
      in: path
      description: ID of the availability machine
      required: true
      schema:
        type: string
        format: uuid
    cloud-location-in-query:
      name: cloud-location
      in: query
      description: Cloud-location of the resource
      schema:
        type: string
    dap-statuses-in-query:
      name: statuses
      in: query
      description: DAP status to filter upon
      schema:
        type: array
        items:
          $ref: '#/components/schemas/DapStatus'